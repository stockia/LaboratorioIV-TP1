import{$ as ge,A as p,Aa as O,B as de,C as a,Ca as E,D as K,Da as k,E as y,F as ue,Fa as T,Ga as Ee,J as F,K as pe,L as X,N as Y,O as D,P as Z,Q as w,R as ee,S as fe,_ as ae,a as g,aa as v,b as N,ba as he,c as $,ca as Ce,d as H,da as _e,e as J,fa as M,g as S,h as Q,ha as ve,i as h,ia as be,j as C,ja as xe,ka as ye,l as ce,la as Se,m as G,ma as Fe,n as s,na as we,o as _,oa as Me,p as c,q as m,r as me,ra as Oe,s as u,t as r,u as o,ua as P,v as f,y as b,z as d}from"./chunk-33ITW7KE.js";function Ie(n,e){n&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function Pe(n,e){n&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function Te(n,e){n&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function qe(n,e){n&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function Ge(n,e){n&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function Ne(n,e){n&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function De(n,e){n&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}var I=class n{constructor(e,t){this.firestore=e;this.userService=t;this.surveyForm=new _e({firstName:new M("",[v.required,v.minLength(2)]),lastName:new M("",[v.required,v.minLength(2)]),email:new M(this.userService.userEmail,[v.required,v.email]),age:new M("",[v.required,v.min(18),v.max(99)]),cellphone:new M("",[v.required,v.minLength(10),v.maxLength(10),v.pattern("^[0-9]*$")]),question1:new M("",v.required),question2:new M("",v.required),question3:new M("",v.required),date:new M(new Date().toISOString())})}closeForm=new ce;surveyForm;isLoading=!1;onSubmit(){return g(this,null,function*(){try{if(this.surveyForm.valid){this.isLoading=!0;let e=k(this.firestore,"survey-results");yield E(e,this.surveyForm.value),this.isLoading=!1}}catch(e){console.log(e)}})}close(){this.closeForm.emit()}static \u0275fac=function(t){return new(t||n)(_(O),_(Ee))};static \u0275cmp=S({type:n,selectors:[["app-form"]],outputs:{closeForm:"closeForm"},standalone:!0,features:[F],decls:61,vars:9,consts:[[1,"custom-form",3,"formGroup"],["type","button",1,"close-btn",3,"click"],[1,"bi","bi-x"],[1,"form-group"],["for","exampleFormControlInput1"],["type","text","id","firstNameInput","name","firstName","formControlName","firstName",1,"form-control"],[1,"text-danger"],["type","text","id","lastNameInput","formControlName","lastName",1,"form-control"],["type","email","id","emailInput","formControlName","email","readonly","",1,"form-control"],["for","exampleFormControlSelect1"],["type","number","id","ageInput","formControlName","age",1,"form-control"],["for","exampleFormControlSelect2"],["type","number","id","cellphoneInput","formControlName","cellphone",1,"form-control"],["multiple","","id","question1Input","formControlName","question1",1,"form-control"],["for","question3Input"],["id","question3Input","formControlName","question3",1,"form-control"],["value","poco probable"],["value","seguramente lo haga"],["value","de inmediato"],["for","question2Input"],["id","question2Input","rows","3","formControlName","question2",1,"form-control","no-resize"],[1,"text-center"],["type","submit",1,"btn","btn-primary","mt-2",3,"click","disabled"]],template:function(t,i){if(t&1&&(r(0,"form",0)(1,"button",1),d("click",function(){return i.close()}),f(2,"i",2),o(),r(3,"div",3)(4,"label",4),a(5,"Nombre"),o(),f(6,"input",5),c(7,Ie,2,0,"small",6),o(),r(8,"div",3)(9,"label",4),a(10,"Apellido"),o(),f(11,"input",7),c(12,Pe,2,0,"small",6),o(),r(13,"div",3)(14,"label",4),a(15,"Correo electr\xF3nico"),o(),f(16,"input",8),o(),r(17,"div",3)(18,"label",9),a(19,"Edad"),o(),f(20,"input",10),c(21,Te,2,0,"small",6),o(),r(22,"div",3)(23,"label",11),a(24,"Celular"),o(),f(25,"input",12),c(26,qe,2,0,"small",6),o(),r(27,"div",3)(28,"label",11),a(29,"\xBFQu\xE9 puntuaci\xF3n le dar\xEDas al juego?"),o(),r(30,"select",13)(31,"option"),a(32,"\u2B50\uFE0F"),o(),r(33,"option"),a(34,"\u2B50\uFE0F\u2B50\uFE0F"),o(),r(35,"option"),a(36,"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F"),o(),r(37,"option"),a(38,"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F"),o(),r(39,"option"),a(40,"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F"),o()(),c(41,Ge,2,0,"small",6),o(),r(42,"div",3)(43,"label",14),a(44,"\xBFQu\xE9 tan probable es que vuelvas a jugar?"),o(),r(45,"select",15)(46,"option",16),a(47,"Poco probable"),o(),r(48,"option",17),a(49,"Seguramente lo haga"),o(),r(50,"option",18),a(51,"Voy a volver a jugar de inmediato"),o()(),c(52,Ne,2,0,"small",6),o(),r(53,"div",3)(54,"label",19),a(55,"Sugerencias"),o(),f(56,"textarea",20),c(57,De,2,0,"small",6),o(),r(58,"div",21)(59,"button",22),d("click",function(){return i.onSubmit()}),a(60,"Enviar"),o()()()),t&2){let l,x,L,z,R,B,U;m("formGroup",i.surveyForm),s(7),u(!((l=i.surveyForm.get("firstName"))==null||l.errors==null)&&l.errors.required&&((l=i.surveyForm.get("lastName"))!=null&&l.touched)?7:-1),s(5),u(!((x=i.surveyForm.get("lastName"))==null||x.errors==null)&&x.errors.required&&((x=i.surveyForm.get("lastName"))!=null&&x.touched)?12:-1),s(9),u(!((L=i.surveyForm.get("age"))==null||L.errors==null)&&L.errors.required&&((L=i.surveyForm.get("lastName"))!=null&&L.touched)?21:-1),s(5),u(!((z=i.surveyForm.get("cellphone"))==null||z.errors==null)&&z.errors.required&&((z=i.surveyForm.get("lastName"))!=null&&z.touched)?26:-1),s(15),u(!((R=i.surveyForm.get("question1"))==null||R.errors==null)&&R.errors.required&&((R=i.surveyForm.get("lastName"))!=null&&R.touched)?41:-1),s(11),u(!((B=i.surveyForm.get("question3"))==null||B.errors==null)&&B.errors.required&&((B=i.surveyForm.get("lastName"))!=null&&B.touched)?52:-1),s(5),u(!((U=i.surveyForm.get("question2"))==null||U.errors==null)&&U.errors.required&&((U=i.surveyForm.get("lastName"))!=null&&U.touched)?57:-1),s(2),m("disabled",i.surveyForm.invalid)}},dependencies:[Oe,ve,Fe,Me,ge,be,Se,we,he,Ce,xe,ye],styles:["body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80vh;margin:0}.custom-form[_ngcontent-%COMP%]{height:45vh;box-shadow:0 4px 10px #0000001a;overflow:auto;position:relative;padding:40px 20px 20px}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:100;border:none;background:transparent;font-size:1.5rem;cursor:pointer}.bi-x[_ngcontent-%COMP%]{font-size:1.5rem}.no-resize[_ngcontent-%COMP%]{resize:none}"]})};function je(n,e){if(n&1&&(r(0,"span"),a(1),o()),n&2){let t=e.$implicit;s(),y("",t," ")}}function Ve(n,e){if(n&1){let t=b();r(0,"button",12),d("click",function(){let l=h(t).$implicit,x=p();return C(x.guessLetter(l))}),a(1),o()}if(n&2){let t=e.$implicit,i=p();m("disabled",i.guessedLetters.includes(t)||i.isGameOver()||i.gameWon),s(),y(" ",t," ")}}function Ae(n,e){n&1&&a(0,"Guardando resultado")}function We(n,e){n&1&&a(0,"Finalizar")}function Le(n,e){if(n&1){let t=b();r(0,"div",13),a(1," \xA1Felicidades! Has ganado. "),r(2,"button",14),d("click",function(){h(t);let l=p();return C(l.restartGame())}),a(3,"Jugar de nuevo"),o()()}}function ze(n,e){if(n&1){let t=b();r(0,"div",15),a(1),r(2,"button",14),d("click",function(){h(t);let l=p();return C(l.restartGame())}),a(3,"Reiniciar Juego"),o()()}if(n&2){let t=p();s(),y(" \xA1Has perdido! La palabra era: ",t.wordToGuess," ")}}function Re(n,e){if(n&1){let t=b();r(0,"div",11)(1,"app-form",16),d("closeForm",function(){h(t);let l=p();return C(l.onCloseForm())}),o()()}}var j=class n{constructor(e,t){this.firestore=e;this.auth=t}words=["independiente","programacion","angular","typescript","desarrollo","javascript","tecnologia","software"];wordToGuess="";displayWord=[];incorrectGuesses=0;maxIncorrectGuesses=6;guessedLetters=[];hasWonOne=!1;alphabet="abcdefghijklmnopqrstuvwxyz".split("");gameWon=!1;points=10;isSavingScore=!1;openForm=!1;ngOnInit(){this.initializeGame()}initializeGame(){this.wordToGuess=this.getRandomWord(),this.displayWord=this.wordToGuess.split("").map(()=>"_"),this.guessedLetters=[],this.incorrectGuesses=0,this.gameWon=!1}getRandomWord(){let e=Math.floor(Math.random()*this.words.length);return this.words[e]}guessLetter(e){this.guessedLetters.includes(e)||this.gameWon||(this.guessedLetters.push(e),this.wordToGuess.includes(e)?this.wordToGuess.split("").forEach((t,i)=>{t===e&&(this.displayWord[i]=e)}):(this.incorrectGuesses++,this.points--),this.isGameWon()&&(this.gameWon=!0))}isGameWon(){let e=this.displayWord.join("")===this.wordToGuess;return e&&(this.hasWonOne=!0),e}isGameOver(){return this.incorrectGuesses>=this.maxIncorrectGuesses}restartGame(){this.points+=10,this.isGameOver()&&(this.points=10,this.hasWonOne=!1),this.initializeGame()}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.isSavingScore=!0;let t={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Ahorcado"},i=k(this.firestore,"users-scores");yield E(i,t),this.openForm=!0,this.isSavingScore=!1}})}onCloseForm(){this.openForm=!1}static \u0275fac=function(t){return new(t||n)(_(O),_(P))};static \u0275cmp=S({type:n,selectors:[["app-ahorcado"]],standalone:!0,features:[F],decls:25,vars:12,consts:[[1,"container","text-center","mt-5","game-container"],[1,"my-4"],[4,"ngFor","ngForOf"],[1,"person"],["alt","Imagen del ahorcado",1,"img-fluid","hangman-image",3,"src"],[1,"d-flex","flex-wrap","justify-content-center"],["class","btn btn-outline-light m-1",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"btn","btn-secondary",3,"click","disabled"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"overlay"],[1,"btn","btn-outline-light","m-1",3,"click","disabled"],[1,"alert","alert-success"],[1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[3,"closeForm"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"h1"),a(2,"Ahorcado"),o(),r(3,"div",1)(4,"h2"),c(5,je,2,1,"span",2),o()(),r(6,"div",1)(7,"p"),a(8),o(),r(9,"p"),a(10),o()(),r(11,"div",3),f(12,"img",4),o(),r(13,"div",1)(14,"div",5),c(15,Ve,2,2,"button",6),o(),r(16,"div",7)(17,"button",8),d("click",function(){return i.finishGame()}),c(18,Ae,1,0)(19,We,1,0),o()()(),r(20,"div",1),c(21,Le,4,0,"div",9)(22,ze,4,1,"div",10),o()(),c(23,Re,2,0,"div",11),f(24,"app-chat")),t&2&&(s(5),m("ngForOf",i.displayWord),s(3),ue("Intentos incorrectos: ",i.incorrectGuesses," / ",i.maxIncorrectGuesses,""),s(2),y("Puntos: ",i.points,""),s(2),de("src","assets/games/hangman/error-",i.incorrectGuesses,".png",G),s(3),m("ngForOf",i.alphabet),s(2),m("disabled",!i.hasWonOne),s(),u(i.isSavingScore?18:19),s(3),m("ngIf",i.isGameWon()),s(),m("ngIf",i.isGameOver()),s(),u(i.openForm?23:-1))},dependencies:[w,D,Z,T,I],styles:[".game-container[_ngcontent-%COMP%]{background-color:#383838b8;border-radius:10px;padding:20px}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:30px;border-bottom:px solid #000;text-transform:uppercase;font-size:24px;margin:0 2px}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}button[disabled][_ngcontent-%COMP%]{opacity:.6}.person[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.upper-body[_ngcontent-%COMP%], .lower-body[_ngcontent-%COMP%]{display:flex;justify-content:center}.person-emoji[_ngcontent-%COMP%]{font-size:1.8rem}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}.hangman-image[_ngcontent-%COMP%]{width:250px}"]})};var ie=class n{constructor(e){this.http=e}apiUrl="https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1";getDeck(){return this.http.get(this.apiUrl)}getOneCard(e){let t=`https://www.deckofcardsapi.com/api/deck/${e}/draw/?count=1`;return this.http.get(t)}static \u0275fac=function(t){return new(t||n)(J(ee))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function $e(n,e){if(n&1&&(r(0,"div",2)(1,"div",11),f(2,"img",12),o()()),n&2){let t=p();s(2),m("src",t.prevCard.images.png,G)}}function He(n,e){if(n&1&&(r(0,"div",3)(1,"div",13),f(2,"img",12),o()()),n&2){let t=p();s(2),m("src",t.currentCard.images.png,G)}}function Je(n,e){n&1&&f(0,"span",4)}function Qe(n,e){if(n&1){let t=b();r(0,"div",6)(1,"p",8),a(2,"\xBFLa siguiente carta ser\xE1 mayor o menor?"),o(),r(3,"button",14),d("click",function(){h(t);let l=p();return C(l.guess(!0))}),a(4,"Mayor"),o(),r(5,"button",14),d("click",function(){h(t);let l=p();return C(l.guess(!1))}),a(6,"Menor"),o()()}}function Ke(n,e){n&1&&a(0,"Guardando resultado")}function Xe(n,e){n&1&&a(0,"Finalizar")}function Ye(n,e){if(n&1){let t=b();r(0,"div",10)(1,"app-form",15),d("closeForm",function(){h(t);let l=p();return C(l.onCloseForm())}),o()()}}var V=class n{constructor(e,t,i){this.cardService=e;this.firestore=t;this.auth=i}deckId="";points=0;message="";gameOver=!1;currentCard;newCard;prevCard;isLoadingCurrentCard=!0;isSavingScore=!1;hasWonOne=!1;openForm=!1;ngOnInit(){this.startGame()}startGame(){return g(this,null,function*(){try{let e=yield N(this.cardService.getDeck());this.hasWonOne=!1,this.deckId=e.deck_id,this.points=10,yield this.drawCard(),this.currentCard=this.newCard,this.isLoadingCurrentCard=!1,this.message="\xA1Mazo de cartas creado! \xBFListo para jugar?"}catch(e){console.error("Error fetching deck:",e),this.message="Error al obtener el mazo de cartas."}})}drawCard(){return g(this,null,function*(){if(this.deckId)try{let e=yield N(this.cardService.getOneCard(this.deckId));e.success?this.newCard=e.cards[0]:this.message="No se pudo dibujar la carta."}catch(e){console.error("Error drawing card:",e),this.message="Error al dibujar la carta."}})}guess(e){return g(this,null,function*(){if(this.isLoadingCurrentCard=!0,yield this.drawCard(),this.currentCard&&this.newCard){let t=parseInt(this.currentCard.value),i=parseInt(this.newCard.value);e&&i>t?(this.points+=1,this.hasWonOne=!0,this.message="\xA1Correcto! La siguiente carta es mayor."):!e&&i<t?(this.points+=1,this.hasWonOne=!0,this.message="\xA1Correcto! La siguiente carta es menor."):(this.points>0&&(this.points-=1),this.message="\xA1Incorrecto! La siguiente carta no es lo que pensabas."),this.prevCard=this.currentCard,this.currentCard=this.newCard}else this.message="No se pudo obtener la siguiente carta.";this.isLoadingCurrentCard=!1})}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.isSavingScore=!0;let t={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Mayor-Menor"},i=k(this.firestore,"users-scores");yield E(i,t),this.openForm=!0,this.isSavingScore=!1}})}onCloseForm(){this.openForm=!1}static \u0275fac=function(t){return new(t||n)(_(ie),_(O),_(P))};static \u0275cmp=S({type:n,selectors:[["app-mayor-menor"]],standalone:!0,features:[F],decls:22,vars:9,consts:[[1,"container","text-center","mt-5","game-container"],[1,"my-4","d-flex","align-items-center","justify-content-center"],[1,"prev-card-body","align-items-center","justify-content-center"],[1,"card","mx-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["class","my-4",4,"ngIf"],[1,"my-4"],[1,"h5"],[1,"h4"],[1,"btn","btn-secondary","m-2",3,"click","disabled"],[1,"overlay"],[1,"prev-card-body","d-flex"],["alt","Carta",3,"src"],[1,"card-body","d-flex","align-items-center","justify-content-center"],[1,"btn","btn-primary","m-2",3,"click"],[3,"closeForm"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"h1"),a(2,"Juego Mayor o Menor"),o(),r(3,"div",1),c(4,$e,3,1,"div",2)(5,He,3,1,"div",3)(6,Je,1,0,"span",4),o(),c(7,Qe,7,0,"div",5),r(8,"div",6)(9,"p",7),a(10),o()(),r(11,"div",6)(12,"p",8),a(13),o()(),r(14,"div",6)(15,"button",9),d("click",function(){return i.startGame()}),a(16," Reiniciar Juego "),o(),r(17,"button",9),d("click",function(){return i.finishGame()}),c(18,Ke,1,0)(19,Xe,1,0),o()()(),c(20,Ye,2,0,"div",10),f(21,"app-chat")),t&2&&(s(4),u(i.prevCard?4:-1),s(),u(i.isLoadingCurrentCard?6:5),s(2),m("ngIf",!i.gameOver),s(3),K(i.message),s(3),y("Puntos: ",i.points,""),s(2),m("disabled",i.isSavingScore),s(2),m("disabled",!i.hasWonOne||i.isSavingScore),s(),u(i.isSavingScore?18:19),s(2),u(i.openForm?20:-1))},dependencies:[w,Z,T,I],styles:[".game-container[_ngcontent-%COMP%]{background-color:#383838b8;border-radius:10px;padding:20px}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#fff}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:150px}.prev-card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:135px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}"]})};var oe=class n{constructor(e){this.http=e}apiUrl="https://thronesapi.com/api/v2/Characters/";getCharacter(e){let t=`${this.apiUrl}${e}`;return this.http.get(t)}static \u0275fac=function(t){return new(t||n)(J(ee))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var et=(n,e)=>({"bg-success-transparent":n,"bg-danger-transparent":e}),tt=n=>["btn","btn-character-name",n];function nt(n,e){n&1&&(r(0,"div",1)(1,"h1"),a(2,"Preguntados"),o(),f(3,"div",4),o())}function it(n,e){if(n&1){let t=b();r(0,"div",16)(1,"button",17),d("click",function(){let l=h(t).$implicit,x=p(2);return C(x.handleGuess(l))}),a(2),o()()}if(n&2){let t=e.$implicit,i=p(2);s(),m("disabled",i.isCorrect!==null)("ngClass",pe(3,tt,i.isCorrect===null?"btn-secondary":t===i.correctCharacterName?"btn-success":"btn-danger")),s(),y(" ",t," ")}}function ot(n,e){if(n&1&&(r(0,"div",10),a(1),o()),n&2){let t=p(2);s(),y(" ",t.isCorrect?"\u{1F389}\xA1Correcto!\u{1F389}":"\u{1F6A9}Incorrecto. Int\xE9ntalo de nuevo.\u{1F6A9}"," ")}}function rt(n,e){n&1&&a(0,"Guardando resultado")}function at(n,e){n&1&&a(0,"Finalizar")}function st(n,e){if(n&1){let t=b();r(0,"div",2)(1,"h1"),a(2,"Preguntados"),o(),r(3,"div",5),f(4,"img",6),o(),r(5,"div",7)(6,"div",8),c(7,it,3,5,"div",9),o()(),c(8,ot,2,1,"div",10),r(9,"div",11)(10,"p",12),a(11),o()(),r(12,"div",11)(13,"button",13),d("click",function(){h(t);let l=p();return C(l.handleNextRound())}),f(14,"i",14),a(15," Siguiente ronda "),o(),r(16,"button",15),d("click",function(){h(t);let l=p();return C(l.finishGame())}),c(17,rt,1,0)(18,at,1,0),o()()()}if(n&2){let t=p();m("ngClass",X(8,et,t.isCorrect===!0,t.isCorrect===!1)),s(4),m("src",t.selectedCharacter.imageUrl,G),s(3),m("ngForOf",t.options),s(),u(t.isCorrect!==null?8:-1),s(3),y("Puntos: ",t.points,""),s(2),m("disabled",t.isSavingScore),s(3),m("disabled",!t.hasWonOne||t.isSavingScore),s(),u(t.isSavingScore?17:18)}}function lt(n,e){if(n&1){let t=b();r(0,"div",3)(1,"app-form",18),d("closeForm",function(){h(t);let l=p();return C(l.onCloseForm())}),o()()}}var A=class n{constructor(e,t,i){this.preguntadosService=e;this.auth=t;this.firestore=i}apiMaxId=52;apiMinId=1;usedIds=[];selectedCharacter;otherCharacters=[];isCorrect=null;isLoading=!1;points=0;hasWonOne=!1;isSavingScore=!1;openForm=!1;ngOnInit(){this.startGame()}startGame(){return g(this,null,function*(){try{this.isLoading=!0;let e=this.getRandomNumber();yield this.selectCharacter(e),this.otherCharacters=yield this.getOtherCharacters(),this.isLoading=!1}catch(e){console.error("Error fetching character:",e)}})}getRandomNumber(){let e=this.apiMinId,t=this.apiMaxId,i=Math.floor(Math.random()*(t-e+1))+e;for(;this.usedIds.includes(i);)i=Math.floor(Math.random()*(t-e+1))+e;return i}playGame(){return g(this,null,function*(){try{let e=this.getRandomNumber();yield this.selectCharacter(e),this.otherCharacters=yield this.getOtherCharacters()}catch(e){console.error("Error fetching character:",e)}})}selectCharacter(e){return g(this,null,function*(){try{this.usedIds.push(e),this.selectedCharacter=yield N(this.preguntadosService.getCharacter(e))}catch(t){console.error("Error fetching character:",t)}})}getOtherCharacters(){return g(this,null,function*(){let e=[];for(let t=0;t<2;t++){let i=this.getRandomNumber();for(;this.usedIds.includes(i);)i=this.getRandomNumber();let l=yield N(this.preguntadosService.getCharacter(i));e.push(l)}return e})}handleNextRound(){this.isCorrect=null,this.startGame()}handleGuess(e){e===this.selectedCharacter.fullName?(this.isCorrect=!0,this.hasWonOne=!0,this.points+=1):(this.isCorrect=!1,this.points>0&&(this.points-=1))}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.isSavingScore=!0;let t={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Preguntados"},i=k(this.firestore,"users-scores");yield E(i,t),this.points=0,this.hasWonOne=!1,this.openForm=!0,this.isSavingScore=!1}})}get options(){return[this.selectedCharacter.fullName,...this.otherCharacters.map(e=>e.fullName)]}get correctCharacterName(){return this.selectedCharacter.fullName}onCloseForm(){this.openForm=!1}static \u0275fac=function(t){return new(t||n)(_(oe),_(P),_(O))};static \u0275cmp=S({type:n,selectors:[["app-preguntados"]],standalone:!0,features:[F],decls:5,vars:2,consts:[[1,"container","text-center","mt-5","container-preguntados"],[1,"card-body","d-flex","flex-column","align-items-center","loader-container"],[1,"card-body","d-flex","flex-column","align-items-center","character-card",3,"ngClass"],[1,"overlay"],[1,"loader"],[1,"d-flex","justify-content-center","mt-5"],["alt","Character to guess",1,"rounded-circle","bg-light",2,"width","150px","height","150px","object-fit","cover",3,"src"],[1,"w-100","mt-4"],[1,"row","g-2"],["class","col-12",4,"ngFor","ngForOf"],[1,"text-center","mt-3","text-result"],[1,"my-4"],[1,"h4"],[1,"btn","btn-primary","mt-4","mb-5","m-2",3,"click","disabled"],[1,"bi","bi-shuffle","me-2"],[1,"btn","btn-secondary","mt-4","mb-5","m-2",3,"click","disabled"],[1,"col-12"],[3,"click","disabled","ngClass"],[3,"closeForm"]],template:function(t,i){t&1&&(r(0,"div",0),c(1,nt,4,0,"div",1)(2,st,19,11,"div",2),o(),c(3,lt,2,0,"div",3),f(4,"app-chat")),t&2&&(s(),u(i.isLoading?1:2),s(2),u(i.openForm?3:-1))},dependencies:[w,Y,D,T,I],styles:[".container-preguntados[_ngcontent-%COMP%]{min-width:25%;max-width:50%}.loader-container[_ngcontent-%COMP%]{height:65vh;background-color:#00000080;border-radius:10px}.character-card[_ngcontent-%COMP%]{background-color:#00000080;border-radius:10px}.btn-character-name[_ngcontent-%COMP%]{min-width:20%;max-width:25%}.bg-success-transparent[_ngcontent-%COMP%]{background-color:#28a745cc}.bg-danger-transparent[_ngcontent-%COMP%]{background-color:#dc3545cc}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#fff}.text-result[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.loader[_ngcontent-%COMP%]{margin-top:3rem;width:150px;height:150px;border-radius:50%;animation:_ngcontent-%COMP%_loading 2s linear infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-color:#f3f3f3}50%{background-color:#3498db}to{background-color:#f3f3f3}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}"]})};var ct=(n,e)=>({"bg-success-transparent":n,"bg-danger-transparent":e});function mt(n,e){if(n&1){let t=b();r(0,"div",16),d("click",function(){let l=h(t).$implicit,x=p();return C(x.onColorClick(l))}),o()}if(n&2){let t=e.$implicit;me("background-color",t)}}function dt(n,e){n&1&&a(0,"Guardando resultado...")}function ut(n,e){n&1&&a(0,"Finalizar")}function pt(n,e){n&1&&(r(0,"div",13)(1,"p"),a(2,"Te equivocaste, el juego se termin\xF3 \u{1F62D}"),o()())}function ft(n,e){n&1&&(r(0,"div",14)(1,"p"),a(2,"Ganaste \u{1F4A5}\u{1FAE8}\u{1F4A5}"),o()())}function gt(n,e){if(n&1){let t=b();r(0,"div",15)(1,"app-form",17),d("closeForm",function(){h(t);let l=p();return C(l.onCloseForm())}),o()()}}var W=class n{constructor(e,t){this.auth=e;this.firestore=t}colors=["red","green","blue","yellow"];sequence=[];userSequence=[];points=0;gameStarted=!1;isGameOver=!1;hasWon=!1;maxSequences=15;hasWonOne=!1;isSavingScore=!1;openForm=!1;ngOnInit(){this.resetGame()}startGame(){this.sequence=[],this.userSequence=[],this.points=0,this.gameStarted=!0,this.addToSequence()}stopGame(){this.gameStarted=!1}resetGame(){this.sequence=[],this.userSequence=[],this.points=0,this.gameStarted=!1,this.hasWon=!1,this.isGameOver=!1,this.hasWonOne=!1}addToSequence(){if(this.sequence.length<=this.maxSequences){let t=this.colors[Math.floor(Math.random()*this.colors.length)];this.sequence.push(t),this.highlightSequence()}else this.gameOver(!0)}checkSequence(){for(let e=0;e<this.userSequence.length;e++)if(this.userSequence[e]!==this.sequence[e]){this.gameOver(!1);return}this.userSequence.length===this.sequence.length&&(this.points+=10,this.userSequence=[],this.addToSequence(),this.hasWonOne=!0)}gameOver(e){e?this.hasWon=!0:(this.hasWonOne=!1,this.isGameOver=!0),this.gameStarted=!1}highlightSequence(){let e=0,t=setInterval(()=>{if(e>=this.sequence.length){clearInterval(t);return}this.flashColor(this.sequence[e]),e++},1e3)}flashColor(e){let t=document.querySelector(`div[style*="${e}"]`);t&&(t.classList.add("active"),setTimeout(()=>{t.classList.remove("active")},500))}onColorClick(e){this.gameStarted&&(this.userSequence.push(e),this.flashColor(e),this.checkSequence())}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.gameStarted=!1,this.isSavingScore=!0;let t={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Simon"},i=k(this.firestore,"users-scores");yield E(i,t),this.openForm=!0,this.isSavingScore=!1,this.resetGame()}})}onCloseForm(){this.openForm=!1}static \u0275fac=function(t){return new(t||n)(_(P),_(O))};static \u0275cmp=S({type:n,selectors:[["app-simon"]],standalone:!0,features:[F],decls:25,vars:12,consts:[[1,"container","container-game-app","mt-3"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"game-container",3,"ngClass"],[1,"game-board","d-grid","pt-3","pb-1","pl-3","pr-3"],["class","game-board-cell",3,"background-color","click",4,"ngFor","ngForOf"],[1,"game-controls","d-flex","justify-content-center","mt-2"],["id","start",1,"game-button","btn","btn-primary","m-2",3,"click","disabled"],["id","stop",1,"game-button","btn","btn-danger","m-2",3,"click","disabled"],["id","reset",1,"game-button","btn","btn-warning","m-2",3,"click","disabled"],[1,"game-score","text-center"],["id","score"],[1,"game-result","game-over","text-center"],[1,"game-result","has-won","text-center"],[1,"overlay"],[1,"game-board-cell",3,"click"],[3,"closeForm"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Juego Simon"),o(),r(5,"div",4)(6,"div",5),c(7,mt,1,2,"div",6),o(),r(8,"div",7)(9,"button",8),d("click",function(){return i.startGame()}),a(10," Iniciar "),o(),r(11,"button",9),d("click",function(){return i.finishGame()}),c(12,dt,1,0)(13,ut,1,0),o(),r(14,"button",10),d("click",function(){return i.resetGame()}),a(15," Resetear "),o()(),r(16,"div",11)(17,"p"),a(18,"Puntuaci\xF3n: "),r(19,"span",12),a(20),o()()(),c(21,pt,3,0,"div",13)(22,ft,3,0,"div",14),o()()()(),c(23,gt,2,0,"div",15),f(24,"app-chat")),t&2&&(s(5),m("ngClass",X(9,ct,i.hasWon===!0,i.isGameOver===!0)),s(2),m("ngForOf",i.colors),s(2),m("disabled",i.isSavingScore),s(2),m("disabled",!i.hasWonOne||i.isSavingScore),s(),u(i.isSavingScore?12:13),s(2),m("disabled",i.isSavingScore),s(6),K(i.points),s(),u(i.isGameOver?21:i.hasWon?22:-1),s(2),u(i.openForm?23:-1))},dependencies:[w,Y,D,T,I],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:0;margin:0 auto;background-color:#383838b8}.game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin:0 auto}.game-board-cell[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:10px;transition:opacity .5s ease}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}.game-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,150px);gap:20px;justify-content:center}.game-board-cell[_ngcontent-%COMP%]{width:150px;height:150px;display:flex;justify-content:center;align-items:center;border-radius:10px;transition:opacity .5s ease;opacity:.4}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}.active[_ngcontent-%COMP%]{opacity:1}.game-over[_ngcontent-%COMP%]{color:red;font-size:1.5rem}.has-won[_ngcontent-%COMP%]{color:green;font-size:1.5rem}.bg-success-transparent[_ngcontent-%COMP%]{background-color:#28a74566;border-radius:10px}.bg-danger-transparent[_ngcontent-%COMP%]{background-color:#dc354566;border-radius:10px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}"]})};var ht=[{path:"ahorcado",component:j},{path:"mayor-menor",component:V},{path:"preguntados",component:A},{path:"simon",component:W}],re=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Q({type:n});static \u0275inj=H({imports:[ae.forChild(ht),ae]})};var ke=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Q({type:n});static \u0275inj=H({providers:[fe()],imports:[w,re,j,V,A,W]})};export{ke as GamesModule};
