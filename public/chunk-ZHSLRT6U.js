import{$ as v,A as u,B as a,Ba as O,C as K,Ca as I,D as y,E as de,Ea as D,Fa as Ee,I as F,J as pe,K as X,M as Y,N as q,O as Z,P as w,Q as ee,R as ue,Z as ae,_ as fe,a as g,aa as ge,b as G,ba as he,c as $,ca as Ce,d as H,e as J,ea as M,g as S,ga as _e,h as Q,ha as ve,i as h,ia as be,j as C,ja as xe,ka as ye,l as ce,la as Se,m as U,ma as Fe,n as s,na as we,o as _,p as m,q as c,qa as Me,r as me,s as p,t as r,ta as P,u as o,v as f,y as b,z as d,za as E}from"./chunk-TSE5YKM7.js";function Ie(t,e){t&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function ke(t,e){t&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function Pe(t,e){t&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function De(t,e){t&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function Te(t,e){t&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function Ge(t,e){t&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}function qe(t,e){t&1&&(r(0,"small",6),a(1," El campo es requerido "),o())}var k=class t{constructor(e,n){this.firestore=e;this.userService=n;this.surveyForm=new Ce({firstName:new M("",[v.required,v.minLength(2)]),lastName:new M("",[v.required,v.minLength(2)]),email:new M(this.userService.userEmail,[v.required,v.email]),age:new M("",[v.required,v.min(18),v.max(99)]),cellphone:new M("",[v.required,v.minLength(10),v.maxLength(10),v.pattern("^[0-9]*$")]),question1:new M("",v.required),question2:new M("",v.required),question3:new M("",v.required),date:new M(new Date().toISOString())})}closeForm=new ce;surveyForm;isLoading=!1;onSubmit(){return g(this,null,function*(){try{if(this.surveyForm.valid){this.isLoading=!0;let e=I(this.firestore,"survey-results");yield O(e,this.surveyForm.value),this.isLoading=!1}}catch(e){console.log(e)}})}close(){this.closeForm.emit()}static \u0275fac=function(n){return new(n||t)(_(E),_(Ee))};static \u0275cmp=S({type:t,selectors:[["app-form"]],outputs:{closeForm:"closeForm"},standalone:!0,features:[F],decls:61,vars:9,consts:[[1,"custom-form",3,"formGroup"],["type","button",1,"close-btn",3,"click"],[1,"bi","bi-x"],[1,"form-group"],["for","exampleFormControlInput1"],["type","text","id","firstNameInput","name","firstName","formControlName","firstName",1,"form-control"],[1,"text-danger"],["type","text","id","lastNameInput","formControlName","lastName",1,"form-control"],["type","email","id","emailInput","formControlName","email","readonly","",1,"form-control"],["for","exampleFormControlSelect1"],["type","number","id","ageInput","formControlName","age",1,"form-control"],["for","exampleFormControlSelect2"],["type","number","id","cellphoneInput","formControlName","cellphone",1,"form-control"],["multiple","","id","question1Input","formControlName","question1",1,"form-control"],["for","question3Input"],["id","question3Input","formControlName","question3",1,"form-control"],["value","poco probable"],["value","seguramente lo haga"],["value","de inmediato"],["for","question2Input"],["id","question2Input","rows","3","formControlName","question2",1,"form-control","no-resize"],[1,"text-center"],["type","submit",1,"btn","btn-primary","mt-2",3,"click","disabled"]],template:function(n,i){if(n&1&&(r(0,"form",0)(1,"button",1),d("click",function(){return i.close()}),f(2,"i",2),o(),r(3,"div",3)(4,"label",4),a(5,"Nombre"),o(),f(6,"input",5),m(7,Ie,2,0,"small",6),o(),r(8,"div",3)(9,"label",4),a(10,"Apellido"),o(),f(11,"input",7),m(12,ke,2,0,"small",6),o(),r(13,"div",3)(14,"label",4),a(15,"Correo electr\xF3nico"),o(),f(16,"input",8),o(),r(17,"div",3)(18,"label",9),a(19,"Edad"),o(),f(20,"input",10),m(21,Pe,2,0,"small",6),o(),r(22,"div",3)(23,"label",11),a(24,"Celular"),o(),f(25,"input",12),m(26,De,2,0,"small",6),o(),r(27,"div",3)(28,"label",11),a(29,"\xBFQu\xE9 puntuaci\xF3n le dar\xEDas al juego?"),o(),r(30,"select",13)(31,"option"),a(32,"\u2B50\uFE0F"),o(),r(33,"option"),a(34,"\u2B50\uFE0F\u2B50\uFE0F"),o(),r(35,"option"),a(36,"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F"),o(),r(37,"option"),a(38,"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F"),o(),r(39,"option"),a(40,"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F"),o()(),m(41,Te,2,0,"small",6),o(),r(42,"div",3)(43,"label",14),a(44,"\xBFQu\xE9 tan probable es que vuelvas a jugar?"),o(),r(45,"select",15)(46,"option",16),a(47,"Poco probable"),o(),r(48,"option",17),a(49,"Seguramente lo haga"),o(),r(50,"option",18),a(51,"Voy a volver a jugar de inmediato"),o()(),m(52,Ge,2,0,"small",6),o(),r(53,"div",3)(54,"label",19),a(55,"Sugerencias"),o(),f(56,"textarea",20),m(57,qe,2,0,"small",6),o(),r(58,"div",21)(59,"button",22),d("click",function(){return i.onSubmit()}),a(60,"Enviar"),o()()()),n&2){let l,x,W,L,z,R,B;c("formGroup",i.surveyForm),s(7),p(!((l=i.surveyForm.get("firstName"))==null||l.errors==null)&&l.errors.required&&((l=i.surveyForm.get("lastName"))!=null&&l.touched)?7:-1),s(5),p(!((x=i.surveyForm.get("lastName"))==null||x.errors==null)&&x.errors.required&&((x=i.surveyForm.get("lastName"))!=null&&x.touched)?12:-1),s(9),p(!((W=i.surveyForm.get("age"))==null||W.errors==null)&&W.errors.required&&((W=i.surveyForm.get("lastName"))!=null&&W.touched)?21:-1),s(5),p(!((L=i.surveyForm.get("cellphone"))==null||L.errors==null)&&L.errors.required&&((L=i.surveyForm.get("lastName"))!=null&&L.touched)?26:-1),s(15),p(!((z=i.surveyForm.get("question1"))==null||z.errors==null)&&z.errors.required&&((z=i.surveyForm.get("lastName"))!=null&&z.touched)?41:-1),s(11),p(!((R=i.surveyForm.get("question3"))==null||R.errors==null)&&R.errors.required&&((R=i.surveyForm.get("lastName"))!=null&&R.touched)?52:-1),s(5),p(!((B=i.surveyForm.get("question2"))==null||B.errors==null)&&B.errors.required&&((B=i.surveyForm.get("lastName"))!=null&&B.touched)?57:-1),s(2),c("disabled",i.surveyForm.invalid)}},dependencies:[Me,_e,Se,we,fe,ve,ye,Fe,ge,he,be,xe],styles:["body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80vh;margin:0}.custom-form[_ngcontent-%COMP%]{height:45vh;box-shadow:0 4px 10px #0000001a;overflow:auto;position:relative;padding:40px 20px 20px}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:100;border:none;background:transparent;font-size:1.5rem;cursor:pointer}.bi-x[_ngcontent-%COMP%]{font-size:1.5rem}.no-resize[_ngcontent-%COMP%]{resize:none}"]})};function Ne(t,e){if(t&1&&(r(0,"span"),a(1),o()),t&2){let n=e.$implicit;s(),y("",n," ")}}function je(t,e){t&1&&(r(0,"div",19),a(1,"\u{1F635}"),o())}function Ae(t,e){t&1&&(r(0,"div",20),a(1,"\u{1F91B}\u{1F3FC}"),o())}function Ve(t,e){t&1&&(r(0,"div",21),a(1,"\u{1F455}"),o())}function We(t,e){t&1&&(r(0,"div",22),a(1,"\u{1F91C}\u{1F3FC}"),o())}function Le(t,e){t&1&&(r(0,"div",23),a(1,"\u{1F9B5}\u{1F3FC}"),o())}function ze(t,e){t&1&&(r(0,"div",24),a(1,"\u{1F9BF}"),o())}function Re(t,e){if(t&1){let n=b();r(0,"button",25),d("click",function(){let l=h(n).$implicit,x=u();return C(x.guessLetter(l))}),a(1),o()}if(t&2){let n=e.$implicit,i=u();c("disabled",i.guessedLetters.includes(n)||i.isGameOver()||i.gameWon),s(),y(" ",n," ")}}function Be(t,e){t&1&&a(0,"Guardando resultado")}function Ue(t,e){t&1&&a(0,"Finalizar")}function $e(t,e){if(t&1){let n=b();r(0,"div",26),a(1," \xA1Felicidades! Has ganado. "),r(2,"button",27),d("click",function(){h(n);let l=u();return C(l.restartGame())}),a(3,"Jugar de nuevo"),o()()}}function He(t,e){if(t&1){let n=b();r(0,"div",28),a(1),r(2,"button",27),d("click",function(){h(n);let l=u();return C(l.restartGame())}),a(3,"Reiniciar Juego"),o()()}if(t&2){let n=u();s(),y(" \xA1Has perdido! La palabra era: ",n.wordToGuess," ")}}function Je(t,e){if(t&1){let n=b();r(0,"div",18)(1,"app-form",29),d("closeForm",function(){h(n);let l=u();return C(l.onCloseForm())}),o()()}}var N=class t{constructor(e,n){this.firestore=e;this.auth=n}words=["independiente","programacion","angular","typescript","desarrollo","javascript","tecnologia","software"];wordToGuess="";displayWord=[];incorrectGuesses=0;maxIncorrectGuesses=6;guessedLetters=[];hasWonOne=!1;alphabet="abcdefghijklmnopqrstuvwxyz".split("");gameWon=!1;points=10;isSavingScore=!1;openForm=!1;ngOnInit(){this.initializeGame()}initializeGame(){this.wordToGuess=this.getRandomWord(),this.displayWord=this.wordToGuess.split("").map(()=>"_"),this.guessedLetters=[],this.incorrectGuesses=0,this.gameWon=!1}getRandomWord(){let e=Math.floor(Math.random()*this.words.length);return this.words[e]}guessLetter(e){this.guessedLetters.includes(e)||this.gameWon||(this.guessedLetters.push(e),this.wordToGuess.includes(e)?this.wordToGuess.split("").forEach((n,i)=>{n===e&&(this.displayWord[i]=e)}):(this.incorrectGuesses++,this.points--),this.isGameWon()&&(this.gameWon=!0))}isGameWon(){let e=this.displayWord.join("")===this.wordToGuess;return e&&(this.hasWonOne=!0),e}isGameOver(){return this.incorrectGuesses>=this.maxIncorrectGuesses}restartGame(){this.points+=10,this.isGameOver()&&(this.points=10,this.hasWonOne=!1),this.initializeGame()}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.isSavingScore=!0;let n={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Ahorcado"},i=I(this.firestore,"users-scores");yield O(i,n),this.openForm=!0,this.isSavingScore=!1}})}onCloseForm(){this.openForm=!1}static \u0275fac=function(n){return new(n||t)(_(E),_(P))};static \u0275cmp=S({type:t,selectors:[["app-ahorcado"]],standalone:!0,features:[F],decls:32,vars:16,consts:[[1,"container","text-center","mt-5","game-container"],[1,"my-4"],[4,"ngFor","ngForOf"],[1,"person"],["class","head person-emoji",4,"ngIf"],[1,"upper-body"],["class","left-arm person-emoji",4,"ngIf"],["class","body person-emoji",4,"ngIf"],["class","right-arm person-emoji",4,"ngIf"],[1,"lower-body"],["class","left-leg person-emoji",4,"ngIf"],["class","right-leg person-emoji",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-center"],["class","btn btn-outline-light m-1",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"btn","btn-secondary",3,"click","disabled"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"overlay"],[1,"head","person-emoji"],[1,"left-arm","person-emoji"],[1,"body","person-emoji"],[1,"right-arm","person-emoji"],[1,"left-leg","person-emoji"],[1,"right-leg","person-emoji"],[1,"btn","btn-outline-light","m-1",3,"click","disabled"],[1,"alert","alert-success"],[1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[3,"closeForm"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"h1"),a(2,"Ahorcado"),o(),r(3,"div",1)(4,"h2"),m(5,Ne,2,1,"span",2),o()(),r(6,"div",1)(7,"p"),a(8),o(),r(9,"p"),a(10),o()(),r(11,"div",3),m(12,je,2,0,"div",4),r(13,"div",5),m(14,Ae,2,0,"div",6)(15,Ve,2,0,"div",7)(16,We,2,0,"div",8),o(),r(17,"div",9),m(18,Le,2,0,"div",10)(19,ze,2,0,"div",11),o()(),r(20,"div",1)(21,"div",12),m(22,Re,2,2,"button",13),o(),r(23,"div",14)(24,"button",15),d("click",function(){return i.finishGame()}),m(25,Be,1,0)(26,Ue,1,0),o()()(),r(27,"div",1),m(28,$e,4,0,"div",16)(29,He,4,1,"div",17),o()(),m(30,Je,2,0,"div",18),f(31,"app-chat")),n&2&&(s(5),c("ngForOf",i.displayWord),s(3),de("Intentos incorrectos: ",i.incorrectGuesses," / ",i.maxIncorrectGuesses,""),s(2),y("Puntos: ",i.points,""),s(2),c("ngIf",i.incorrectGuesses>=1),s(2),c("ngIf",i.incorrectGuesses>=3),s(),c("ngIf",i.incorrectGuesses>=2),s(),c("ngIf",i.incorrectGuesses>=4),s(2),c("ngIf",i.incorrectGuesses>=5),s(),c("ngIf",i.incorrectGuesses>=6),s(3),c("ngForOf",i.alphabet),s(2),c("disabled",!i.hasWonOne),s(),p(i.isSavingScore?25:26),s(3),c("ngIf",i.isGameWon()),s(),c("ngIf",i.isGameOver()),s(),p(i.openForm?30:-1))},dependencies:[w,q,Z,D,k],styles:[".game-container[_ngcontent-%COMP%]{background-color:#383838b8;border-radius:10px;padding:20px}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:30px;border-bottom:px solid #000;text-transform:uppercase;font-size:24px;margin:0 2px}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}button[disabled][_ngcontent-%COMP%]{opacity:.6}.person[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.upper-body[_ngcontent-%COMP%], .lower-body[_ngcontent-%COMP%]{display:flex;justify-content:center}.person-emoji[_ngcontent-%COMP%]{font-size:1.8rem}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}"]})};var ie=class t{constructor(e){this.http=e}apiUrl="https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1";getDeck(){return this.http.get(this.apiUrl)}getOneCard(e){let n=`https://www.deckofcardsapi.com/api/deck/${e}/draw/?count=1`;return this.http.get(n)}static \u0275fac=function(n){return new(n||t)(J(ee))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function Xe(t,e){if(t&1&&(r(0,"div",2)(1,"div",11),f(2,"img",12),o()()),t&2){let n=u();s(2),c("src",n.prevCard.images.png,U)}}function Ye(t,e){if(t&1&&(r(0,"div",3)(1,"div",13),f(2,"img",12),o()()),t&2){let n=u();s(2),c("src",n.currentCard.images.png,U)}}function Ze(t,e){t&1&&f(0,"span",4)}function et(t,e){if(t&1){let n=b();r(0,"div",6)(1,"p",8),a(2,"\xBFLa siguiente carta ser\xE1 mayor o menor?"),o(),r(3,"button",14),d("click",function(){h(n);let l=u();return C(l.guess(!0))}),a(4,"Mayor"),o(),r(5,"button",14),d("click",function(){h(n);let l=u();return C(l.guess(!1))}),a(6,"Menor"),o()()}}function tt(t,e){t&1&&a(0,"Guardando resultado")}function nt(t,e){t&1&&a(0,"Finalizar")}function it(t,e){if(t&1){let n=b();r(0,"div",10)(1,"app-form",15),d("closeForm",function(){h(n);let l=u();return C(l.onCloseForm())}),o()()}}var j=class t{constructor(e,n,i){this.cardService=e;this.firestore=n;this.auth=i}deckId="";points=0;message="";gameOver=!1;currentCard;newCard;prevCard;isLoadingCurrentCard=!0;isSavingScore=!1;hasWonOne=!1;openForm=!1;ngOnInit(){this.startGame()}startGame(){return g(this,null,function*(){try{let e=yield G(this.cardService.getDeck());this.hasWonOne=!1,this.deckId=e.deck_id,this.points=10,yield this.drawCard(),this.currentCard=this.newCard,this.isLoadingCurrentCard=!1,this.message="\xA1Mazo de cartas creado! \xBFListo para jugar?"}catch(e){console.error("Error fetching deck:",e),this.message="Error al obtener el mazo de cartas."}})}drawCard(){return g(this,null,function*(){if(this.deckId)try{let e=yield G(this.cardService.getOneCard(this.deckId));e.success?this.newCard=e.cards[0]:this.message="No se pudo dibujar la carta."}catch(e){console.error("Error drawing card:",e),this.message="Error al dibujar la carta."}})}guess(e){return g(this,null,function*(){if(this.isLoadingCurrentCard=!0,yield this.drawCard(),this.currentCard&&this.newCard){let n=parseInt(this.currentCard.value),i=parseInt(this.newCard.value);e&&i>n?(this.points+=1,this.hasWonOne=!0,this.message="\xA1Correcto! La siguiente carta es mayor."):!e&&i<n?(this.points+=1,this.hasWonOne=!0,this.message="\xA1Correcto! La siguiente carta es menor."):(this.points>0&&(this.points-=1),this.message="\xA1Incorrecto! La siguiente carta no es lo que pensabas."),this.prevCard=this.currentCard,this.currentCard=this.newCard}else this.message="No se pudo obtener la siguiente carta.";this.isLoadingCurrentCard=!1})}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.isSavingScore=!0;let n={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Mayor-Menor"},i=I(this.firestore,"users-scores");yield O(i,n),this.openForm=!0,this.isSavingScore=!1}})}onCloseForm(){this.openForm=!1}static \u0275fac=function(n){return new(n||t)(_(ie),_(E),_(P))};static \u0275cmp=S({type:t,selectors:[["app-mayor-menor"]],standalone:!0,features:[F],decls:22,vars:9,consts:[[1,"container","text-center","mt-5","game-container"],[1,"my-4","d-flex","align-items-center","justify-content-center"],[1,"prev-card-body","align-items-center","justify-content-center"],[1,"card","mx-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["class","my-4",4,"ngIf"],[1,"my-4"],[1,"h5"],[1,"h4"],[1,"btn","btn-secondary","m-2",3,"click","disabled"],[1,"overlay"],[1,"prev-card-body","d-flex"],["alt","Carta",3,"src"],[1,"card-body","d-flex","align-items-center","justify-content-center"],[1,"btn","btn-primary","m-2",3,"click"],[3,"closeForm"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"h1"),a(2,"Juego Mayor o Menor"),o(),r(3,"div",1),m(4,Xe,3,1,"div",2)(5,Ye,3,1,"div",3)(6,Ze,1,0,"span",4),o(),m(7,et,7,0,"div",5),r(8,"div",6)(9,"p",7),a(10),o()(),r(11,"div",6)(12,"p",8),a(13),o()(),r(14,"div",6)(15,"button",9),d("click",function(){return i.startGame()}),a(16," Reiniciar Juego "),o(),r(17,"button",9),d("click",function(){return i.finishGame()}),m(18,tt,1,0)(19,nt,1,0),o()()(),m(20,it,2,0,"div",10),f(21,"app-chat")),n&2&&(s(4),p(i.prevCard?4:-1),s(),p(i.isLoadingCurrentCard?6:5),s(2),c("ngIf",!i.gameOver),s(3),K(i.message),s(3),y("Puntos: ",i.points,""),s(2),c("disabled",i.isSavingScore),s(2),c("disabled",!i.hasWonOne||i.isSavingScore),s(),p(i.isSavingScore?18:19),s(2),p(i.openForm?20:-1))},dependencies:[w,Z,D,k],styles:[".game-container[_ngcontent-%COMP%]{background-color:#383838b8;border-radius:10px;padding:20px}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#fff}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:150px}.prev-card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:135px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}"]})};var oe=class t{constructor(e){this.http=e}apiUrl="https://thronesapi.com/api/v2/Characters/";getCharacter(e){let n=`${this.apiUrl}${e}`;return this.http.get(n)}static \u0275fac=function(n){return new(n||t)(J(ee))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var rt=(t,e)=>({"bg-success-transparent":t,"bg-danger-transparent":e}),at=t=>["btn","btn-character-name",t];function st(t,e){t&1&&(r(0,"div",1)(1,"h1"),a(2,"Preguntados"),o(),f(3,"div",4),o())}function lt(t,e){if(t&1){let n=b();r(0,"div",16)(1,"button",17),d("click",function(){let l=h(n).$implicit,x=u(2);return C(x.handleGuess(l))}),a(2),o()()}if(t&2){let n=e.$implicit,i=u(2);s(),c("disabled",i.isCorrect!==null)("ngClass",pe(3,at,i.isCorrect===null?"btn-secondary":n===i.correctCharacterName?"btn-success":"btn-danger")),s(),y(" ",n," ")}}function ct(t,e){if(t&1&&(r(0,"div",10),a(1),o()),t&2){let n=u(2);s(),y(" ",n.isCorrect?"\u{1F389}\xA1Correcto!\u{1F389}":"\u{1F6A9}Incorrecto. Int\xE9ntalo de nuevo.\u{1F6A9}"," ")}}function mt(t,e){t&1&&a(0,"Guardando resultado")}function dt(t,e){t&1&&a(0,"Finalizar")}function pt(t,e){if(t&1){let n=b();r(0,"div",2)(1,"h1"),a(2,"Preguntados"),o(),r(3,"div",5),f(4,"img",6),o(),r(5,"div",7)(6,"div",8),m(7,lt,3,5,"div",9),o()(),m(8,ct,2,1,"div",10),r(9,"div",11)(10,"p",12),a(11),o()(),r(12,"div",11)(13,"button",13),d("click",function(){h(n);let l=u();return C(l.handleNextRound())}),f(14,"i",14),a(15," Siguiente ronda "),o(),r(16,"button",15),d("click",function(){h(n);let l=u();return C(l.finishGame())}),m(17,mt,1,0)(18,dt,1,0),o()()()}if(t&2){let n=u();c("ngClass",X(8,rt,n.isCorrect===!0,n.isCorrect===!1)),s(4),c("src",n.selectedCharacter.imageUrl,U),s(3),c("ngForOf",n.options),s(),p(n.isCorrect!==null?8:-1),s(3),y("Puntos: ",n.points,""),s(2),c("disabled",n.isSavingScore),s(3),c("disabled",!n.hasWonOne||n.isSavingScore),s(),p(n.isSavingScore?17:18)}}function ut(t,e){if(t&1){let n=b();r(0,"div",3)(1,"app-form",18),d("closeForm",function(){h(n);let l=u();return C(l.onCloseForm())}),o()()}}var A=class t{constructor(e,n,i){this.preguntadosService=e;this.auth=n;this.firestore=i}apiMaxId=52;apiMinId=1;usedIds=[];selectedCharacter;otherCharacters=[];isCorrect=null;isLoading=!1;points=0;hasWonOne=!1;isSavingScore=!1;openForm=!1;ngOnInit(){this.startGame()}startGame(){return g(this,null,function*(){try{this.isLoading=!0;let e=this.getRandomNumber();yield this.selectCharacter(e),this.otherCharacters=yield this.getOtherCharacters(),this.isLoading=!1}catch(e){console.error("Error fetching character:",e)}})}getRandomNumber(){let e=this.apiMinId,n=this.apiMaxId,i=Math.floor(Math.random()*(n-e+1))+e;for(;this.usedIds.includes(i);)i=Math.floor(Math.random()*(n-e+1))+e;return i}playGame(){return g(this,null,function*(){try{let e=this.getRandomNumber();yield this.selectCharacter(e),this.otherCharacters=yield this.getOtherCharacters()}catch(e){console.error("Error fetching character:",e)}})}selectCharacter(e){return g(this,null,function*(){try{this.usedIds.push(e),this.selectedCharacter=yield G(this.preguntadosService.getCharacter(e))}catch(n){console.error("Error fetching character:",n)}})}getOtherCharacters(){return g(this,null,function*(){let e=[];for(let n=0;n<2;n++){let i=this.getRandomNumber();for(;this.usedIds.includes(i);)i=this.getRandomNumber();let l=yield G(this.preguntadosService.getCharacter(i));e.push(l)}return e})}handleNextRound(){this.isCorrect=null,this.startGame()}handleGuess(e){e===this.selectedCharacter.fullName?(this.isCorrect=!0,this.hasWonOne=!0,this.points+=1):(this.isCorrect=!1,this.points>0&&(this.points-=1))}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.isSavingScore=!0;let n={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Preguntados"},i=I(this.firestore,"users-scores");yield O(i,n),this.points=0,this.hasWonOne=!1,this.openForm=!0,this.isSavingScore=!1}})}get options(){return[this.selectedCharacter.fullName,...this.otherCharacters.map(e=>e.fullName)]}get correctCharacterName(){return this.selectedCharacter.fullName}onCloseForm(){this.openForm=!1}static \u0275fac=function(n){return new(n||t)(_(oe),_(P),_(E))};static \u0275cmp=S({type:t,selectors:[["app-preguntados"]],standalone:!0,features:[F],decls:5,vars:2,consts:[[1,"container","text-center","mt-5","container-preguntados"],[1,"card-body","d-flex","flex-column","align-items-center","loader-container"],[1,"card-body","d-flex","flex-column","align-items-center","character-card",3,"ngClass"],[1,"overlay"],[1,"loader"],[1,"d-flex","justify-content-center","mt-5"],["alt","Character to guess",1,"rounded-circle","bg-light",2,"width","150px","height","150px","object-fit","cover",3,"src"],[1,"w-100","mt-4"],[1,"row","g-2"],["class","col-12",4,"ngFor","ngForOf"],[1,"text-center","mt-3","text-result"],[1,"my-4"],[1,"h4"],[1,"btn","btn-primary","mt-4","mb-5","m-2",3,"click","disabled"],[1,"bi","bi-shuffle","me-2"],[1,"btn","btn-secondary","mt-4","mb-5","m-2",3,"click","disabled"],[1,"col-12"],[3,"click","disabled","ngClass"],[3,"closeForm"]],template:function(n,i){n&1&&(r(0,"div",0),m(1,st,4,0,"div",1)(2,pt,19,11,"div",2),o(),m(3,ut,2,0,"div",3),f(4,"app-chat")),n&2&&(s(),p(i.isLoading?1:2),s(2),p(i.openForm?3:-1))},dependencies:[w,Y,q,D,k],styles:[".container-preguntados[_ngcontent-%COMP%]{min-width:25%;max-width:50%}.loader-container[_ngcontent-%COMP%]{height:65vh;background-color:#00000080;border-radius:10px}.character-card[_ngcontent-%COMP%]{background-color:#00000080;border-radius:10px}.btn-character-name[_ngcontent-%COMP%]{min-width:20%;max-width:25%}.bg-success-transparent[_ngcontent-%COMP%]{background-color:#28a745cc}.bg-danger-transparent[_ngcontent-%COMP%]{background-color:#dc3545cc}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#fff}.text-result[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.loader[_ngcontent-%COMP%]{margin-top:3rem;width:150px;height:150px;border-radius:50%;animation:_ngcontent-%COMP%_loading 2s linear infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-color:#f3f3f3}50%{background-color:#3498db}to{background-color:#f3f3f3}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}"]})};var ft=(t,e)=>({"bg-success-transparent":t,"bg-danger-transparent":e});function gt(t,e){if(t&1){let n=b();r(0,"div",16),d("click",function(){let l=h(n).$implicit,x=u();return C(x.onColorClick(l))}),o()}if(t&2){let n=e.$implicit;me("background-color",n)}}function ht(t,e){t&1&&a(0,"Guardando resultado...")}function Ct(t,e){t&1&&a(0,"Finalizar")}function _t(t,e){t&1&&(r(0,"div",13)(1,"p"),a(2,"Te equivocaste, el juego se termin\xF3 \u{1F62D}"),o()())}function vt(t,e){t&1&&(r(0,"div",14)(1,"p"),a(2,"Ganaste \u{1F4A5}\u{1FAE8}\u{1F4A5}"),o()())}function bt(t,e){if(t&1){let n=b();r(0,"div",15)(1,"app-form",17),d("closeForm",function(){h(n);let l=u();return C(l.onCloseForm())}),o()()}}var V=class t{constructor(e,n){this.auth=e;this.firestore=n}colors=["red","green","blue","yellow"];sequence=[];userSequence=[];points=0;gameStarted=!1;isGameOver=!1;hasWon=!1;maxSequences=15;hasWonOne=!1;isSavingScore=!1;openForm=!1;ngOnInit(){this.resetGame()}startGame(){this.sequence=[],this.userSequence=[],this.points=0,this.gameStarted=!0,this.addToSequence()}stopGame(){this.gameStarted=!1}resetGame(){this.sequence=[],this.userSequence=[],this.points=0,this.gameStarted=!1,this.hasWon=!1,this.isGameOver=!1,this.hasWonOne=!1}addToSequence(){if(this.sequence.length<=this.maxSequences){let n=this.colors[Math.floor(Math.random()*this.colors.length)];this.sequence.push(n),this.highlightSequence()}else this.gameOver(!0)}checkSequence(){for(let e=0;e<this.userSequence.length;e++)if(this.userSequence[e]!==this.sequence[e]){this.gameOver(!1);return}this.userSequence.length===this.sequence.length&&(this.points+=10,this.userSequence=[],this.addToSequence(),this.hasWonOne=!0)}gameOver(e){e?this.hasWon=!0:(this.hasWonOne=!1,this.isGameOver=!0),this.gameStarted=!1}highlightSequence(){let e=0,n=setInterval(()=>{if(e>=this.sequence.length){clearInterval(n);return}this.flashColor(this.sequence[e]),e++},1e3)}flashColor(e){let n=document.querySelector(`div[style*="${e}"]`);n&&(n.classList.add("active"),setTimeout(()=>{n.classList.remove("active")},500))}onColorClick(e){this.gameStarted&&(this.userSequence.push(e),this.flashColor(e),this.checkSequence())}finishGame(){return g(this,null,function*(){let e=this.auth.currentUser;if(e){this.gameStarted=!1,this.isSavingScore=!0;let n={puntuacion:this.points,usuario:e.email,fecha:new Date,juego:"Simon"},i=I(this.firestore,"users-scores");yield O(i,n),this.openForm=!0,this.isSavingScore=!1,this.resetGame()}})}onCloseForm(){this.openForm=!1}static \u0275fac=function(n){return new(n||t)(_(P),_(E))};static \u0275cmp=S({type:t,selectors:[["app-simon"]],standalone:!0,features:[F],decls:25,vars:12,consts:[[1,"container","container-game-app","mt-3"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"game-container",3,"ngClass"],[1,"game-board","d-grid","pt-3","pb-1","pl-3","pr-3"],["class","game-board-cell",3,"background-color","click",4,"ngFor","ngForOf"],[1,"game-controls","d-flex","justify-content-center","mt-2"],["id","start",1,"game-button","btn","btn-primary","m-2",3,"click","disabled"],["id","stop",1,"game-button","btn","btn-danger","m-2",3,"click","disabled"],["id","reset",1,"game-button","btn","btn-warning","m-2",3,"click","disabled"],[1,"game-score","text-center"],["id","score"],[1,"game-result","game-over","text-center"],[1,"game-result","has-won","text-center"],[1,"overlay"],[1,"game-board-cell",3,"click"],[3,"closeForm"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Juego Simon"),o(),r(5,"div",4)(6,"div",5),m(7,gt,1,2,"div",6),o(),r(8,"div",7)(9,"button",8),d("click",function(){return i.startGame()}),a(10," Iniciar "),o(),r(11,"button",9),d("click",function(){return i.finishGame()}),m(12,ht,1,0)(13,Ct,1,0),o(),r(14,"button",10),d("click",function(){return i.resetGame()}),a(15," Resetear "),o()(),r(16,"div",11)(17,"p"),a(18,"Puntuaci\xF3n: "),r(19,"span",12),a(20),o()()(),m(21,_t,3,0,"div",13)(22,vt,3,0,"div",14),o()()()(),m(23,bt,2,0,"div",15),f(24,"app-chat")),n&2&&(s(5),c("ngClass",X(9,ft,i.hasWon===!0,i.isGameOver===!0)),s(2),c("ngForOf",i.colors),s(2),c("disabled",i.isSavingScore),s(2),c("disabled",!i.hasWonOne||i.isSavingScore),s(),p(i.isSavingScore?12:13),s(2),c("disabled",i.isSavingScore),s(6),K(i.points),s(),p(i.isGameOver?21:i.hasWon?22:-1),s(2),p(i.openForm?23:-1))},dependencies:[w,Y,q,D,k],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:0;margin:0 auto;background-color:#383838b8}.game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;margin:0 auto}.game-board-cell[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:10px;transition:opacity .5s ease}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}.game-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,150px);gap:20px;justify-content:center}.game-board-cell[_ngcontent-%COMP%]{width:150px;height:150px;display:flex;justify-content:center;align-items:center;border-radius:10px;transition:opacity .5s ease;opacity:.4}h1[_ngcontent-%COMP%]{text-shadow:3px 2px 6px #000000}.active[_ngcontent-%COMP%]{opacity:1}.game-over[_ngcontent-%COMP%]{color:red;font-size:1.5rem}.has-won[_ngcontent-%COMP%]{color:green;font-size:1.5rem}.bg-success-transparent[_ngcontent-%COMP%]{background-color:#28a74566;border-radius:10px}.bg-danger-transparent[_ngcontent-%COMP%]{background-color:#dc354566;border-radius:10px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay[_ngcontent-%COMP%]   app-form[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;max-width:60%;width:100%;box-shadow:0 4px 10px #0000001a}"]})};var xt=[{path:"ahorcado",component:N},{path:"mayor-menor",component:j},{path:"preguntados",component:A},{path:"simon",component:V}],re=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Q({type:t});static \u0275inj=H({imports:[ae.forChild(xt),ae]})};var Oe=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Q({type:t});static \u0275inj=H({providers:[ue()],imports:[w,re,N,j,A,V]})};export{Oe as GamesModule};
