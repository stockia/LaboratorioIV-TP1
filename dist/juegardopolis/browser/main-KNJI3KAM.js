var eA=Object.defineProperty,tA=Object.defineProperties;var nA=Object.getOwnPropertyDescriptors;var tI=Object.getOwnPropertySymbols,rA=Object.getPrototypeOf,iA=Object.prototype.hasOwnProperty,sA=Object.prototype.propertyIsEnumerable,oA=Reflect.get;var nI=(t,e,n)=>e in t?eA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})iA.call(e,n)&&nI(t,n,e[n]);if(tI)for(var n of tI(e))sA.call(e,n)&&nI(t,n,e[n]);return t},re=(t,e)=>tA(t,nA(e));var Jn=(t,e,n)=>oA(rA(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function rI(t,e){return Object.is(t,e)}var Le=null,Ac=!1,Rc=1,In=Symbol("SIGNAL");function ce(t){let e=Le;return Le=t,e}function iI(){return Le}var Oo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rh(t){if(Ac)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(t);let e=Le.nextProducerIndex++;if(Pc(Le),e<Le.producerNode.length&&Le.producerNode[e]!==t&&Po(Le)){let n=Le.producerNode[e];xc(n,Le.producerIndexOfThis[e])}Le.producerNode[e]!==t&&(Le.producerNode[e]=t,Le.producerIndexOfThis[e]=Po(Le)?cI(t,Le,e):0),Le.producerLastReadVersion[e]=t.version}function aA(){Rc++}function sI(t){if(!(Po(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Rc)){if(!t.producerMustRecompute(t)&&!Nh(t)){t.dirty=!1,t.lastCleanEpoch=Rc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Rc}}function oI(t){if(t.liveConsumerNode===void 0)return;let e=Ac;Ac=!0;try{for(let n of t.liveConsumerNode)n.dirty||cA(n)}finally{Ac=e}}function aI(){return Le?.consumerAllowSignalWrites!==!1}function cA(t){t.dirty=!0,oI(t),t.consumerMarkedDirty?.(t)}function Nc(t){return t&&(t.nextProducerIndex=0),ce(t)}function Mh(t,e){if(ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Po(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nh(t){Pc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(sI(n),r!==n.version))return!0}return!1}function xh(t){if(Pc(t),Po(t))for(let e=0;e<t.producerNode.length;e++)xc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cI(t,e,n){if(uI(t),t.liveConsumerNode.length===0&&lI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function xc(t,e){if(uI(t),t.liveConsumerNode.length===1&&lI(t))for(let r=0;r<t.producerNode.length;r++)xc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pc(i),i.producerIndexOfThis[r]=e}}function Po(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function uI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lI(t){return t.producerNode!==void 0}function dI(t){let e=Object.create(uA);e.computation=t;let n=()=>{if(sI(e),Rh(e),e.value===Mc)throw e.error;return e.value};return n[In]=e,n}var Sh=Symbol("UNSET"),Ah=Symbol("COMPUTING"),Mc=Symbol("ERRORED"),uA=re(O({},Oo),{value:Sh,dirty:!0,error:null,equal:rI,producerMustRecompute(t){return t.value===Sh||t.value===Ah},producerRecomputeValue(t){if(t.value===Ah)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ah;let n=Nc(t),r;try{r=t.computation()}catch(i){r=Mc,t.error=i}finally{Mh(t,n)}if(e!==Sh&&e!==Mc&&r!==Mc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function lA(){throw new Error}var hI=lA;function fI(){hI()}function pI(t){hI=t}var dA=null;function gI(t){let e=Object.create(yI);e.value=t;let n=()=>(Rh(e),e.value);return n[In]=e,n}function Ph(t,e){aI()||fI(),t.equal(t.value,e)||(t.value=e,hA(t))}function mI(t,e){aI()||fI(),Ph(t,e(t.value))}var yI=re(O({},Oo),{equal:rI,value:void 0});function hA(t){t.version++,aA(),oI(t),dA?.()}function Q(t){return typeof t=="function"}function Fi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oc=Fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(s){e=s instanceof Oc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{vI(s)}catch(o){e=e??[],o instanceof Oc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Oc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fr(n,e)}remove(e){let{_finalizers:n}=this;n&&Fr(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var Oh=Te.EMPTY;function kc(t){return t instanceof Te||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function vI(t){Q(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Li={setTimeout(t,e,...n){let{delegate:r}=Li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fc(t){Li.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function ko(){}var _I=kh("C",void 0,void 0);function II(t){return kh("E",void 0,t)}function wI(t){return kh("N",t,void 0)}function kh(t,e,n){return{kind:t,value:e,error:n}}var Lr=null;function Vi(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!Lr;if(e&&(Lr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Lr;if(Lr=null,n)throw r}}else t()}function EI(t){jt.useDeprecatedSynchronousErrorHandling&&Lr&&(Lr.errorThrown=!0,Lr.error=t)}var Vr=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kc(e)&&e.add(this)):this.destination=gA}static create(e,n,r){return new ji(e,n,r)}next(e){this.isStopped?Lh(wI(e),this):this._next(e)}error(e){this.isStopped?Lh(II(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lh(_I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fA=Function.prototype.bind;function Fh(t,e){return fA.call(t,e)}var Vh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Lc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Lc(r)}else Lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lc(n)}}},ji=class extends Vr{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fh(e.next,s),error:e.error&&Fh(e.error,s),complete:e.complete&&Fh(e.complete,s)}):i=e}this.destination=new Vh(i)}};function Lc(t){jt.useDeprecatedSynchronousErrorHandling?EI(t):Fc(t)}function pA(t){throw t}function Lh(t,e){let{onStoppedNotification:n}=jt;n&&Li.setTimeout(()=>n(t,e))}var gA={closed:!0,next:ko,error:pA,complete:ko};var Ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function jh(...t){return Uh(t)}function Uh(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=yA(n)?n:new ji(n,r,i);return Vi(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DI(r),new r((i,s)=>{let o=new ji({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return Uh(n)(this)}toPromise(n){return n=DI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function DI(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function mA(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function yA(t){return t&&t instanceof Vr||mA(t)&&kc(t)}function Bh(t){return Q(t?.lift)}function le(t){return e=>{if(Bh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new $h(t,e,n,r,i)}var $h=class extends Vr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bi(){return le((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $i=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Bi()(this)}};var bI=Fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bI}next(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Oh:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,Fr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Vc(e,n),t})(),Vc=class extends $e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Oh}};var Ze=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Hh={now(){return(Hh.delegate||Date).now()},delegate:void 0};var jc=class extends Te{constructor(e,n){super()}schedule(e,n=0){return this}};var Fo={setInterval(t,e,...n){let{delegate:r}=Fo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Fo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Hi=class extends jc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Fo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Fo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qi.now=Hh.now;var zi=class extends qi{constructor(e,n=qi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var qh=new zi(Hi);var Uc=class extends Hi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Bc=class extends zi{};var zh=new Bc(Uc);var Dt=new ue(t=>t.complete());function CI(t){return t&&Q(t.schedule)}function TI(t){return t[t.length-1]}function $c(t){return Q(TI(t))?t.pop():void 0}function Xn(t){return CI(TI(t))?t.pop():void 0}function Gh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function SI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jr(t){return this instanceof jr?(this.v=t,this):new jr(t)}function RI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,g)}}function c(I,A){r[I]&&(i[I]=function(x){return new Promise(function(N,F){s.push([I,x,N,F])>1||u(I,x)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(x){y(s[0][3],x)}}function l(I){I.value instanceof jr?Promise.resolve(I.value.v).then(f,g):y(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function y(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function MI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SI=="function"?SI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Hc=t=>t&&typeof t.length=="number"&&typeof t!="function";function qc(t){return Q(t?.then)}function zc(t){return Q(t[Ui])}function Gc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function Wc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kc=vA();function Qc(t){return Q(t?.[Kc])}function Yc(t){return RI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield jr(n.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{n.releaseLock()}})}function Zc(t){return Q(t?.getReader)}function Ne(t){if(t instanceof ue)return t;if(t!=null){if(zc(t))return _A(t);if(Hc(t))return IA(t);if(qc(t))return wA(t);if(Gc(t))return NI(t);if(Qc(t))return EA(t);if(Zc(t))return DA(t)}throw Wc(t)}function _A(t){return new ue(e=>{let n=t[Ui]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IA(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function wA(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fc)})}function EA(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function NI(t){return new ue(e=>{bA(t,e).catch(n=>e.error(n))})}function DA(t){return NI(Yc(t))}function bA(t,e){var n,r,i,s;return AI(this,void 0,void 0,function*(){try{for(n=MI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function gt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function er(t,e=0){return le((n,r)=>{n.subscribe(ie(r,i=>gt(r,t,()=>r.next(i),e),()=>gt(r,t,()=>r.complete(),e),i=>gt(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xI(t,e){return Ne(t).pipe(tr(e),er(e))}function PI(t,e){return Ne(t).pipe(tr(e),er(e))}function OI(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kI(t,e){return new ue(n=>{let r;return gt(n,e,()=>{r=t[Kc](),gt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function Jc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{gt(n,e,()=>{let r=t[Symbol.asyncIterator]();gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function FI(t,e){return Jc(Yc(t),e)}function LI(t,e){if(t!=null){if(zc(t))return xI(t,e);if(Hc(t))return OI(t,e);if(qc(t))return PI(t,e);if(Gc(t))return Jc(t,e);if(Qc(t))return kI(t,e);if(Zc(t))return FI(t,e)}throw Wc(t)}function Se(t,e){return e?LI(t,e):Ne(t)}function W(...t){let e=Xn(t);return Se(t,e)}function Gi(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Wh(t){return!!t&&(t instanceof ue||Q(t.lift)&&Q(t.subscribe))}var wn=Fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return le((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:CA}=Array;function TA(t,e){return CA(e)?t(...e):t(e)}function Xc(t){return ne(e=>TA(t,e))}var{isArray:SA}=Array,{getPrototypeOf:AA,prototype:RA,keys:MA}=Object;function eu(t){if(t.length===1){let e=t[0];if(SA(e))return{args:e,keys:null};if(NA(e)){let n=MA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function NA(t){return t&&typeof t=="object"&&AA(t)===RA}function tu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nu(...t){let e=Xn(t),n=$c(t),{args:r,keys:i}=eu(t);if(r.length===0)return Se([],e);let s=new ue(xA(r,e,i?o=>tu(i,o):Et));return n?s.pipe(Xc(n)):s}function xA(t,e,n=Et){return r=>{VI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)VI(e,()=>{let l=Se(t[u],e),f=!1;l.subscribe(ie(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function VI(t,e,n){t?gt(n,t,e):e()}function jI(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,y=()=>{g&&!u.length&&!l&&e.complete()},I=x=>l<r?A(x):u.push(x),A=x=>{s&&e.next(x),l++;let N=!1;Ne(n(x,f++)).subscribe(ie(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let F=u.shift();o?gt(e,o,()=>A(F)):A(F)}y()}catch(F){e.error(F)}}))};return t.subscribe(ie(e,I,()=>{g=!0,y()})),()=>{c?.()}}function Ve(t,e,n=1/0){return Q(e)?Ve((r,i)=>ne((s,o)=>e(r,s,i,o))(Ne(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>jI(r,i,t,n)))}function Wi(t=1/0){return Ve(Et,t)}function UI(){return Wi(1)}function Ki(...t){return UI()(Se(t,Xn(t)))}function ru(t){return new ue(e=>{Ne(t()).subscribe(e)})}function Kh(...t){let e=$c(t),{args:n,keys:r}=eu(t),i=new ue(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let g=!1;Ne(n[f]).subscribe(ie(s,y=>{g||(g=!0,l--),c[f]=y},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?tu(r,c):c),s.complete())}))}});return e?i.pipe(Xc(e)):i}function Ut(t,e){return le((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nr(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ie(n,void 0,void 0,o=>{s=Ne(t(o,nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function BI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(ie(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Qi(t,e){return Q(e)?Ve(t,e,1):Ve(t,1)}function rr(t){return le((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function En(t){return t<=0?()=>Dt:le((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Qh(t){return ne(()=>t)}function iu(t=PA){return le((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function PA(){return new wn}function Lo(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Zt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,s)=>t(i,s,r)):Et,En(1),n?rr(e):iu(()=>new wn))}function Yi(t){return t<=0?()=>Dt:le((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,s)=>t(i,s,r)):Et,Yi(1),n?rr(e):iu(()=>new wn))}function Zh(t,e){return le(BI(t,e,arguments.length>=2,!0))}function Jh(...t){let e=Xn(t);return le((n,r)=>{(e?Ki(t,n,e):Ki(t,n)).subscribe(r)})}function Bt(t,e){return le((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,f=s++;Ne(t(u,f)).subscribe(i=ie(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Xh(t){return le((e,n)=>{Ne(t).subscribe(ie(n,()=>n.complete(),ko)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ie(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var Sw="https://g.co/ng/security#xss",V=class extends Error{constructor(e,n){super(up(e,n)),this.code=e}};function up(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ko(t){return{toString:t}.toString()}var su="__parameters__";function OA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Aw(t,e,n){return Ko(()=>{let r=OA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(su)?u[su]:Object.defineProperty(u,su,{value:[]})[su];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var pf=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function kA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $I(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var FA=Ie({__forward_ref__:Ie});function Jr(t){return t.__forward_ref__=Jr,t.toString=function(){return mt(this())},t}function dt(t){return Rw(t)?t():t}function Rw(t){return typeof t=="function"&&t.hasOwnProperty(FA)&&t.__forward_ref__===Jr}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Uu(t){return HI(t,Nw)||HI(t,xw)}function Mw(t){return Uu(t)!==null}function HI(t,e){return t.hasOwnProperty(e)?t[e]:null}function LA(t){let e=t&&(t[Nw]||t[xw]);return e||null}function qI(t){return t&&(t.hasOwnProperty(zI)||t.hasOwnProperty(VA))?t[zI]:null}var Nw=Ie({\u0275prov:Ie}),zI=Ie({\u0275inj:Ie}),xw=Ie({ngInjectableDef:Ie}),VA=Ie({ngInjectorDef:Ie}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pw(t){return t&&!!t.\u0275providers}var jA=Ie({\u0275cmp:Ie}),UA=Ie({\u0275dir:Ie}),BA=Ie({\u0275pipe:Ie}),$A=Ie({\u0275mod:Ie}),mu=Ie({\u0275fac:Ie}),Uo=Ie({__NG_ELEMENT_ID__:Ie}),GI=Ie({__NG_ENV_ID__:Ie});function Bu(t){return typeof t=="string"?t:t==null?"":String(t)}function HA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bu(t)}function qA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new V(-200,t)}function lp(t,e){throw new V(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),gf;function Ow(){return gf}function Mt(t){let e=gf;return gf=t,e}function kw(t,e,n){let r=Uu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(e!==void 0)return e;lp(t,"Injector")}var zA={},Bo=zA,mf="__NG_DI_FLAG__",yu="ngTempTokenPath",GA="ngTokenPath",WA=/\n/gm,KA="\u0275",WI="__source",es;function QA(){return es}function ir(t){let e=es;return es=t,e}function YA(t,e=X.Default){if(es===void 0)throw new V(-203,!1);return es===null?kw(t,void 0,e):es.get(t,e&X.Optional?null:void 0,e)}function ee(t,e=X.Default){return(Ow()||YA)(dt(t),e)}function k(t,e=X.Default){return ee(t,$u(e))}function $u(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yf(t){let e=[];for(let n=0;n<t.length;n++){let r=dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){let c=r[o],u=ZA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(ee(i,s))}else e.push(ee(r))}return e}function Fw(t,e){return t[mf]=e,t.prototype[mf]=e,t}function ZA(t){return t[mf]}function JA(t,e,n,r){let i=t[yu];throw e[WI]&&i.unshift(e[WI]),t.message=XA(`
`+t.message,i,n,r),t[GA]=i,t[yu]=null,t}function XA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==KA?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):mt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(WA,`
  `)}`}var ht=Fw(Aw("Optional"),8);var Lw=Fw(Aw("SkipSelf"),4);function ns(t,e){let n=t.hasOwnProperty(mu);return n?t[mu]:null}function eR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function tR(t){return t.flat(Number.POSITIVE_INFINITY)}function dp(t,e){t.forEach(n=>Array.isArray(n)?dp(n,e):e(n))}function Vw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function rR(t,e,n){let r=Qo(t,e);return r>=0?t[r|1]=n:(r=~r,nR(t,r,e,n)),r}function ef(t,e){let n=Qo(t,e);if(n>=0)return t[n|1]}function Qo(t,e){return iR(t,e,1)}function iR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var rs={},Nt=[],is=new j(""),jw=new j("",-1),Uw=new j(""),_u=class{get(e,n=Bo){if(n===Bo){let r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}},Bw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bw||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),ar=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ar||{});function sR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function vf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];oR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $w(t){return t===3||t===4||t===6}function oR(t){return t.charCodeAt(0)===64}function $o(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?KI(t,n,i,null,e[++r]):KI(t,n,i,null,null))}}return t}function KI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Hw="ng-template";function aR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&sR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function hp(t){return t.type===4&&t.value!==Hw}function cR(t,e,n){let r=t.type===4&&!n?Hw:t.value;return e===r}function uR(t,e,n){let r=4,i=t.attrs,s=i!==null?hR(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!$t(r)&&!$t(u))return!1;if(o&&$t(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!cR(t,u,n)||u===""&&e.length===1){if($t(r))return!1;o=!0}}else if(r&8){if(i===null||!aR(t,i,u,n)){if($t(r))return!1;o=!0}}else{let l=e[++c],f=lR(u,i,hp(t),n);if(f===-1){if($t(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if($t(r))return!1;o=!0}}}}return $t(r)||o}function $t(t){return(t&1)===0}function lR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return fR(e,t)}function dR(t,e,n=!1){for(let r=0;r<e.length;r++)if(uR(t,e[r],n))return!0;return!1}function hR(t){for(let e=0;e<t.length;e++){let n=t[e];if($w(n))return e}return t.length}function fR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function QI(t,e){return t?":not("+e.trim()+")":e}function pR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!$t(o)&&(e+=QI(s,i),i=""),r=o,s=s||!$t(r);n++}return i!==""&&(e+=QI(s,i)),e}function gR(t){return t.map(pR).join(",")}function mR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!$t(i))break;i=s}r++}return{attrs:e,classes:n}}function xe(t){return Ko(()=>{let e=Kw(t),n=re(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""});Qw(n);let r=t.dependencies;return n.directiveDefs=ZI(r,!1),n.pipeDefs=ZI(r,!0),n.id=_R(n),n})}function yR(t){return Hr(t)||qw(t)}function vR(t){return t!==null}function ei(t){return Ko(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YI(t,e){if(t==null)return rs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=ar.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==ar.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Je(t){return Ko(()=>{let e=Kw(t);return Qw(e),e})}function Hr(t){return t[jA]||null}function qw(t){return t[UA]||null}function zw(t){return t[BA]||null}function Gw(t){let e=Hr(t)||qw(t)||zw(t);return e!==null?e.standalone:!1}function Ww(t,e){let n=t[$A]||null;if(!n&&e===!0)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function Kw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||rs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YI(t.inputs,e),outputs:YI(t.outputs),debugInfo:null}}function Qw(t){t.features?.forEach(e=>e(t))}function ZI(t,e){if(!t)return null;let n=e?zw:yR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(vR)}function _R(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sn(t){return{\u0275providers:t}}function IR(...t){return{\u0275providers:Yw(!0,t),\u0275fromNgModule:!0}}function Yw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return dp(e,o=>{let c=o;_f(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Zw(i,s),n}function Zw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fp(i,s=>{e(s,r)})}}function _f(t,e,n,r){if(t=dt(t),!t)return!1;let i=null,s=qI(t),o=!s&&Hr(t);if(!s&&!o){let u=t.ngModule;if(s=qI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)_f(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{dp(s.imports,f=>{_f(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Zw(l,e)}if(!c){let l=ns(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:Uw,useValue:i,multi:!0},i),e({provide:is,useValue:()=>ee(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;fp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function fp(t,e){for(let n of t)Pw(n)&&(n=n.\u0275providers),Array.isArray(n)?fp(n,e):e(n)}var wR=Ie({provide:String,useValue:Ie});function Jw(t){return t!==null&&typeof t=="object"&&wR in t}function ER(t){return!!(t&&t.useExisting)}function DR(t){return!!(t&&t.useFactory)}function ss(t){return typeof t=="function"}function bR(t){return!!t.useClass}var Hu=new j(""),lu={},CR={},tf;function pp(){return tf===void 0&&(tf=new _u),tf}var Pt=class{},Ho=class extends Pt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wf(e,o=>this.processProvider(o)),this.records.set(jw,Zi(void 0,this)),i.has("environment")&&this.records.set(Pt,Zi(void 0,this));let s=this.records.get(Hu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Uw,Nt,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),r=Mt(void 0),i;try{return e()}finally{ir(n),Mt(r)}}get(e,n=Bo,r=X.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GI))return e[GI](this);r=$u(r);let i,s=ir(this),o=Mt(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=MR(e)&&Uu(e);l&&this.injectableDefInScope(l)?u=Zi(If(e),lu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&X.Self?pp():this.parent;return n=r&X.Optional&&n===Bo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[yu]=c[yu]||[]).unshift(mt(e)),s)throw c;return JA(c,e,"R3InjectorError",this.source)}else throw c}finally{Mt(o),ir(s)}}resolveInjectorInitializers(){let e=ce(null),n=ir(this),r=Mt(void 0),i;try{let s=this.get(is,Nt,X.Self);for(let o of s)o()}finally{ir(n),Mt(r),ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){e=dt(e);let n=ss(e)?e:dt(e&&e.provide),r=SR(e);if(!ss(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,lu,!0),i.factory=()=>yf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ce(null);try{return n.value===lu&&(n.value=CR,n.value=n.factory()),typeof n.value=="object"&&n.value&&RR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function If(t){let e=Uu(t),n=e!==null?e.factory:ns(t);if(n!==null)return n;if(t instanceof j)throw new V(204,!1);if(t instanceof Function)return TR(t);throw new V(204,!1)}function TR(t){if(t.length>0)throw new V(204,!1);let n=LA(t);return n!==null?()=>n.factory(t):()=>new t}function SR(t){if(Jw(t))return Zi(void 0,t.useValue);{let e=Xw(t);return Zi(e,lu)}}function Xw(t,e,n){let r;if(ss(t)){let i=dt(t);return ns(i)||If(i)}else if(Jw(t))r=()=>dt(t.useValue);else if(DR(t))r=()=>t.useFactory(...yf(t.deps||[]));else if(ER(t))r=()=>ee(dt(t.useExisting));else{let i=dt(t&&(t.useClass||t.provide));if(AR(t))r=()=>new i(...yf(t.deps));else return ns(i)||If(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AR(t){return!!t.deps}function RR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function MR(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function wf(t,e){for(let n of t)Array.isArray(n)?wf(n,e):n&&Pw(n)?wf(n.\u0275providers,e):e(n)}function Sn(t,e){t instanceof Ho&&t.assertNotDestroyed();let n,r=ir(t),i=Mt(void 0);try{return e()}finally{ir(r),Mt(i)}}function NR(){return Ow()!==void 0||QA()!=null}function xR(t){return typeof t=="function"}var An=0,Y=1,z=2,st=3,Ht=4,Gt=5,Iu=6,wu=7,qt=8,os=9,tn=10,Re=11,qo=12,JI=13,ps=14,nn=15,qr=16,Ji=17,Dn=18,qu=19,eE=20,sr=21,nf=22,xt=23,zt=25,tE=1;var zr=7,Eu=8,as=9,yt=10,Du=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Du||{});function or(t){return Array.isArray(t)&&typeof t[tE]=="object"}function Rn(t){return Array.isArray(t)&&t[tE]===!0}function gp(t){return(t.flags&4)!==0}function zu(t){return t.componentOffset>-1}function Gu(t){return(t.flags&1)===1}function cr(t){return!!t.template}function Ef(t){return(t[z]&512)!==0}var Df=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function nE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Mn(){return rE}function rE(t){return t.type.prototype.ngOnChanges&&(t.setInput=OR),PR}Mn.ngInherit=!0;function PR(){let t=sE(this),e=t?.current;if(e){let n=t.previous;if(n===rs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OR(t,e,n,r,i){let s=this.declaredInputs[r],o=sE(t)||kR(t,{previous:rs,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new Df(l&&l.currentValue,n,u===rs),nE(t,e,i,n)}var iE="__ngSimpleChanges__";function sE(t){return t[iE]||null}function kR(t,e){return t[iE]=e}var XI=null;var Jt=function(t,e,n){XI?.(t,e,n)},oE="svg",FR="math";function rn(t){for(;Array.isArray(t);)t=t[An];return t}function aE(t,e){return rn(e[t])}function Ot(t,e){return rn(e[t.index])}function mp(t,e){return t.data[e]}function dr(t,e){let n=e[t];return or(n)?n:n[An]}function LR(t){return(t[z]&4)===4}function yp(t){return(t[z]&128)===128}function VR(t){return Rn(t[st])}function cs(t,e){return e==null?null:t[e]}function cE(t){t[Ji]=0}function uE(t){t[z]&1024||(t[z]|=1024,yp(t)&&Ku(t))}function jR(t,e){for(;t>0;)e=e[ps],t--;return e}function Wu(t){return!!(t[z]&9216||t[xt]?.dirty)}function bf(t){t[tn].changeDetectionScheduler?.notify(8),t[z]&64&&(t[z]|=1024),Wu(t)&&Ku(t)}function Ku(t){t[tn].changeDetectionScheduler?.notify(0);let e=Gr(t);for(;e!==null&&!(e[z]&8192||(e[z]|=8192,!yp(e)));)e=Gr(e)}function lE(t,e){if((t[z]&256)===256)throw new V(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function UR(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function Gr(t){let e=t[st];return Rn(e)?e[st]:e}var se={lFrame:_E(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dE=!1;function BR(){return se.lFrame.elementDepthCount}function $R(){se.lFrame.elementDepthCount++}function HR(){se.lFrame.elementDepthCount--}function hE(){return se.bindingsEnabled}function qR(){return se.skipHydrationRootTNode!==null}function zR(t){return se.skipHydrationRootTNode===t}function GR(){se.skipHydrationRootTNode=null}function me(){return se.lFrame.lView}function He(){return se.lFrame.tView}function Xe(){let t=fE();for(;t!==null&&t.type===64;)t=t.parent;return t}function fE(){return se.lFrame.currentTNode}function WR(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ti(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function vp(){return se.lFrame.isParent}function pE(){se.lFrame.isParent=!1}function gE(){return dE}function ew(t){dE=t}function KR(t){return se.lFrame.bindingIndex=t}function Yo(){return se.lFrame.bindingIndex++}function QR(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function YR(){return se.lFrame.inI18n}function ZR(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cf(e)}function JR(){return se.lFrame.currentDirectiveIndex}function Cf(t){se.lFrame.currentDirectiveIndex=t}function XR(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function mE(){return se.lFrame.currentQueryIndex}function _p(t){se.lFrame.currentQueryIndex=t}function eM(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function yE(t,e,n){if(n&X.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=eM(s),i===null||(s=s[ps],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=se.lFrame=vE();return r.currentTNode=e,r.lView=t,!0}function Ip(t){let e=vE(),n=t[Y];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vE(){let t=se.lFrame,e=t===null?null:t.child;return e===null?_E(t):e}function _E(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function IE(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var wE=IE;function wp(){let t=IE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tM(t){return(se.lFrame.contextLView=jR(t,se.lFrame.contextLView))[qt]}function gs(){return se.lFrame.selectedIndex}function Wr(t){se.lFrame.selectedIndex=t}function Qu(){let t=se.lFrame;return mp(t.tView,t.selectedIndex)}function EE(){se.lFrame.currentNamespace=oE}function nM(){return se.lFrame.currentNamespace}var DE=!0;function Yu(){return DE}function Zu(t){DE=t}function rM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=rE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ju(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function du(t,e,n){bE(t,e,3,n)}function hu(t,e,n,r){(t[z]&3)===n&&bE(t,e,n,r)}function rf(t,e){let n=t[z];(n&3)===e&&(n&=16383,n+=1,t[z]=n)}function bE(t,e,n,r){let i=r!==void 0?t[Ji]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ji]+=65536),(c<s||s==-1)&&(iM(t,n,e,u),t[Ji]=(t[Ji]&4294901760)+u+2),u++}function tw(t,e){Jt(4,t,e);let n=ce(null);try{e.call(t)}finally{ce(n),Jt(5,t,e)}}function iM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[z]>>14<t[Ji]>>16&&(t[z]&3)===e&&(t[z]+=16384,tw(c,s)):tw(c,s)}var ts=-1,Kr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sM(t){return t instanceof Kr}function oM(t){return(t.flags&8)!==0}function aM(t){return(t.flags&16)!==0}var sf={},Tf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$u(r);let i=this.injector.get(e,sf,r);return i!==sf||n===sf?i:this.parentInjector.get(e,n,r)}};function CE(t){return t!==ts}function bu(t){return t&32767}function cM(t){return t>>16}function Cu(t,e){let n=cM(t),r=e;for(;n>0;)r=r[ps],n--;return r}var Sf=!0;function nw(t){let e=Sf;return Sf=t,e}var uM=256,TE=uM-1,SE=5,lM=0,Xt={};function dM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Uo)&&(r=n[Uo]),r==null&&(r=n[Uo]=lM++);let i=r&TE,s=1<<i;e.data[t+(i>>SE)]|=s}function Tu(t,e){let n=AE(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,of(r.data,t),of(e,null),of(r.blueprint,null));let i=Ep(t,e),s=t.injectorIndex;if(CE(i)){let o=bu(i),c=Cu(i,e),u=c[Y].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function of(t,e){t.push(0,0,0,0,0,0,0,0,e)}function AE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ep(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=PE(i),r===null)return ts;if(n++,i=i[ps],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ts}function Af(t,e,n){dM(t,e,n)}function hM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if($w(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function RE(t,e,n){if(n&X.Optional||t!==void 0)return t;lp(e,"NodeInjector")}function ME(t,e,n,r){if(n&X.Optional&&r===void 0&&(r=null),!(n&(X.Self|X.Host))){let i=t[os],s=Mt(void 0);try{return i?i.get(e,r,n&X.Optional):kw(e,r,n&X.Optional)}finally{Mt(s)}}return RE(r,e,n)}function NE(t,e,n,r=X.Default,i){if(t!==null){if(e[z]&2048&&!(r&X.Self)){let o=mM(t,e,n,r,Xt);if(o!==Xt)return o}let s=xE(t,e,n,r,Xt);if(s!==Xt)return s}return ME(e,n,r,i)}function xE(t,e,n,r,i){let s=pM(n);if(typeof s=="function"){if(!yE(e,t,r))return r&X.Host?RE(i,n,r):ME(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&X.Optional))lp(n);else return o}finally{wE()}}else if(typeof s=="number"){let o=null,c=AE(t,e),u=ts,l=r&X.Host?e[nn][Gt]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?Ep(t,e):e[c+8],u===ts||!iw(r,!1)?c=-1:(o=e[Y],c=bu(u),e=Cu(u,e)));c!==-1;){let f=e[Y];if(rw(s,c,f.data)){let g=fM(c,e,n,o,r,l);if(g!==Xt)return g}u=e[c+8],u!==ts&&iw(r,e[Y].data[c+8]===l)&&rw(s,c,e)?(o=f,c=bu(u),e=Cu(u,e)):c=-1}}return i}function fM(t,e,n,r,i,s){let o=e[Y],c=o.data[t+8],u=r==null?zu(c)&&Sf:r!=o&&(c.type&3)!==0,l=i&X.Host&&s===c,f=fu(c,o,n,u,l);return f!==null?Qr(e,o,f,c):Xt}function fu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,y=i?c+f:l;for(let I=g;I<y;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&cr(I)&&I.type===n)return u}return null}function Qr(t,e,n,r){let i=t[n],s=e.data;if(sM(i)){let o=i;o.resolving&&qA(HA(s[n]));let c=nw(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Mt(o.injectImpl):null,f=yE(t,r,X.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&rM(n,s[n],e)}finally{l!==null&&Mt(l),nw(c),o.resolving=!1,wE()}}return i}function pM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Uo)?t[Uo]:void 0;return typeof e=="number"?e>=0?e&TE:gM:e}function rw(t,e,n){let r=1<<t;return!!(n[e+(t>>SE)]&r)}function iw(t,e){return!(t&X.Self)&&!(t&X.Host&&e)}var $r=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return NE(this._tNode,this._lView,e,$u(r),n)}};function gM(){return new $r(Xe(),me())}function ms(t){return Ko(()=>{let e=t.prototype.constructor,n=e[mu]||Rf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[mu]||Rf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Rf(t){return Rw(t)?()=>{let e=Rf(dt(t));return e&&e()}:ns(t)}function mM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[z]&2048&&!(o[z]&512);){let c=xE(s,o,n,r|X.Self,Xt);if(c!==Xt)return c;let u=s.parent;if(!u){let l=o[eE];if(l){let f=l.get(n,Xt,r);if(f!==Xt)return f}u=PE(o),o=o[ps]}s=u}return i}function PE(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function Dp(t){return hM(Xe(),t)}function sw(t,e=null,n=null,r){let i=OE(t,e,n,r);return i.resolveInjectorInitializers(),i}function OE(t,e=null,n=null,r,i=new Set){let s=[n||Nt,IR(t)];return r=r||(typeof t=="object"?void 0:mt(t)),new Ho(s,e||pp(),r||null,i)}var Ur=class Ur{static create(e,n){if(Array.isArray(e))return sw({name:""},n,e,"");{let r=e.name??"";return sw({name:r},e.parent,e.providers,r)}}};Ur.THROW_IF_NOT_FOUND=Bo,Ur.NULL=new _u,Ur.\u0275prov=$({token:Ur,providedIn:"any",factory:()=>ee(jw)}),Ur.__NG_ELEMENT_ID__=-1;var vt=Ur;var yM=new j("");yM.__NG_ELEMENT_ID__=t=>{let e=Xe();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&X.Optional)return null;throw new V(204,!1)};var vM="ngOriginalError";function af(t){return t[vM]}var kE=!0,FE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_M,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Mf=class extends FE{constructor(e){super(),this._lView=e}onDestroy(e){return lE(this._lView,e),()=>UR(this._lView,e)}};function _M(){return new Mf(me())}var ys=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Nf=class extends $e{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,NR()&&(this.destroyRef=k(FE,{optional:!0})??void 0,this.pendingTasks=k(ys,{optional:!0})??void 0)}emit(e){let n=ce(null);try{super.next(e)}finally{ce(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ae=Nf;function Su(...t){}function LE(t){let e,n;function r(){t=Su;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ow(t){return queueMicrotask(()=>t()),()=>{t=Su}}var bp="isAngularZone",Au=bp+"_ID",IM=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=kE}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,DM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wM,Su,Su);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wM={};function Cp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){LE(()=>{t.callbackScheduled=!1,xf(t),t.isCheckStableRunning=!0,Cp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),xf(t)}function DM(t){let e=()=>{EM(t)},n=IM++;t._inner=t._inner.fork({name:"angular",properties:{[bp]:!0,[Au]:n,[Au+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(bM(u))return r.invokeTask(s,o,c,u);try{return aw(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),cw(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return aw(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!CM(u)&&e(),cw(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,xf(t),Cp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function xf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function aw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cw(t){t._nesting--,Cp(t)}var Pf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function bM(t){return VE(t,"__ignore_ng_zone__")}function CM(t){return VE(t,"__scheduler_tick__")}function VE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&af(e);for(;n&&af(n);)n=af(n);return n||null}},TM=new j("",{providedIn:"root",factory:()=>{let t=k(ve),e=k(bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function SM(){return vs(Xe(),me())}function vs(t,e){return new kt(Ot(t,e))}var kt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=SM;let t=e;return t})();function AM(t){return t instanceof kt?t.nativeElement:t}function RM(){return this._results[Symbol.iterator]()}var Of=class t{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=tR(e);(this._changesDetected=!eR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function jE(t){return(t.flags&128)===128}var UE=new Map,MM=0;function NM(){return MM++}function xM(t){UE.set(t[qu],t)}function kf(t){UE.delete(t[qu])}var uw="__ngContext__";function ur(t,e){or(e)?(t[uw]=e[qu],xM(e)):t[uw]=e}function BE(t){return HE(t[qo])}function $E(t){return HE(t[Ht])}function HE(t){for(;t!==null&&!Rn(t);)t=t[Ht];return t}var Ff;function qE(t){Ff=t}function PM(){if(Ff!==void 0)return Ff;if(typeof document<"u")return document;throw new V(210,!1)}var Tp=new j("",{providedIn:"root",factory:()=>OM}),OM="ng",Sp=new j(""),hr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Ap=new j("",{providedIn:"root",factory:()=>PM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kM="h",FM="b";var LM=()=>null;function Rp(t,e,n=!1){return LM(t,e,n)}var zE=!1,VM=new j("",{providedIn:"root",factory:()=>zE});var ou;function jM(){if(ou===void 0&&(ou=null,pf.trustedTypes))try{ou=pf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ou}function lw(t){return jM()?.createScriptURL(t)||t}var Ru=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sw})`}};function Zo(t){return t instanceof Ru?t.changingThisBreaksApplicationSecurity:t}function Mp(t,e){let n=UM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Sw})`)}return n===e}function UM(t){return t instanceof Ru&&t.getTypeName()||null}var BM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function GE(t){return t=String(t),t.match(BM)?t:"unsafe:"+t}var Xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xu||{});function $M(t){let e=KE();return e?e.sanitize(Xu.URL,t)||"":Mp(t,"URL")?Zo(t):GE(Bu(t))}function HM(t){let e=KE();if(e)return lw(e.sanitize(Xu.RESOURCE_URL,t)||"");if(Mp(t,"ResourceURL"))return lw(Zo(t));throw new V(904,!1)}function qM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?HM:$M}function WE(t,e,n){return qM(e,n)(t)}function KE(){let t=me();return t&&t[tn].sanitizer}var zM=/^>|^->|<!--|-->|--!>|<!-$/g,GM=/(<|>)/g,WM="\u200B$1\u200B";function KM(t){return t.replace(zM,e=>e.replace(GM,WM))}function QE(t){return t instanceof Function?t():t}var Cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cn||{}),QM;function Np(t,e){return QM(t,e)}function Xi(t,e,n,r,i){if(r!=null){let s,o=!1;Rn(r)?s=r:or(r)&&(o=!0,r=r[An]);let c=rn(r);t===0&&n!==null?i==null?XE(e,n,c):Nu(e,n,c,i||null,!0):t===1&&n!==null?Nu(e,n,c,i||null,!0):t===2?dN(e,c,o):t===3&&e.destroyNode(c),s!=null&&fN(e,t,s,n,i)}}function YM(t,e){return t.createText(e)}function ZM(t,e,n){t.setValue(e,n)}function JM(t,e){return t.createComment(KM(e))}function YE(t,e,n){return t.createElement(e,n)}function XM(t,e){ZE(t,e),e[An]=null,e[Gt]=null}function eN(t,e,n,r,i,s){r[An]=i,r[Gt]=e,tl(t,r,n,1,i,s)}function ZE(t,e){e[tn].changeDetectionScheduler?.notify(9),tl(t,e,e[Re],2,null,null)}function tN(t){let e=t[qo];if(!e)return cf(t[Y],t);for(;e;){let n=null;if(or(e))n=e[qo];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)or(e)&&cf(e[Y],e),e=e[st];e===null&&(e=t),or(e)&&cf(e[Y],e),n=e&&e[Ht]}e=n}}function nN(t,e,n,r){let i=yt+r,s=n.length;r>0&&(n[i-1][Ht]=e),r<s-yt?(e[Ht]=n[i],Vw(n,yt+r,e)):(n.push(e),e[Ht]=null),e[st]=n;let o=e[qr];o!==null&&n!==o&&JE(o,e);let c=e[Dn];c!==null&&c.insertView(t),bf(e),e[z]|=128}function JE(t,e){let n=t[as],r=e[st];if(or(r))t[z]|=Du.HasTransplantedViews;else{let i=r[st][nn];e[nn]!==i&&(t[z]|=Du.HasTransplantedViews)}n===null?t[as]=[e]:n.push(e)}function xp(t,e){let n=t[as],r=n.indexOf(e);n.splice(r,1)}function Mu(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[qr];i!==null&&i!==t&&xp(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let s=vu(t,yt+e);XM(r[Y],r);let o=s[Dn];o!==null&&o.detachView(s[Y]),r[st]=null,r[Ht]=null,r[z]&=-129}return r}function Pp(t,e){if(!(e[z]&256)){let n=e[Re];n.destroyNode&&tl(t,e,n,3,null,null),tN(e)}}function cf(t,e){if(e[z]&256)return;let n=ce(null);try{e[z]&=-129,e[z]|=256,e[xt]&&xh(e[xt]),iN(t,e),rN(t,e),e[Y].type===1&&e[Re].destroy();let r=e[qr];if(r!==null&&Rn(e[st])){r!==e[st]&&xp(r,e);let i=e[Dn];i!==null&&i.detachView(t)}kf(e)}finally{ce(n)}}function rN(t,e){let n=t.cleanup,r=e[wu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[wu]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function iN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Kr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Jt(4,c,u);try{u.call(c)}finally{Jt(5,c,u)}}else{Jt(4,i,s);try{s.call(i)}finally{Jt(5,i,s)}}}}}function sN(t,e,n){return oN(t,e.parent,n)}function oN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===en.None||s===en.Emulated)return null}return Ot(r,n)}}function Nu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function XE(t,e,n){t.appendChild(e,n)}function dw(t,e,n,r,i){r!==null?Nu(t,e,n,r,i):XE(t,e,n)}function eD(t,e){return t.parentNode(e)}function aN(t,e){return t.nextSibling(e)}function cN(t,e,n){return lN(t,e,n)}function uN(t,e,n){return t.type&40?Ot(t,n):null}var lN=uN,hw;function el(t,e,n,r){let i=sN(t,r,e),s=e[Re],o=r.parent||e[Gt],c=cN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)dw(s,i,n[u],c,!1);else dw(s,i,n,c,!1);hw!==void 0&&hw(s,r,e,n,i)}function Vo(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return Lf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Vo(t,r);{let i=t[e.index];return Rn(i)?Lf(-1,i):rn(i)}}else{if(n&128)return Vo(t,e.next);if(n&32)return Np(e,t)()||rn(t[e.index]);{let r=tD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gr(t[nn]);return Vo(i,r)}else return Vo(t,e.next)}}}return null}function tD(t,e){if(e!==null){let r=t[nn][Gt],i=e.projection;return r.projection[i]}return null}function Lf(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return Vo(r,i)}return e[zr]}function dN(t,e,n){t.removeChild(null,e,n)}function Op(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&ur(rn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Op(t,e,n.child,r,i,s,!1),Xi(e,t,i,c,s);else if(u&32){let l=Np(n,r),f;for(;f=l();)Xi(e,t,i,f,s);Xi(e,t,i,c,s)}else u&16?hN(t,e,r,n,i,s):Xi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function tl(t,e,n,r,i,s){Op(n,r,t.firstChild,e,i,s,!1)}function hN(t,e,n,r,i,s){let o=n[nn],u=o[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Xi(e,t,i,f,s)}else{let l=u,f=o[st];jE(r)&&(l.flags|=128),Op(t,e,l,f,i,s,!0)}}function fN(t,e,n,r,i){let s=n[zr],o=rn(n);s!==o&&Xi(e,t,r,s,i);for(let c=yt;c<n.length;c++){let u=n[c];tl(u[Y],u,t,e,r,s)}}function pN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),t.setStyle(n,r,i,s))}}function gN(t,e,n){t.setAttribute(e,"style",n)}function nD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&vf(t,e,r),i!==null&&nD(t,e,i),s!==null&&gN(t,e,s)}var fr={};function qe(t=1){iD(He(),me(),gs()+t,!1)}function iD(t,e,n,r){if(!r)if((e[z]&3)===3){let s=t.preOrderCheckHooks;s!==null&&du(e,s,n)}else{let s=t.preOrderHooks;s!==null&&hu(e,s,0,n)}Wr(n)}function G(t,e=X.Default){let n=me();if(n===null)return ee(t,e);let r=Xe();return NE(r,n,dt(t),e)}function sD(t,e,n,r,i,s){let o=ce(null);try{let c=null;i&ar.SignalBased&&(c=e[r][In]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ar.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):nE(e,c,r,s)}finally{ce(o)}}function mN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wr(~i);else{let s=i,o=n[++r],c=n[++r];ZR(o,s);let u=e[s];c(2,u)}}}finally{Wr(-1)}}function nl(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[An]=i,g[z]=r|4|128|8|64,(l!==null||t&&t[z]&2048)&&(g[z]|=2048),cE(g),g[st]=g[ps]=t,g[qt]=n,g[tn]=o||t&&t[tn],g[Re]=c||t&&t[Re],g[os]=u||t&&t[os]||null,g[Gt]=s,g[qu]=NM(),g[Iu]=f,g[eE]=l,g[nn]=e.type==2?t[nn]:g,g}function Jo(t,e,n,r,i){let s=t.data[e];if(s===null)s=yN(t,e,n,r,i),YR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=WR();s.injectorIndex=o===null?-1:o.injectorIndex}return ti(s,!0),s}function yN(t,e,n,r,i){let s=fE(),o=vp(),c=o?s:s&&s.parent,u=t.data[e]=DN(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function oD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function aD(t,e,n,r,i){let s=gs(),o=r&2;try{Wr(-1),o&&e.length>zt&&iD(t,e,zt,!1),Jt(o?2:0,i),n(r,i)}finally{Wr(s),Jt(o?3:1,i)}}function kp(t,e,n){if(gp(e)){let r=ce(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ce(r)}}}function Fp(t,e,n){hE()&&(RN(t,e,n,Ot(n,e)),(n.flags&64)===64&&lD(t,e,n))}function Lp(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function cD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Vp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Vp(t,e,n,r,i,s,o,c,u,l,f){let g=zt+r,y=g+i,I=vN(g,y),A=typeof l=="function"?l():l;return I[Y]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function vN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:fr);return n}function _N(t,e,n,r){let s=r.get(VM,zE)||n===en.ShadowDom,o=t.selectRootElement(e,s);return IN(o),o}function IN(t){wN(t)}var wN=()=>null;function EN(t,e,n,r){let i=fD(e);i.push(n),t.firstCreatePass&&pD(t).push(r,i.length-1)}function DN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return qR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=ar.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?pw(r,n,l,c,u):pw(r,n,l,c)}return r}function pw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function bN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],y=n?n.get(g):null,I=y?y.inputs:null,A=y?y.outputs:null;u=fw(0,g.inputs,f,u,I),l=fw(1,g.outputs,f,l,A);let x=u!==null&&o!==null&&!hp(e)?UN(u,f,o):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function CN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jp(t,e,n,r,i,s,o,c){let u=Ot(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Bp(t,n,f,r,i),zu(e)&&TN(n,e.index)):e.type&3?(r=CN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function TN(t,e){let n=dr(e,t);n[z]&16||(n[z]|=64)}function Up(t,e,n,r){if(hE()){let i=r===null?null:{"":-1},s=NN(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&uD(t,e,n,o,i,c),i&&xN(n,r,i)}n.mergedAttrs=$o(n.mergedAttrs,n.attrs)}function uD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Af(Tu(n,e),t,r[l].type);ON(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=oD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=$o(n.mergedAttrs,f.hostAttrs),kN(t,n,e,u,f),PN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}bN(t,n,s)}function SN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;AN(o)!=c&&o.push(c),o.push(n,r,s)}}function AN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function RN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;zu(n)&&FN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Tu(n,e),ur(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Qr(e,t,c,n);if(ur(l,e),o!==null&&jN(e,c-i,l,u,n,o),cr(u)){let f=dr(n.index,e);f[qt]=Qr(e,t,c,n)}}}function lD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=JR();try{Wr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Cf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&MN(u,l)}}finally{Wr(-1),Cf(o)}}function MN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function NN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(dR(e,o.selectors,!1))if(r||(r=[]),cr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Vf(t,e,u)}else r.unshift(o),Vf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Vf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new V(-301,!1);r.push(e[i],s)}}}function PN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cr(e)&&(n[""]=t)}}function ON(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ns(i.type,!0)),o=new Kr(s,cr(i),G);t.blueprint[r]=o,n[r]=o,SN(t,e,r,oD(t,n,i.hostVars,fr),i)}function FN(t,e,n){let r=Ot(e,t),i=cD(n),s=t[tn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=rl(t,nl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function LN(t,e,n,r,i,s){let o=Ot(t,e);VN(e[Re],o,s,t.value,n,r,i)}function VN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Bu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function jN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];sD(r,n,u,l,f,g)}}function UN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function dD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hD(t,e){let n=t.contentQueries;if(n!==null){let r=ce(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];_p(s),c.contentQueries(2,e[o],o)}}}finally{ce(r)}}}function rl(t,e){return t[qo]?t[JI][Ht]=e:t[qo]=e,t[JI]=e,e}function jf(t,e,n){_p(0);let r=ce(null);try{e(t,n)}finally{ce(r)}}function fD(t){return t[wu]??=[]}function pD(t){return t.cleanup??=[]}function gD(t,e){let n=t[os],r=n?n.get(bn,null):null;r&&r.handleError(e)}function Bp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];sD(f,l,r,c,u,i)}}function BN(t,e,n){let r=aE(e,t);ZM(t[Re],r,n)}function $N(t,e){let n=dr(e,t),r=n[Y];HN(r,n);let i=n[An];i!==null&&n[Iu]===null&&(n[Iu]=Rp(i,n[os])),$p(r,n,n[qt])}function HN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function $p(t,e,n){Ip(e);try{let r=t.viewQuery;r!==null&&jf(1,r,n);let i=t.template;i!==null&&aD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Dn]?.finishViewCreation(t),t.staticContentQueries&&hD(t,e),t.staticViewQueries&&jf(2,t.viewQuery,n);let s=t.components;s!==null&&qN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[z]&=-5,wp()}}function qN(t,e){for(let n=0;n<e.length;n++)$N(t,e[n])}function mD(t,e,n,r){let i=ce(null);try{let s=e.tView,c=t[z]&4096?4096:16,u=nl(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[qr]=l;let f=t[Dn];return f!==null&&(u[Dn]=f.createEmbeddedView(s)),$p(s,u,n),u}finally{ce(i)}}function zN(t,e){let n=yt+e;if(n<t.length)return t[n]}function Uf(t,e){return!e||e.firstChild===null||jE(t)}function yD(t,e,n,r=!0){let i=e[Y];if(nN(i,e,t,n),r){let o=Lf(n,t),c=e[Re],u=eD(c,t[zr]);u!==null&&eN(i,t[Gt],c,e,u,o)}let s=e[Iu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function GN(t,e){let n=Mu(t,e);return n!==void 0&&Pp(n[Y],n),n}function xu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(rn(s)),Rn(s)&&WN(s,r);let o=n.type;if(o&8)xu(t,e,n.child,r);else if(o&32){let c=Np(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=tD(e,n);if(Array.isArray(c))r.push(...c);else{let u=Gr(e[nn]);xu(u[Y],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function WN(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&xu(r[Y],r,i,e)}t[zr]!==t[An]&&e.push(t[zr])}var vD=[];function KN(t){return t[xt]??QN(t)}function QN(t){let e=vD.pop()??Object.create(ZN);return e.lView=t,e}function YN(t){t.lView[xt]!==t&&(t.lView=null,vD.push(t))}var ZN=re(O({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ku(t.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function JN(t){let e=t[xt]??Object.create(XN);return e.lView=t,e}var XN=re(O({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Gr(t.lView);for(;e&&!_D(e[Y]);)e=Gr(e);e&&uE(e)},consumerOnSignalRead(){this.lView[xt]=this}});function _D(t){return t.type!==2}var ex=100;function ID(t,e=!0,n=0){let r=t[tn],i=r.rendererFactory,s=!1;s||i.begin?.();try{tx(t,n)}catch(o){throw e&&gD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function tx(t,e){let n=gE();try{ew(!0),Bf(t,e);let r=0;for(;Wu(t);){if(r===ex)throw new V(103,!1);r++,Bf(t,1)}}finally{ew(n)}}function nx(t,e,n,r){let i=e[z];if((i&256)===256)return;let s=!1,o=!1;!s&&e[tn].inlineEffectRunner?.flush(),Ip(e);let c=!0,u=null,l=null;s||(_D(t)?(l=KN(e),u=Nc(l)):iI()===null?(c=!1,l=JN(e),u=Nc(l)):e[xt]&&(xh(e[xt]),e[xt]=null));try{cE(e),KR(t.bindingStartIndex),n!==null&&aD(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&du(e,I,null)}else{let I=t.preOrderHooks;I!==null&&hu(e,I,0,null),rf(e,0)}if(o||rx(e),wD(e,0),t.contentQueries!==null&&hD(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&du(e,I)}else{let I=t.contentHooks;I!==null&&hu(e,I,1),rf(e,1)}mN(t,e);let g=t.components;g!==null&&DD(e,g,0);let y=t.viewQuery;if(y!==null&&jf(2,y,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&du(e,I)}else{let I=t.viewHooks;I!==null&&hu(e,I,2),rf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[nf]){for(let I of e[nf])I();e[nf]=null}s||(e[z]&=-73)}catch(f){throw s||Ku(e),f}finally{l!==null&&(Mh(l,u),c&&YN(l)),wp()}}function wD(t,e){for(let n=BE(t);n!==null;n=$E(n))for(let r=yt;r<n.length;r++){let i=n[r];ED(i,e)}}function rx(t){for(let e=BE(t);e!==null;e=$E(e)){if(!(e[z]&Du.HasTransplantedViews))continue;let n=e[as];for(let r=0;r<n.length;r++){let i=n[r];uE(i)}}}function ix(t,e,n){let r=dr(e,t);ED(r,n)}function ED(t,e){yp(t)&&Bf(t,e)}function Bf(t,e){let r=t[Y],i=t[z],s=t[xt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Nh(s)),o||=!1,s&&(s.dirty=!1),t[z]&=-9217,o)nx(r,t,r.template,t[qt]);else if(i&8192){wD(t,1);let c=r.components;c!==null&&DD(t,c,1)}}function DD(t,e,n){for(let r=0;r<e.length;r++)ix(t,e[r],n)}function Hp(t,e){let n=gE()?64:1088;for(t[tn].changeDetectionScheduler?.notify(e);t;){t[z]|=n;let r=Gr(t);if(Ef(t)&&!r)return t;t=r}return null}var Yr=class{get rootNodes(){let e=this._lView,n=e[Y];return xu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Rn(e)){let n=e[Eu],r=n?n.indexOf(this):-1;r>-1&&(Mu(e,r),vu(n,r))}this._attachedToViewContainer=!1}Pp(this._lView[Y],this._lView)}onDestroy(e){lE(this._lView,e)}markForCheck(){Hp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){bf(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,ID(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ef(this._lView),n=this._lView[qr];n!==null&&!e&&xp(n,this._lView),ZE(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=Ef(this._lView),r=this._lView[qr];r!==null&&!n&&JE(r,this._lView),bf(this._lView)}},us=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ax;let t=e;return t})(),sx=us,ox=class extends sx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=mD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Yr(i)}};function ax(){return qp(Xe(),me())}function qp(t,e){return t.type&4?new ox(e,t,vs(t,e)):null}var W4=new RegExp(`^(\\d+)*(${FM}|${kM})*(.*)`);var cx=()=>null;function $f(t,e){return cx(t,e)}var ls=class{},zp=new j("",{providedIn:"root",factory:()=>!1});var bD=new j(""),CD=new j(""),Hf=class{},Pu=class{};function ux(t){let e=Error(`No component factory found for ${mt(t)}.`);return e[lx]=t,e}var lx="ngComponent";var qf=class{resolveComponentFactory(e){throw ux(e)}},ng=class ng{};ng.NULL=new qf;var ds=ng,hs=class{},pr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>dx();let t=e;return t})();function dx(){let t=me(),e=Xe(),n=dr(e.index,t);return(or(n)?n:t)[Re]}var hx=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Ou(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=$I(i,c);else if(s==2){let u=c,l=e[++o];r=$I(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ku=class extends ds{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hr(e);return new zo(n,this.ngModule)}};function gw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ar.None;e?n.push({propName:o,templateName:r,isSignal:(c&ar.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function fx(t){let e=t.toLowerCase();return e==="svg"?oE:e==="math"?FR:null}var zo=class extends Pu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=gR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ce(null);try{i=i||this.ngModule;let o=i instanceof Pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Tf(e,o):e,u=c.get(hs,null);if(u===null)throw new V(407,!1);let l=c.get(hx,null),f=c.get(ls,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?_N(y,r,this.componentDef.encapsulation,c):YE(y,I,fx(I)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let N=null;A!==null&&(N=Rp(A,c,!0));let F=Vp(0,null,null,1,0,null,null,null,null,null,null),K=nl(null,F,null,x,null,null,g,y,c,null,N);Ip(K);let J,ge,Qe=null;try{let fe=this.componentDef,D,m=null;fe.findHostDirectiveDefs?(D=[],m=new Map,fe.findHostDirectiveDefs(fe,D,m),D.push(fe)):D=[fe];let v=px(K,A);Qe=gx(v,A,fe,D,K,g,y),ge=mp(F,zt),A&&vx(y,fe,A,r),n!==void 0&&_x(ge,this.ngContentSelectors,n),J=yx(Qe,fe,D,m,K,[Ix]),$p(F,K,null)}catch(fe){throw Qe!==null&&kf(Qe),kf(K),fe}finally{wp()}return new zf(this.componentType,J,vs(ge,K),K,ge)}finally{ce(s)}}},zf=class extends Hf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Bp(s[Y],s,i,e,n),this.previousInputValues.set(e,n);let o=dr(this._tNode.index,s);Hp(o,1)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function px(t,e){let n=t[Y],r=zt;return t[r]=e,Jo(n,r,2,"#host",null)}function gx(t,e,n,r,i,s,o){let c=i[Y];mx(r,t,e,o);let u=null;e!==null&&(u=Rp(e,i[os]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=nl(i,cD(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Vf(c,t,r.length-1),rl(i,g),i[t.index]=g}function mx(t,e,n,r){for(let i of t)e.mergedAttrs=$o(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ou(e,e.mergedAttrs,!0),n!==null&&rD(r,n,e))}function yx(t,e,n,r,i,s){let o=Xe(),c=i[Y],u=Ot(o,i);uD(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,y=Qr(i,c,g,o);ur(y,i)}lD(c,i,o),u&&ur(u,i);let l=Qr(i,c,o.directiveStart+o.componentOffset,o);if(t[qt]=i[qt]=l,s!==null)for(let f of s)f(l,e);return kp(c,o,i),l}function vx(t,e,n,r){if(r)vf(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:s}=mR(e.selectors[0]);i&&vf(t,n,i),s&&s.length>0&&nD(t,n,s.join(" "))}}function _x(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ix(){let t=Xe();Ju(me()[Y],t)}var ni=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wx;let t=e;return t})();function wx(){let t=Xe();return SD(t,me())}var Ex=ni,TD=class extends Ex{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return vs(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ep(this._hostTNode,this._hostLView);if(CE(e)){let n=Cu(e,this._hostLView),r=bu(e),i=n[Y].data[r+8];return new $r(i,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=$f(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Uf(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!xR(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new zo(Hr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?l:this.parentInjector).get(Pt,null);x&&(s=x)}let f=Hr(u.componentType??{}),g=$f(this._lContainer,f?.id??null),y=g?.firstChild??null,I=u.create(l,i,y,s);return this.insertImpl(I.hostView,c,Uf(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(VR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[st],l=new TD(u,u[Gt],u[st]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return yD(o,i,s,r),e.attachToViewContainerRef(),Vw(uf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mu(this._lContainer,n);r&&(vu(uf(this._lContainer),n),Pp(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mu(this._lContainer,n);return r&&vu(uf(this._lContainer),n)!=null?new Yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mw(t){return t[Eu]}function uf(t){return t[Eu]||(t[Eu]=[])}function SD(t,e){let n,r=e[t.index];return Rn(r)?n=r:(n=dD(r,e,null,t),e[t.index]=n,rl(e,n)),bx(n,e,t,r),new TD(n,t,e)}function Dx(t,e){let n=t[Re],r=n.createComment(""),i=Ot(e,t),s=eD(n,i);return Nu(n,s,r,aN(n,i),!1),r}var bx=Sx,Cx=()=>!1;function Tx(t,e,n){return Cx(t,e,n)}function Sx(t,e,n,r){if(t[zr])return;let i;n.type&8?i=rn(r):i=Dx(e,n),t[zr]=i}var Gf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Wf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Gp(e,n).matches!==null&&this.queries[n].setDirty()}},Kf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=kx(e):this.predicate=e}},Qf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Yf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,Ax(n,s)),this.matchTNodeWithReadOption(e,n,fu(n,e,s,!1,!1))}else r===us?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,fu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kt||i===ni||i===us&&n.type&4)this.addMatch(n.index,-2);else{let s=fu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Ax(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Rx(t,e){return t.type&11?vs(t,e):t.type&4?qp(t,e):null}function Mx(t,e,n,r){return n===-1?Rx(e,t):n===-2?Nx(t,e,r):Qr(t,t[Y],n,e)}function Nx(t,e,n){if(n===kt)return vs(e,t);if(n===us)return qp(e,t);if(n===ni)return SD(e,t)}function AD(t,e,n,r){let i=e[Dn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let f=s[l];c.push(Mx(e,f,o[u+1],n.metadata.read))}}i.matches=c}return i.matches}function Zf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=AD(t,e,i,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],f=e[-u];for(let g=yt;g<f.length;g++){let y=f[g];y[qr]===y[st]&&Zf(y[Y],y,l,r)}if(f[as]!==null){let g=f[as];for(let y=0;y<g.length;y++){let I=g[y];Zf(I[Y],I,l,r)}}}}}return r}function xx(t,e){return t[Dn].queries[e].queryList}function Px(t,e,n){let r=new Of((n&4)===4);return EN(t,e,r,r.destroy),(e[Dn]??=new Wf).queries.push(new Gf(r))-1}function Ox(t,e,n,r){let i=He();if(i.firstCreatePass){let s=Xe();Fx(i,new Kf(e,n,r),s.index),Lx(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Px(i,me(),n)}function kx(t){return t.split(",").map(e=>e.trim())}function Fx(t,e,n){t.queries===null&&(t.queries=new Qf),t.queries.track(new Yf(e,n))}function Lx(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Gp(t,e){return t.queries.getByIndex(e)}function Vx(t,e){let n=t[Y],r=Gp(n,e);return r.crossesNgTemplate?Zf(n,t,e,[]):AD(n,t,r,e)}var yw=new Set;function _s(t){yw.has(t)||(yw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function jx(t){return typeof t=="function"&&t[In]!==void 0}function Xo(t,e){_s("NgSignals");let n=gI(t),r=n[In];return e?.equal&&(r.equal=e.equal),n.set=i=>Ph(r,i),n.update=i=>mI(r,i),n.asReadonly=Ux.bind(n),n}function Ux(){let t=this[In];if(t.readonlyFn===void 0){let e=()=>this();e[In]=t,t.readonlyFn=e}return t.readonlyFn}function RD(t){return jx(t)&&typeof t.set=="function"}function Bx(t){return Object.getPrototypeOf(t.prototype).constructor}function Nn(t){let e=Bx(t.type),n=!0,r=[t];for(;e;){let i;if(cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=au(t.inputs),o.inputTransforms=au(t.inputTransforms),o.declaredInputs=au(t.declaredInputs),o.outputs=au(t.outputs);let c=i.hostBindings;c&&Gx(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&qx(t,u),l&&zx(t,l),$x(t,i),kA(t.outputs,i.outputs),cr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Nn&&(n=!1)}}e=Object.getPrototypeOf(e)}Hx(r)}function $x(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Hx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$o(i.hostAttrs,n=$o(n,i.hostAttrs))}}function au(t){return t===rs?{}:t===Nt?[]:t}function qx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function zx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Gx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Wp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var lr=class{},Go=class{};var Jf=class extends lr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ku(this);let s=Ww(e);this._bootstrapComponents=QE(s.bootstrap),this._r3Injector=OE(e,n,[{provide:lr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xf=class extends Go{constructor(e){super(),this.moduleType=e}create(e){return new Jf(this.moduleType,e,[])}};var Fu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new ku(this),this.instance=null;let n=new Ho([...e.providers,{provide:lr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],e.parent||pp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Kp(t,e,n=null){return new Fu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function MD(t){return Kx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Wx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Kx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Is(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Qx(t){return(t.flags&32)===32}function Yx(t,e,n,r,i,s,o,c,u){let l=e.consts,f=Jo(e,t,4,o||null,c||null);Up(e,n,f,cs(l,u)),Ju(e,f);let g=f.tView=Vp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function Zx(t,e,n,r,i,s,o,c,u,l){let f=n+zt,g=e.firstCreatePass?Yx(f,e,t,r,i,s,o,c,u):e.data[f];ti(g,!1);let y=Jx(e,t,g,n);Yu()&&el(e,t,y,g),ur(y,t);let I=dD(y,t,y,g);return t[f]=I,rl(t,I),Tx(I,g,t),Gu(g)&&Fp(e,t,g),u!=null&&Lp(t,g,l),g}function on(t,e,n,r,i,s,o,c){let u=me(),l=He(),f=cs(l.consts,s);return Zx(u,l,t,e,n,r,i,f,o,c),on}var Jx=Xx;function Xx(t,e,n,r){return Zu(!0),e[Re].createComment("")}var jo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(jo||{}),eP=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Br=class Br{constructor(){this.ngZone=k(ve),this.scheduler=k(ls),this.errorHandler=k(bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Br.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Br.PHASES=[jo.EarlyRead,jo.Write,jo.MixedReadWrite,jo.Read],Br.\u0275prov=$({token:Br,providedIn:"root",factory:()=>new Br});var vw=Br;function ea(t,e,n,r){let i=me(),s=Yo();if(Is(i,s,e)){let o=He(),c=Qu();LN(c,i,t,e,n,r)}return ea}function ND(t,e,n,r){return Is(t,Yo(),n)?e+Bu(n)+r:fr}function cu(t,e){return t<<17|e<<2}function Zr(t){return t>>17&32767}function tP(t){return(t&2)==2}function nP(t,e){return t&131071|e<<17}function ep(t){return t|2}function fs(t){return(t&131068)>>2}function lf(t,e){return t&-131069|e<<2}function rP(t){return(t&1)===1}function tp(t){return t|1}function iP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Zr(o),u=fs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Qo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Zr(t[c+1]);t[r+1]=cu(y,c),y!==0&&(t[y+1]=lf(t[y+1],r)),t[c+1]=nP(t[c+1],r)}else t[r+1]=cu(c,0),c!==0&&(t[c+1]=lf(t[c+1],r)),c=r;else t[r+1]=cu(u,0),c===0?c=r:t[u+1]=lf(t[u+1],r),u=r;l&&(t[r+1]=ep(t[r+1])),_w(t,f,r,!0),_w(t,f,r,!1),sP(e,f,t,r,s),o=cu(c,u),s?e.classBindings=o:e.styleBindings=o}function sP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Qo(s,e)>=0&&(n[r+1]=tp(n[r+1]))}function _w(t,e,n,r){let i=t[n+1],s=e===null,o=r?Zr(i):fs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];oP(u,e)&&(c=!0,t[o+1]=r?tp(l):ep(l)),o=r?Zr(l):fs(l)}c&&(t[n+1]=r?ep(i):tp(i))}function oP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qo(t,e)>=0:!1}function ws(t,e,n){let r=me(),i=Yo();if(Is(r,i,e)){let s=He(),o=Qu();jp(s,o,r,t,e,r[Re],n,!1)}return ws}function Iw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Bp(t,n,s[o],o,r)}function il(t,e){return aP(t,e,null,!0),il}function aP(t,e,n,r){let i=me(),s=He(),o=QR(2);if(s.firstUpdatePass&&uP(s,t,o,r),e!==fr&&Is(i,o,e)){let c=s.data[gs()];pP(s,c,i,i[Re],t,i[o+1]=gP(e,n),r,o)}}function cP(t,e){return e>=t.expandoStartIndex}function uP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[gs()],o=cP(t,n);mP(s,r)&&e===null&&!o&&(e=!1),e=lP(i,s,e,r),iP(i,s,e,n,o,r)}}function lP(t,e,n,r){let i=XR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=df(null,t,e,n,r),n=Wo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=df(i,t,e,n,r),s===null){let u=dP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=df(null,t,e,u[1],r),u=Wo(u,e.attrs,r),hP(t,e,r,u))}else s=fP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function dP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(fs(r)!==0)return t[Zr(r)]}function hP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Zr(i)]=r}function fP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Wo(r,o,n)}return Wo(r,e.attrs,n)}function df(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Wo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Wo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function pP(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=rP(l)?ww(u,e,n,i,fs(l),o):void 0;if(!Lu(f)){Lu(s)||tP(l)&&(s=ww(u,null,n,i,c,o));let g=aE(gs(),n);pN(r,o,g,i,s)}}function ww(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,y=n[i+1];y===fr&&(y=g?Nt:void 0);let I=g?ef(y,r):f===r?y:void 0;if(l&&!Lu(I)&&(I=ef(u,r)),Lu(I)&&(c=I,o))return c;let A=t[i+1];i=o?Zr(A):fs(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=ef(u,r))}return c}function Lu(t){return t!==void 0}function gP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mt(Zo(t)))),t}function mP(t,e){return(t.flags&(e?8:16))!==0}function ta(t,e){_s("NgControlFlow");let n=me(),r=Yo(),i=n[r]!==fr?n[r]:-1,s=i!==-1?Ew(n,zt+i):void 0,o=0;if(Is(n,r,t)){let c=ce(null);try{if(s!==void 0&&GN(s,o),t!==-1){let u=zt+t,l=Ew(n,u),f=yP(n[Y],u),g=$f(l,f.tView.ssrId),y=mD(n,f,e,{dehydratedView:g});yD(l,y,o,Uf(f,g))}}finally{ce(c)}}else if(s!==void 0){let c=zN(s,o);c!==void 0&&(c[qt]=e)}}function Ew(t,e){return t[e]}function yP(t,e){return mp(t,e)}function vP(t,e,n,r,i,s){let o=e.consts,c=cs(o,i),u=Jo(e,t,2,r,c);return Up(e,n,u,cs(o,s)),u.attrs!==null&&Ou(u,u.attrs,!1),u.mergedAttrs!==null&&Ou(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function B(t,e,n,r){let i=me(),s=He(),o=zt+t,c=i[Re],u=s.firstCreatePass?vP(o,s,i,e,n,r):s.data[o],l=_P(s,i,u,c,e,t);i[o]=l;let f=Gu(u);return ti(u,!0),rD(c,l,u),!Qx(u)&&Yu()&&el(s,i,l,u),BR()===0&&ur(l,i),$R(),f&&(Fp(s,i,u),kp(s,u,i)),r!==null&&Lp(i,u),B}function H(){let t=Xe();vp()?pE():(t=t.parent,ti(t,!1));let e=t;zR(e)&&GR(),HR();let n=He();return n.firstCreatePass&&(Ju(n,t),gp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oM(e)&&Iw(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aM(e)&&Iw(n,e,me(),e.stylesWithoutHost,!1),H}function be(t,e,n,r){return B(t,e,n,r),H(),be}var _P=(t,e,n,r,i,s)=>(Zu(!0),YE(r,i,nM()));function IP(t,e,n,r,i){let s=e.consts,o=cs(s,r),c=Jo(e,t,8,"ng-container",o);o!==null&&Ou(c,o,!0);let u=cs(s,i);return Up(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function Qp(t,e,n){let r=me(),i=He(),s=t+zt,o=i.firstCreatePass?IP(s,i,r,e,n):i.data[s];ti(o,!0);let c=wP(i,r,o,t);return r[s]=c,Yu()&&el(i,r,c,o),ur(c,r),Gu(o)&&(Fp(i,r,o),kp(i,o,r)),n!=null&&Lp(r,o),Qp}function Yp(){let t=Xe(),e=He();return vp()?pE():(t=t.parent,ti(t,!1)),e.firstCreatePass&&(Ju(e,t),gp(t)&&e.queries.elementEnd(t)),Yp}var wP=(t,e,n,r)=>(Zu(!0),JM(e[Re],""));var Vu="en-US";var EP=Vu;function DP(t){typeof t=="string"&&(EP=t.toLowerCase().replace(/_/g,"-"))}var bP=(t,e,n)=>{};function _t(t,e,n,r){let i=me(),s=He(),o=Xe();return xD(s,i,i[Re],o,t,e,r),_t}function CP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[wu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function xD(t,e,n,r,i,s,o){let c=Gu(r),l=t.firstCreatePass&&pD(t),f=e[qt],g=fD(e),y=!0;if(r.type&3||o){let x=Ot(r,e),N=o?o(x):x,F=g.length,K=o?ge=>o(rn(ge[r.index])):r.index,J=null;if(!o&&c&&(J=CP(t,e,i,r.index)),J!==null){let ge=J.__ngLastListenerFn__||J;ge.__ngNextListenerFn__=s,J.__ngLastListenerFn__=s,y=!1}else{s=bw(r,e,f,s),bP(x,i,s);let ge=n.listen(N,i,s);g.push(s,ge),l&&l.push(i,K,F,F+1)}}else s=bw(r,e,f,s);let I=r.outputs,A;if(y&&I!==null&&(A=I[i])){let x=A.length;if(x)for(let N=0;N<x;N+=2){let F=A[N],K=A[N+1],Qe=e[F][K].subscribe(s),fe=g.length;g.push(s,Qe),l&&l.push(i,r.index,fe,-(fe+1))}}}function Dw(t,e,n,r){let i=ce(null);try{return Jt(6,e,n),n(r)!==!1}catch(s){return gD(t,s),!1}finally{Jt(7,e,n),ce(i)}}function bw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?dr(t.index,e):e;Hp(o,5);let c=Dw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Dw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function sl(t=1){return tM(t)}function Zp(t,e,n){return PD(t,"",e,"",n),Zp}function PD(t,e,n,r,i){let s=me(),o=ND(s,e,n,r);if(o!==fr){let c=He(),u=Qu();jp(c,u,s,t,o,s[Re],i,!1)}return PD}function OD(t,e,n,r){Ox(t,e,n,r)}function kD(t){let e=me(),n=He(),r=mE();_p(r+1);let i=Gp(n,r);if(t.dirty&&LR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Vx(e,r);t.reset(s,AM),t.notifyOnChanges()}return!0}return!1}function FD(){return xx(me(),mE())}function he(t,e=""){let n=me(),r=He(),i=t+zt,s=r.firstCreatePass?Jo(r,i,1,e,null):r.data[i],o=TP(r,n,s,e,t);n[i]=o,Yu()&&el(r,n,o,s),ti(s,!1)}var TP=(t,e,n,r,i)=>(Zu(!0),YM(e[Re],r));function Es(t){return ol("",t,""),Es}function ol(t,e,n){let r=me(),i=ND(r,t,e,n);return i!==fr&&BN(r,gs(),i),ol}function ri(t,e,n){RD(e)&&(e=e());let r=me(),i=Yo();if(Is(r,i,e)){let s=He(),o=Qu();jp(s,o,r,t,e,r[Re],n,!1)}return ri}function Ds(t,e){let n=RD(t);return n&&t.set(e),n}function ii(t,e){let n=me(),r=He(),i=Xe();return xD(r,n,n[Re],i,t,e),ii}function SP(t,e,n){let r=He();if(r.firstCreatePass){let i=cr(t);np(n,r.data,r.blueprint,i,!0),np(e,r.data,r.blueprint,i,!1)}}function np(t,e,n,r,i){if(t=dt(t),Array.isArray(t))for(let s=0;s<t.length;s++)np(t[s],e,n,r,i);else{let s=He(),o=me(),c=Xe(),u=ss(t)?t:dt(t.provide),l=Xw(t),f=c.providerIndexes&1048575,g=c.directiveStart,y=c.providerIndexes>>20;if(ss(t)||!t.multi){let I=new Kr(l,i,G),A=ff(u,e,i?f:f+y,g);A===-1?(Af(Tu(c,o),s,u),hf(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[A]=I,o[A]=I)}else{let I=ff(u,e,f+y,g),A=ff(u,e,f,f+y),x=I>=0&&n[I],N=A>=0&&n[A];if(i&&!N||!i&&!x){Af(Tu(c,o),s,u);let F=MP(i?RP:AP,n.length,i,r,l);!i&&N&&(n[A].providerFactory=F),hf(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=LD(n[i?A:I],l,!i&&r);hf(s,t,I>-1?I:A,F)}!i&&r&&N&&n[A].componentProviders++}}}function hf(t,e,n,r){let i=ss(e),s=bR(e);if(i||s){let u=(s?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function LD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ff(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AP(t,e,n,r){return rp(this.multi,[])}function RP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Qr(n,n[Y],this.providerFactory.index,r);s=c.slice(0,o),rp(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],rp(i,s);return s}function rp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function MP(t,e,n,r,i){let s=new Kr(t,n,G);return s.multi=[],s.index=e,s.componentProviders=0,LD(s,i,r&&!n),s}function na(t,e=[]){return n=>{n.providersResolver=(r,i)=>SP(r,i?i(t):t,e)}}var NP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Yw(!1,r.type),s=i.length>0?Kp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(ee(Pt))});let t=e;return t})();function ze(t){_s("NgStandalone"),t.getStandaloneInjector=e=>e.get(NP).getOrCreateStandaloneInjector(t)}var Tn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},VD=new Tn("18.2.2");var al=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var jD=new j("");function si(t){return!!t&&typeof t.then=="function"}function UD(t){return!!t&&typeof t.subscribe=="function"}var BD=new j(""),$D=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(BD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(si(o))r.push(o);else if(UD(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jp=new j("");function xP(){pI(()=>{throw new V(600,!1)})}function PP(t){return t.isBoundToModule}var OP=10;function kP(t,e,n){try{let r=n();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var oi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(TM),this.afterRenderManager=k(eP),this.zonelessEnabled=k(zp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new $e,this.afterTick=new $e,this.componentTypes=[],this.components=[],this.isStable=k(ys).hasPendingTasks.pipe(ne(r=>!r)),this._injector=k(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Pu;if(!this._injector.get($D).done){let I=!s&&Gw(r),A=!1;throw new V(405,A)}let c;s?c=r:c=this._injector.get(ds).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=PP(c)?void 0:this._injector.get(lr),l=i||c.selector,f=c.create(vt.NULL,[],l,u),g=f.location.nativeElement,y=f.injector.get(jD,null);return y?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),pu(this.components,f),y?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);let r=ce(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ce(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(hs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<OP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)FP(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Wu(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;pu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Jp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>pu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new V(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FP(t,e,n,r){if(!n&&!Wu(t))return;ID(t,e,n&&!r?0:1)}var ip=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Xp=(()=>{let e=class e{compileModuleSync(r){return new Xf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Ww(r),o=QE(s.declarations).reduce((c,u)=>{let l=Hr(u);return l&&c.push(new zo(l)),c},[]);return new ip(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LP=(()=>{let e=class e{constructor(){this.zone=k(ve),this.changeDetectionScheduler=k(ls),this.applicationRef=k(oi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VP=new j("",{factory:()=>!1});function HD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(re(O({},zD()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:is,multi:!0,useFactory:()=>{let r=k(LP,{optional:!0});return()=>r.initialize()}},{provide:is,multi:!0,useFactory:()=>{let r=k(jP);return()=>{r.initialize()}}},e===!0?{provide:bD,useValue:!0}:[],{provide:CD,useValue:n??kE}]}function qD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=HD({ngZoneFactory:()=>{let i=zD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&_s("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return sn([{provide:VP,useValue:!0},{provide:zp,useValue:!1},r])}function zD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var jP=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=k(ve),this.pendingTasks=k(ys)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var UP=(()=>{let e=class e{constructor(){this.appRef=k(oi),this.taskService=k(ys),this.ngZone=k(ve),this.zonelessEnabled=k(zp),this.disableScheduling=k(bD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Te,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Au):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(CD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ow:LE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Au+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ow(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BP(){return typeof $localize<"u"&&$localize.locale||Vu}var eg=new j("",{providedIn:"root",factory:()=>k(eg,X.Optional|X.SkipSelf)||BP()});var GD=new j("");function uu(t){return!!t.platformInjector}function $P(t){let e=uu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{uu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),uu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(GD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{pu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return kP(r,n,()=>{let s=e.get($D);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(eg,Vu);if(DP(o||Vu),uu(t)){let c=e.get(oi);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return HP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function HP(t,e){let n=t.injector.get(oi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new V(-403,!1);e.push(t)}var gu=null;function qP(t=[],e){return vt.create({name:e,providers:[{provide:Hu,useValue:"platform"},{provide:GD,useValue:new Set([()=>gu=null])},...t]})}function zP(t=[]){if(gu)return gu;let e=qP(t);return gu=e,xP(),GP(e),e}function GP(t){t.get(Sp,null)?.forEach(n=>n())}var gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WP;let t=e;return t})();function WP(t){return KP(Xe(),me(),(t&16)===16)}function KP(t,e,n){if(zu(t)&&!n){let r=dr(t.index,e);return new Yr(r,r)}else if(t.type&175){let r=e[nn];return new Yr(r,e)}return null}var sp=class{constructor(){}supports(e){return MD(e)}create(e){return new op(e)}},QP=(t,e)=>e,op=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Cw(r,i,s)?n:r,c=Cw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let I=y<s.length?s[y]:s[y]=0,A=I+y;f<=A&&A<l&&(s[y]=I+1)}let g=o.previousIndex;s[g]=f-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!MD(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Wx(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new ap(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ju),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ju),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ap=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ju=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new cp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Cw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Tw(){return new tg([new sp])}var tg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Tw()),deps:[[e,new Lw,new ht]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new V(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:Tw});let t=e;return t})();function WD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=zP(r),s=[HD({}),{provide:ls,useExisting:UP},...n||[]],o=new Fu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return $P({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var KD=new j("");function mr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ra(t,e){_s("NgSignals");let n=dI(t);return e?.equal&&(n[In].equal=e.equal),n}function xn(t){let e=ce(null);try{return t()}finally{ce(e)}}var JD=null;function Pn(){return JD}function XD(t){JD??=t}var cl=class{};var bt=new j(""),eb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(YP),providedIn:"platform"});let t=e;return t})();var YP=(()=>{let e=class e extends eb{constructor(){super(),this._doc=k(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(r){let i=Pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function tb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function QD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ai(t){return t&&t[0]!=="?"?"?"+t:t}var bs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(nb),providedIn:"root"});let t=e;return t})(),ZP=new j(""),nb=(()=>{let e=class e extends bs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return tb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ai(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+ai(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+ai(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ee(eb),ee(ZP,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ia=(()=>{let e=class e{constructor(r){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=eO(QD(YD(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ai(i))}normalize(r){return e.stripTrailingSlash(XP(this._basePath,YD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ai(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ai(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ai,e.joinWithSlash=tb,e.stripTrailingSlash=QD,e.\u0275fac=function(i){return new(i||e)(ee(bs))},e.\u0275prov=$({token:e,factory:()=>JP(),providedIn:"root"});let t=e;return t})();function JP(){return new ia(ee(bs))}function XP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function YD(t){return t.replace(/\/index.html$/,"")}function eO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function rb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var rg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ib=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,c)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new rg(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,c),ZD(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);ZD(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(G(ni),G(us),G(tg))},e.\u0275dir=Je({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function ZD(t,e){t.context.$implicit=e.item}var ig=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ei({type:e}),e.\u0275inj=Xr({});let t=e;return t})(),sb="browser",tO="server";function sg(t){return t===tO}var ul=class{};var cg=class extends cl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ug=class t extends cg{static makeCurrent(){XD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=nO();return n==null?null:rO(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rb(document.cookie,e)}},sa=null;function nO(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}function rO(t){return new URL(t,document.baseURI).pathname}var iO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),ll=new j(""),lb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ee(ll),ee(ve))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e){this._doc=e}},og="ng-app-id",db=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${og}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(og),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(og,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ee(bt),ee(Tp),ee(Ap,8),ee(hr))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dg=/%COMP%/g,hb="%COMP%",sO=`_nghost-${hb}`,oO=`_ngcontent-${hb}`,aO=!0,cO=new j("",{providedIn:"root",factory:()=>aO});function uO(t){return oO.replace(dg,t)}function lO(t){return sO.replace(dg,t)}function fb(t,e){return e.map(n=>n.replace(dg,t))}var ab=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=sg(u),this.defaultRenderer=new aa(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=re(O({},i),{encapsulation:en.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof dl?s.applyToHost(r):s instanceof ca&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case en.Emulated:o=new dl(l,f,i,this.appId,g,c,u,y);break;case en.ShadowDom:return new lg(l,f,r,i,c,u,this.nonce,y);default:o=new ca(l,f,i,g,c,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ee(lb),ee(db),ee(Tp),ee(cO),ee(bt),ee(hr),ee(ve),ee(Ap))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),aa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ag[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ag[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ag[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var lg=class extends aa{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fb(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ca=class extends aa{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},dl=class extends ca{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=uO(l),this.hostAttr=lO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},dO=(()=>{let e=class e extends oa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ee(bt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),hO=(()=>{let e=class e extends oa{constructor(r){super(r),this.delegate=k(KD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ee(bt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),ub=["alt","control","meta","shift"],fO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gO=(()=>{let e=class e extends oa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),ub.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=fO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ub.forEach(c=>{if(c!==s){let u=pO[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ee(bt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function pb(t,e){return WD(O({rootComponent:t},mO(e)))}function mO(t){return{appProviders:[...wO,...t?.providers??[]],platformProviders:IO}}function yO(){ug.makeCurrent()}function vO(){return new bn}function _O(){return qE(document),document}var IO=[{provide:hr,useValue:sb},{provide:Sp,useValue:yO,multi:!0},{provide:bt,useFactory:_O,deps:[]}];var wO=[{provide:Hu,useValue:"root"},{provide:bn,useFactory:vO,deps:[]},{provide:ll,useClass:dO,multi:!0,deps:[bt,ve,hr]},{provide:ll,useClass:gO,multi:!0,deps:[bt]},{provide:ll,useClass:hO,multi:!0},ab,db,lb,{provide:hs,useExisting:ab},{provide:ul,useClass:iO,deps:[]},[]];var gb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ee(bt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Z="primary",ba=Symbol("RouteTitle"),mg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ms(t){return new mg(t)}function DO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}function an(t,e){let n=t?yg(t):void 0,r=e?yg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Db(t[i],e[i]))return!1;return!0}function yg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Db(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function bb(t){return t.length>0?t[t.length-1]:null}function yr(t){return Wh(t)?t:si(t)?Se(Promise.resolve(t)):W(t)}var CO={exact:Tb,subset:Sb},Cb={exact:TO,subset:SO,ignored:()=>!0};function mb(t,e,n){return CO[n.paths](t.root,e.root,n.matrixParams)&&Cb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function TO(t,e){return an(t,e)}function Tb(t,e,n){if(!ui(t.segments,e.segments)||!pl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Tb(t.children[r],e.children[r],n))return!1;return!0}function SO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Db(t[n],e[n]))}function Sb(t,e,n){return Ab(t,e,e.segments,n)}function Ab(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ui(i,n)||e.hasChildren()||!pl(i,n,r))}else if(t.segments.length===n.length){if(!ui(t.segments,n)||!pl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Sb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ui(t.segments,i)||!pl(t.segments,i,r)||!t.children[Z]?!1:Ab(t.children[Z],e,s,r)}}function pl(t,e,n){return e.every((r,i)=>Cb[n](t[i].parameters,r.parameters))}var kn=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){return MO.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gl(this)}},ci=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ms(this.parameters),this._parameterMap}toString(){return Mb(this)}};function AO(t,e){return ui(t,e)&&t.every((n,r)=>an(n.parameters,e[r].parameters))}function ui(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function RO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var Hg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new ga,providedIn:"root"});let t=e;return t})(),ga=class{parse(e){let n=new _g(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ua(e.root,!0)}`,r=PO(e.queryParams),i=typeof e.fragment=="string"?`#${NO(e.fragment)}`:"";return`${n}${r}${i}`}},MO=new ga;function gl(t){return t.segments.map(e=>Mb(e)).join("/")}function ua(t,e){if(!t.hasChildren())return gl(t);if(e){let n=t.children[Z]?ua(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Z&&r.push(`${i}:${ua(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=RO(t,(r,i)=>i===Z?[ua(t.children[Z],!1)]:[`${i}:${ua(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${gl(t)}/${n[0]}`:`${gl(t)}/(${n.join("//")})`}}function Rb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hl(t){return Rb(t).replace(/%3B/gi,";")}function NO(t){return encodeURI(t)}function vg(t){return Rb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ml(t){return decodeURIComponent(t)}function yb(t){return ml(t.replace(/\+/g,"%20"))}function Mb(t){return`${vg(t.path)}${xO(t.parameters)}`}function xO(t){return Object.entries(t).map(([e,n])=>`;${vg(e)}=${vg(n)}`).join("")}function PO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${hl(n)}=${hl(i)}`).join("&"):`${hl(n)}=${hl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var OO=/^[^\/()?;#]+/;function hg(t){let e=t.match(OO);return e?e[0]:""}var kO=/^[^\/()?;=#]+/;function FO(t){let e=t.match(kO);return e?e[0]:""}var LO=/^[^=?&#]+/;function VO(t){let e=t.match(LO);return e?e[0]:""}var jO=/^[^&#]+/;function UO(t){let e=t.match(jO);return e?e[0]:""}var _g=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ye(e,n)),r}parseSegment(){let e=hg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ci(ml(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=FO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=hg(this.remaining);i&&(r=i,this.capture(r))}e[ml(n)]=ml(r)}parseQueryParam(e){let n=VO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=UO(this.remaining);o&&(r=o,this.capture(r))}let i=yb(n),s=yb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Z]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function Nb(t){return t.segments.length>0?new ye([],{[Z]:t}):t}function xb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=xb(i);if(r===Z&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return BO(n)}function BO(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new ye(t.segments.concat(e.segments),e.children)}return t}function li(t){return t instanceof kn}function $O(t,e,n=null,r=null){let i=Pb(t);return Ob(i,e,n,r)}function Pb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ye(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=Nb(r);return e??i}function Ob(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return fg(i,i,i,n,r);let s=HO(e);if(s.toRoot())return fg(i,i,new ye([],{}),n,r);let o=qO(s,i,t),c=o.processChildren?ha(o.segmentGroup,o.index,s.commands):Fb(o.segmentGroup,o.index,s.commands);return fg(i,o.segmentGroup,c,n,r)}function yl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ma(t){return typeof t=="object"&&t!=null&&t.outlets}function fg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=kb(t,e,n);let c=Nb(xb(o));return new kn(c,s,i)}function kb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=kb(s,e,n)}),new ye(t.segments,r)}var vl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&yl(r[0]))throw new V(4003,!1);let i=r.find(ma);if(i&&i!==bb(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new vl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new vl(n,e,r)}var Ss=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function qO(t,e,n){if(t.isAbsolute)return new Ss(e,!0,0);if(!n)return new Ss(e,!1,NaN);if(n.parent===null)return new Ss(n,!0,0);let r=yl(t.commands[0])?0:1,i=n.segments.length-1+r;return zO(n,i,t.numberOfDoubleDots)}function zO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Ss(r,!1,i-s)}function GO(t){return ma(t[0])?t[0].outlets:{[Z]:t}}function Fb(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return ha(t,e,n);let r=WO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new ye(t.segments.slice(r.pathIndex),t.children),ha(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?Ig(t,e,n):r.match?ha(t,0,i):Ig(t,e,n)}function ha(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=GO(n),i={};if(Object.keys(r).some(s=>s!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let s=ha(t.children[Z],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Fb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function WO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ma(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_b(u,l,o))return s;r+=2}else{if(!_b(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ig(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ma(s)){let u=KO(s.outlets);return new ye(r,u)}if(i===0&&yl(n[0])){let u=t.segments[e];r.push(new ci(u.path,vb(n[0]))),i++;continue}let o=ma(s)?s.outlets[Z]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&yl(c)?(r.push(new ci(o,vb(c))),i+=2):(r.push(new ci(o,{})),i++)}return new ye(r,{})}function KO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ig(new ye([],{}),0,r))}),e}function vb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _b(t,e,n){return t==n.path&&an(e,n.parameters)}var fa="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},ya=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fn=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tt||{}),wg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(wg||{}),On=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},di=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationSkipped}},va=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_l=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class extends Ft{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ag=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ng=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _a=class{},Ns=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function QO(t,e){return t.providers&&!t._injector&&(t._injector=Kp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Wt(t){return t.outlet||Z}function YO(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var xg=class{get injector(){return Ca(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Tl(this.rootInjector),this.attachRef=null}},Tl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new xg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ee(Pt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Il=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Pg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Pg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Og(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Og(e,this._root).map(n=>n.value)}};function Pg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Pg(t,n);if(r)return r}return null}function Og(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Og(t,n);if(r.length)return r.unshift(e),r}return[]}var Ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wl=class extends Il{constructor(e,n){super(e),this.snapshot=n,qg(this,e)}toString(){return this.snapshot.toString()}};function Lb(t){let e=ZO(t),n=new Ze([new ci("",{})]),r=new Ze({}),i=new Ze({}),s=new Ze({}),o=new Ze(""),c=new hi(n,r,s,o,i,Z,t,e.root);return c.snapshot=e.root,new wl(new Ct(c,[]),e)}function ZO(t){let e={},n={},r={},i="",s=new As([],e,r,i,n,Z,t,null,{});return new Dl("",new Ct(s,[]))}var hi=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[ba]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function El(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&jb(i)&&(r.resolve[ba]=i.title),r}var As=class{get title(){return this.data?.[ba]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Dl=class extends Il{constructor(e,n){super(n),this.url=e,qg(this,n)}toString(){return Vb(this._root)}};function qg(t,e){e.value._routerState=t,e.children.forEach(n=>qg(t,n))}function Vb(t){let e=t.children.length>0?` { ${t.children.map(Vb).join(", ")} } `:"";return`${t.value}${e}`}function pg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),an(e.params,n.params)||t.paramsSubject.next(n.params),bO(e.url,n.url)||t.urlSubject.next(n.url),an(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function kg(t,e){let n=an(t.params,e.params)&&AO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||kg(t.parent,e.parent))}function jb(t){return typeof t.title=="string"||t.title===null}var zg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=k(Tl),this.location=k(ni),this.changeDetector=k(gr),this.inputBinder=k(Gg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Fg(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]});let t=e;return t})(),Fg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===hi?this.route:e===Tl?this.childContexts:this.parent.get(e,n)}},Gg=new j("");function JO(t,e,n){let r=Ia(t,e._root,n?n._root:void 0);return new wl(r,e)}function Ia(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=XO(t,e,n);return new Ct(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ia(t,c)),o}}let r=ek(e.value),i=e.children.map(s=>Ia(t,s));return new Ct(r,i)}}function XO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ia(t,r,i);return Ia(t,r)})}function ek(t){return new hi(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var wa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Ub="ngNavigationCancelingError";function bl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Bb(!1,Tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Bb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ub]=!0,n.cancellationCode=e,n}function tk(t){return $b(t)&&li(t.url)}function $b(t){return!!t&&t[Ub]}var nk=(t,e,n,r)=>ne(i=>(new Lg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Lg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),pg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ts(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ts(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ng(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(pg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),pg(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Cl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Rs=class{constructor(e,n){this.component=e,this.route=n}};function rk(t,e,n){let r=t._root,i=e?e._root:null;return la(r,i,n,[r.value])}function ik(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Os(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Mw(t)?t:e.get(t):r}function la(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ts(e);return t.children.forEach(o=>{sk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>pa(c,n.getContext(o),i)),i}function sk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=ok(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?la(t,e,c?c.children:null,r,i):la(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Rs(c.outlet.component,o))}else o&&pa(e,c,i),i.canActivateChecks.push(new Cl(r)),s.component?la(t,null,c?c.children:null,r,i):la(t,null,n,r,i);return i}function ok(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ui(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kg(t,e)||!an(t.queryParams,e.queryParams);case"paramsChange":default:return!kg(t,e)}}function pa(t,e,n){let r=Ts(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?pa(o,e.children.getContext(s),n):pa(o,null,n):pa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Rs(e.outlet.component,i)):n.canDeactivateChecks.push(new Rs(null,i)):n.canDeactivateChecks.push(new Rs(null,i))}function Ta(t){return typeof t=="function"}function ak(t){return typeof t=="boolean"}function ck(t){return t&&Ta(t.canLoad)}function uk(t){return t&&Ta(t.canActivate)}function lk(t){return t&&Ta(t.canActivateChild)}function dk(t){return t&&Ta(t.canDeactivate)}function hk(t){return t&&Ta(t.canMatch)}function Hb(t){return t instanceof wn||t?.name==="EmptyError"}var fl=Symbol("INITIAL_VALUE");function xs(){return Bt(t=>nu(t.map(e=>e.pipe(En(1),Jh(fl)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===fl)return fl;if(n===!1||fk(n))return n}return!0}),Ut(e=>e!==fl),En(1)))}function fk(t){return li(t)||t instanceof wa}function pk(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(re(O({},n),{guardsResult:!0})):gk(o,r,i,t).pipe(Ve(c=>c&&ak(c)?mk(r,s,t,e):W(c)),ne(c=>re(O({},n),{guardsResult:c})))})}function gk(t,e,n,r){return Se(t).pipe(Ve(i=>wk(i.component,i.route,n,e,r)),Zt(i=>i!==!0,!0))}function mk(t,e,n,r){return Se(e).pipe(Qi(i=>Ki(vk(i.route.parent,r),yk(i.route,r),Ik(t,i.path,n),_k(t,i.route,n))),Zt(i=>i!==!0,!0))}function yk(t,e){return t!==null&&e&&e(new Mg(t)),W(!0)}function vk(t,e){return t!==null&&e&&e(new Ag(t)),W(!0)}function _k(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>ru(()=>{let o=Ca(e)??n,c=Os(s,o),u=uk(c)?c.canActivate(e,t):Sn(o,()=>c(e,t));return yr(u).pipe(Zt())}));return W(i).pipe(xs())}function Ik(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ik(o)).filter(o=>o!==null).map(o=>ru(()=>{let c=o.guards.map(u=>{let l=Ca(o.node)??n,f=Os(u,l),g=lk(f)?f.canActivateChild(r,t):Sn(l,()=>f(r,t));return yr(g).pipe(Zt())});return W(c).pipe(xs())}));return W(s).pipe(xs())}function wk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(c=>{let u=Ca(e)??i,l=Os(c,u),f=dk(l)?l.canDeactivate(t,e,n,r):Sn(u,()=>l(t,e,n,r));return yr(f).pipe(Zt())});return W(o).pipe(xs())}function Ek(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let c=Os(o,t),u=ck(c)?c.canLoad(e,n):Sn(t,()=>c(e,n));return yr(u)});return W(s).pipe(xs(),qb(r))}function qb(t){return jh(je(e=>{if(typeof e!="boolean")throw bl(t,e)}),ne(e=>e===!0))}function Dk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let c=Os(o,t),u=hk(c)?c.canMatch(e,n):Sn(t,()=>c(e,n));return yr(u)});return W(s).pipe(xs(),qb(r))}var Ea=class{constructor(e){this.segmentGroup=e||null}},Da=class extends Error{constructor(e){super(),this.urlTree=e}};function Cs(t){return Gi(new Ea(t))}function bk(t){return Gi(new V(4e3,!1))}function Ck(t){return Gi(Bb(!1,Tt.GuardRejected))}var Vg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[Z])return bk(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:y,params:I,data:A,title:x}=i,N=Sn(s,()=>c({params:I,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:y,title:x}));if(N instanceof kn)throw new Da(N);n=N}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Da(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tk(t,e,n,r,i){let s=zb(t,e,n);return s.matched?(r=QO(e,r),Dk(r,e,n,i).pipe(ne(o=>o===!0?s:O({},jg)))):W(s)}function zb(t,e,n){if(e.path==="**")return Sk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},jg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||DO)(n,t,e);if(!i)return O({},jg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Sk(t){return{matched:!0,parameters:t.length>0?bb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ib(t,e,n,r){return n.length>0&&Mk(t,n,r)?{segmentGroup:new ye(e,Rk(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&Nk(t,n,r)?{segmentGroup:new ye(t.segments,Ak(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function Ak(t,e,n,r){let i={};for(let s of n)if(Sl(t,e,s)&&!r[Wt(s)]){let o=new ye([],{});i[Wt(s)]=o}return O(O({},r),i)}function Rk(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Wt(r)!==Z){let i=new ye([],{});n[Wt(r)]=i}return n}function Mk(t,e,n){return n.some(r=>Sl(t,e,r)&&Wt(r)!==Z)}function Nk(t,e,n){return n.some(r=>Sl(t,e,r))}function Sl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function xk(t,e,n){return e.length===0&&!t.children[n]}var Ug=class{};function Pk(t,e,n,r,i,s,o="emptyOnly"){return new Bg(t,e,n,r,i,o,s).recognize()}var Ok=31,Bg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Vg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ib(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new Ct(r,n),s=new Dl("",i),o=$O(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new As([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,n).pipe(ne(r=>({children:r,rootSnapshot:n})),nr(r=>{if(r instanceof Da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ea?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof Ct?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(Qi(o=>{let c=r.children[o],u=YO(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Zh((o,c)=>(o.push(...c),o)),rr(null),Yh(),Ve(o=>{if(o===null)return Cs(r);let c=Gb(o);return kk(c),W(c)}))}processSegment(e,n,r,i,s,o,c){return Se(n).pipe(Qi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(nr(l=>{if(l instanceof Ea)return W(null);throw l}))),Zt(u=>!!u),nr(u=>{if(Hb(u))return xk(r,i,s)?W(new Ug):Cs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Wt(r)!==o&&(o===Z||!Sl(i,s,r))?Cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:y}=zb(n,i,s);if(!u)return Cs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ok&&(this.allowRedirects=!1));let I=new As(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,wb(i),Wt(i),i.component??i._loadedComponent??null,i,Eb(i)),A=El(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Ve(N=>this.processSegment(e,r,n,N.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=Tk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:y,remainingSegments:I}=u,A=new As(y,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,wb(r),Wt(r),r.component??r._loadedComponent??null,r,Eb(r)),x=El(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:N,slicedSegments:F}=Ib(n,y,I,l);if(F.length===0&&N.hasChildren())return this.processChildren(f,l,N,A).pipe(ne(J=>new Ct(A,J)));if(l.length===0&&F.length===0)return W(new Ct(A,[]));let K=Wt(r)===s;return this.processSegment(f,l,N,F,K?Z:s,!0,A).pipe(ne(J=>new Ct(A,J instanceof Ct?[J]:[])))}))):Cs(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):Ek(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(je(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Ck(n))):W({routes:[],injector:e})}};function kk(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function Fk(t){let e=t.value.routeConfig;return e&&e.path===""}function Gb(t){let e=[],n=new Set;for(let r of t){if(!Fk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Gb(r.children);e.push(new Ct(r.value,i))}return e.filter(r=>!n.has(r))}function wb(t){return t.data||{}}function Eb(t){return t.resolve||{}}function Lk(t,e,n,r,i,s){return Ve(o=>Pk(t,e,n,r,o.extractedUrl,i,s).pipe(ne(({state:c,tree:u})=>re(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function Vk(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Wb(u))o.add(l);let c=0;return Se(o).pipe(Qi(u=>s.has(u)?jk(u,r,t,e):(u.data=El(u,u.parent,t).resolve,W(void 0))),je(()=>c++),Yi(1),Ve(u=>c===o.size?W(n):Dt))})}function Wb(t){let e=t.children.map(n=>Wb(n)).flat();return[t,...e]}function jk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!jb(i)&&(s[ba]=i.title),Uk(s,t,e,r).pipe(ne(o=>(t._resolvedData=o,t.data=El(t,t.parent,n).resolve,null)))}function Uk(t,e,n,r){let i=yg(t);if(i.length===0)return W({});let s={};return Se(i).pipe(Ve(o=>Bk(t[o],e,n,r).pipe(Zt(),je(c=>{if(c instanceof wa)throw bl(new ga,c);s[o]=c}))),Yi(1),Qh(s),nr(o=>Hb(o)?Dt:Gi(o)))}function Bk(t,e,n,r){let i=Ca(e)??r,s=Os(t,i),o=s.resolve?s.resolve(e,n):Sn(i,()=>s(e,n));return yr(o)}function gg(t){return Bt(e=>{let n=t(e);return n?Se(n).pipe(ne(()=>e)):W(e)})}var Kb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Z);return i}getResolvedTitleForRoute(r){return r.data[ba]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k($k),providedIn:"root"});let t=e;return t})(),$k=(()=>{let e=class e extends Kb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ee(gb))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wg=new j("",{providedIn:"root",factory:()=>({})}),Hk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ze],decls:1,vars:0,template:function(i,s){i&1&&be(0,"router-outlet")},dependencies:[zg],encapsulation:2});let t=e;return t})();function Kg(t){let e=t.children&&t.children.map(Kg),n=e?re(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=Hk),n}var Qg=new j(""),qk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Xp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=yr(r.loadComponent()).pipe(ne(Qb),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Lo(()=>{this.componentLoaders.delete(r)})),s=new $i(i,()=>new $e).pipe(Bi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=zk(i,this.compiler,r,this.onLoadEndListener).pipe(Lo(()=>{this.childrenLoaders.delete(i)})),c=new $i(o,()=>new $e).pipe(Bi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zk(t,e,n,r){return yr(t.loadChildren()).pipe(ne(Qb),Ve(i=>i instanceof Go||Array.isArray(i)?W(i):Se(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Qg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Kg),injector:s}}))}function Gk(t){return t&&typeof t=="object"&&"default"in t}function Qb(t){return Gk(t)?t.default:t}var Yg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(Wk),providedIn:"root"});let t=e;return t})(),Wk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kk=new j("");var Qk=new j(""),Yk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.transitionAbortSubject=new $e,this.configLoader=k(qk),this.environmentInjector=k(Pt),this.urlSerializer=k(Hg),this.rootContexts=k(Tl),this.location=k(ia),this.inputBindingEnabled=k(Gg,{optional:!0})!==null,this.titleStrategy=k(Kb),this.options=k(Wg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Yg),this.createViewTransition=k(Kk,{optional:!0}),this.navigationErrorHandler=k(Qk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Tg(s)),i=s=>this.events.next(new Sg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(re(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ze({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(o=>o.id!==0),ne(o=>re(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bt(o=>{let c=!1,u=!1;return W(o).pipe(Bt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),Dt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?re(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let y="";return this.events.next(new di(l.id,this.urlSerializer.serialize(l.rawUrl),y,wg.IgnoredSameUrlNavigation)),l.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe(Bt(y=>{let I=this.transitions?.getValue();return this.events.next(new ya(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?Dt:Promise.resolve(y)}),Lk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),je(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=re(O({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let I=new _l(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:I,source:A,restoredState:x,extras:N}=l,F=new ya(y,this.urlSerializer.serialize(I),A,x);this.events.next(F);let K=Lb(this.rootComponentType).snapshot;return this.currentTransition=o=re(O({},l),{targetSnapshot:K,urlAfterRedirects:I,extras:re(O({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,W(o)}else{let y="";return this.events.next(new di(l.id,this.urlSerializer.serialize(l.extractedUrl),y,wg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dt}}),je(l=>{let f=new Eg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ne(l=>(this.currentTransition=o=re(O({},l),{guards:rk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),pk(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw bl(this.urlSerializer,l.guardsResult);let f=new Dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Ut(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tt.GuardRejected),!1)),gg(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(je(f=>{let g=new bg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Bt(f=>{let g=!1;return W(f).pipe(Vk(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",Tt.NoDataFromResolver)}}))}),je(f=>{let g=new Cg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),gg(l=>{let f=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(je(I=>{g.component=I}),ne(()=>{})));for(let I of g.children)y.push(...f(I));return y};return nu(f(l.targetSnapshot.root)).pipe(rr(null),En(1))}),gg(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Se(g).pipe(ne(()=>o)):W(o)}),ne(l=>{let f=JO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=re(O({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),je(()=>{this.events.next(new _a)}),nk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),En(1),je({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Xh(this.transitionAbortSubject.pipe(je(l=>{throw l}))),Lo(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(l=>{if(u=!0,$b(l))this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),tk(l)?this.events.next(new Ns(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let f=new va(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let g=Sn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof wa){let{message:y,cancellationCode:I}=bl(this.urlSerializer,g);this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),y,I)),this.events.next(new Ns(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let y=r.errorHandler(l);o.resolve(!!y)}}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return Dt}))}))}cancelNavigationTransition(r,i,s){let o=new On(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zk(t){return t!==fa}var Jk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(Xk),providedIn:"root"});let t=e;return t})(),$g=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Xk=(()=>{let e=class e extends $g{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ms(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(e1),providedIn:"root"});let t=e;return t})(),e1=(()=>{let e=class e extends Yb{constructor(){super(...arguments),this.location=k(ia),this.urlSerializer=k(Hg),this.options=k(Wg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Yg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ya)this.stateMemento=this.createStateMemento();else if(r instanceof di)this.rawUrlTree=i.initialUrl;else if(r instanceof _l){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof _a?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof On&&(r.code===Tt.GuardRejected||r.code===Tt.NoDataFromResolver)?this.restoreHistory(i):r instanceof va?this.restoreHistory(i,!0):r instanceof Fn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof kn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ms(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),da=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(da||{});function t1(t,e){t.events.pipe(Ut(n=>n instanceof Fn||n instanceof On||n instanceof va||n instanceof di),ne(n=>n instanceof Fn||n instanceof di?da.COMPLETE:(n instanceof On?n.code===Tt.Redirect||n.code===Tt.SupersededByNewNavigation:!1)?da.REDIRECTING:da.FAILED),Ut(n=>n!==da.REDIRECTING),En(1)).subscribe(()=>{e()})}function n1(t){throw t}var r1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(al),this.stateManager=k(Yb),this.options=k(Wg,{optional:!0})||{},this.pendingTasks=k(ys),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Yk),this.urlSerializer=k(Hg),this.location=k(ia),this.urlHandlingStrategy=k(Yg),this._events=new $e,this.errorHandler=this.options.errorHandler||n1,this.navigated=!1,this.routeReuseStrategy=k(Jk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Qg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Gg,{optional:!0}),this.eventsSubscription=new Te,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof On&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fn)this.navigated=!0;else if(i instanceof Ns){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Zk(s.source)},c);this.scheduleNavigation(u,fa,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}o1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Kg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let I=s?s.snapshot:this.routerState.snapshot.root;y=Pb(I)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),y=this.currentUrlTree.root}return Ob(y,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=li(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,fa,null,i)}navigate(r,i={skipLocationChange:!1}){return s1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},r1):i===!1?s=O({},i1):s=i,li(r))return mb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return mb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,I)=>{u=y,l=I});let g=this.pendingTasks.add();return t1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}function o1(t){return!(t instanceof _a)&&!(t instanceof Ns)}var Ps=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new $e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof Fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(li(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:WE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(G(cn),G(hi),Dp("tabindex"),G(pr),G(kt),G(bs))},e.\u0275dir=Je({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&_t("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&ea("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mr],replaceUrl:[2,"replaceUrl","replaceUrl",mr],routerLink:"routerLink"},standalone:!0,features:[Wp,Mn]});let t=e;return t})(),Al=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,c){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Fn&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(Wi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Se(r).pipe(Wi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=a1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(G(cn),G(kt),G(pr),G(gr),G(Ps,8))},e.\u0275dir=Je({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&OD(o,Ps,5),i&2){let c;kD(c=FD())&&(s.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mn]});let t=e;return t})();function a1(t){return!!t.paths}var c1=new j("");function Zb(t,...e){return sn([{provide:Qg,multi:!0,useValue:t},[],{provide:hi,useFactory:u1,deps:[cn]},{provide:Jp,multi:!0,useFactory:l1},e.map(n=>n.\u0275providers)])}function u1(t){return t.routerState.root}function l1(){let t=k(vt);return e=>{let n=t.get(oi);if(e!==n.components[0])return;let r=t.get(cn),i=t.get(d1);t.get(h1)===1&&r.initialNavigation(),t.get(f1,null,X.Optional)?.setUpPreloading(),t.get(c1,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var d1=new j("",{factory:()=>new $e}),h1=new j("",{providedIn:"root",factory:()=>1});var f1=new j("");var oC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(G(pr),G(kt))},e.\u0275dir=Je({type:e});let t=e;return t})(),p1=(()=>{let e=class e extends oC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ms(e)))(s||e)}})(),e.\u0275dir=Je({type:e,features:[Nn]});let t=e;return t})(),aC=new j("");var g1={provide:aC,useExisting:Jr(()=>js),multi:!0};function m1(){let t=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var y1=new j(""),js=(()=>{let e=class e extends oC{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!m1())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(G(pr),G(kt),G(y1,8))},e.\u0275dir=Je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&_t("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[na([g1]),Nn]});let t=e;return t})();function v1(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Xg=new j(""),cC=new j("");function _1(t){return v1(t.value)?{required:!0}:null}function Jb(t){return null}function uC(t){return t!=null}function lC(t){return si(t)?Se(t):t}function dC(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function hC(t,e){return e.map(n=>n(t))}function I1(t){return!t.validate}function fC(t){return t.map(e=>I1(e)?e:n=>e.validate(n))}function w1(t){if(!t)return null;let e=t.filter(uC);return e.length==0?null:function(n){return dC(hC(n,e))}}function em(t){return t!=null?w1(fC(t)):null}function E1(t){if(!t)return null;let e=t.filter(uC);return e.length==0?null:function(n){let r=hC(n,e).map(lC);return Kh(r).pipe(ne(dC))}}function tm(t){return t!=null?E1(fC(t)):null}function Xb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function D1(t){return t._rawValidators}function b1(t){return t._rawAsyncValidators}function Jg(t){return t?Array.isArray(t)?t:[t]:[]}function Ml(t,e){return Array.isArray(t)?t.includes(e):t===e}function eC(t,e){let n=Jg(e);return Jg(t).forEach(i=>{Ml(n,i)||n.push(i)}),n}function tC(t,e){return Jg(e).filter(n=>!Ml(t,n))}var Nl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=em(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ls=class extends Nl{get formDirective(){return null}get path(){return null}},xa=class extends Nl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},C1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},M3=re(O({},C1),{"[class.ng-submitted]":"isSubmitted"}),Fl=(()=>{let e=class e extends xl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(G(xa,2))},e.\u0275dir=Je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&il("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Nn]});let t=e;return t})(),Ll=(()=>{let e=class e extends xl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(G(Ls,10))},e.\u0275dir=Je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&il("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Nn]});let t=e;return t})();var Sa="VALID",Rl="INVALID",ks="PENDING",Aa="DISABLED",Vs=class{},Pl=class extends Vs{constructor(e,n){super(),this.value=e,this.source=n}},Ma=class extends Vs{constructor(e,n){super(),this.pristine=e,this.source=n}},Na=class extends Vs{constructor(e,n){super(),this.touched=e,this.source=n}},Fs=class extends Vs{constructor(e,n){super(),this.status=e,this.source=n}};function pC(t){return(Vl(t)?t.validators:t)||null}function T1(t){return Array.isArray(t)?em(t):t||null}function gC(t,e){return(Vl(e)?e.asyncValidators:t)||null}function S1(t){return Array.isArray(t)?tm(t):t||null}function Vl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function A1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function R1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Ol=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ra(()=>this.statusReactive()),this.statusReactive=Xo(void 0),this._pristine=ra(()=>this.pristineReactive()),this.pristineReactive=Xo(!0),this._touched=ra(()=>this.touchedReactive()),this.touchedReactive=Xo(!1),this._events=new $e,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===Sa}get invalid(){return this.status===Rl}get pending(){return this.status==ks}get disabled(){return this.status===Aa}get enabled(){return this.status!==Aa}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tC(e,this._rawAsyncValidators))}hasValidator(e){return Ml(this._rawValidators,e)}hasAsyncValidator(e){return Ml(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Na(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Na(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ma(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ma(!0,r))}markAsPending(e={}){this.status=ks;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this.errors=null,this._forEachChild(i=>{i.disable(re(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pl(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sa,this._forEachChild(r=>{r.enable(re(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sa||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pl(this.value,n)),this._events.next(new Fs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Aa:Sa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=lC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Aa:this.errors?Rl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(Rl)?Rl:Sa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ma(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Na(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=T1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=S1(this._rawAsyncValidators)}},kl=class extends Ol{constructor(e,n,r){super(pC(n),gC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){R1(this,!0,e),Object.keys(e).forEach(r=>{A1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nm=new j("CallSetDisabledState",{providedIn:"root",factory:()=>rm}),rm="always";function M1(t,e){return[...e.path,t]}function mC(t,e,n=rm){yC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),x1(t,e),O1(t,e),P1(t,e),N1(t,e)}function nC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function N1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function yC(t,e){let n=D1(t);e.validator!==null?t.setValidators(Xb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=b1(t);e.asyncValidator!==null?t.setAsyncValidators(Xb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();nC(e._rawValidators,i),nC(e._rawAsyncValidators,i)}function x1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&vC(t,e)})}function P1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&vC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function vC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function O1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function k1(t,e){t==null,yC(t,e)}function F1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function L1(t){return Object.getPrototypeOf(t.constructor)===p1}function V1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function j1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===js?n=s:L1(s)?r=s:i=s}),i||r||n||null}var U1={provide:Ls,useExisting:Jr(()=>Pa)},Ra=Promise.resolve(),Pa=(()=>{let e=class e extends Ls{get submitted(){return xn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=ra(()=>this.submittedReactive()),this.submittedReactive=Xo(!1),this._directives=new Set,this.ngSubmit=new Ae,this.form=new kl({},em(r),tm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ra.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),mC(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ra.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ra.then(()=>{let i=this._findContainer(r.path),s=new kl({});k1(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ra.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ra.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),V1(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(G(Xg,10),G(cC,10),G(nm,8))},e.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&_t("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[na([U1]),Nn]});let t=e;return t})();function rC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var B1=class extends Ol{constructor(e=null,n,r){super(pC(n),gC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(iC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){iC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $1={provide:xa,useExisting:Jr(()=>Oa)},sC=Promise.resolve(),Oa=(()=>{let e=class e extends xa{constructor(r,i,s,o,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new B1,this._registered=!1,this.name="",this.update=new Ae,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=j1(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),F1(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){mC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){sC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&mr(i);sC.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?M1(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(G(Ls,9),G(Xg,10),G(cC,10),G(aC,10),G(gr,8),G(nm,8))},e.\u0275dir=Je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[na([$1]),Nn,Mn]});let t=e;return t})(),jl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var H1=(()=>{let e=class e{constructor(){this._validator=Jb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,features:[Mn]});let t=e;return t})();var q1={provide:Xg,useExisting:Jr(()=>ka),multi:!0};var ka=(()=>{let e=class e extends H1{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mr,this.createValidator=r=>_1}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ms(e)))(s||e)}})(),e.\u0275dir=Je({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&ea("required",s._enabled?"":null)},inputs:{required:"required"},features:[na([q1]),Nn]});let t=e;return t})();var z1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ei({type:e}),e.\u0275inj=Xr({});let t=e;return t})();var Ul=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:nm,useValue:r.callSetDisabledState??rm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ei({type:e}),e.\u0275inj=Xr({imports:[z1]});let t=e;return t})();var wC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},G1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},EC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(y=64)),r.push(n[f],n[g],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new sm;let y=s<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},W1=function(t){let e=wC(t);return EC.encodeByteArray(e,!0)},Fa=function(t){return W1(t).replace(/\./g,"")},am=function(t){try{return EC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Q1=()=>K1().__FIREBASE_DEFAULTS__,Y1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&am(t[1]);return e&&JSON.parse(e)},$l=()=>{try{return Q1()||Y1()||Z1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cm=t=>{var e,n;return(n=(e=$l())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DC=t=>{let e=cm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},um=()=>{var t;return(t=$l())===null||t===void 0?void 0:t.config},lm=t=>{var e;return(e=$l())===null||e===void 0?void 0:e[`_${t}`]};var Bl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function bC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fa(JSON.stringify(n)),Fa(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function J1(){var t;let e=(t=$l())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AC(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RC(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dm(){try{return typeof indexedDB=="object"}catch{return!1}}function MC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var X1="FirebaseError",St=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new St(i,c,r)}};function eF(t,e){return t.replace(tF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tF=/\{\$([^}]+)}/g;function NC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(IC(s)&&IC(o)){if(!fi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IC(t){return t!==null&&typeof t=="object"}function La(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Us(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xC(t,e){let n=new om(t,e);return n.subscribe.bind(n)}var om=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=im),i.error===void 0&&(i.error=im),i.complete===void 0&&(i.complete=im);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}var P3=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var pi="[DEFAULT]";var hm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Bl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iF(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rF(t){return t===pi?void 0:t}function iF(t){return t.instantiationMode==="EAGER"}var Hl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var sF=[],oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(oe||{}),oF={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},aF=oe.INFO,cF={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},uF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=cF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vr=class{constructor(e){this.name=e,this._logLevel=aF,this._logHandler=uF,this._userLogHandler=null,sF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var lF=(t,e)=>e.some(n=>t instanceof n),PC,OC;function dF(){return PC||(PC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hF(){return OC||(OC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kC=new WeakMap,pm=new WeakMap,FC=new WeakMap,fm=new WeakMap,mm=new WeakMap;function fF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kC.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function pF(t){if(pm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pm.set(t,e)}var gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LC(t){gm=t(gm)}function gF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ql(this),e,...n);return FC.set(r,e.sort?e.sort():[e]),un(r)}:hF().includes(t)?function(...e){return t.apply(ql(this),e),un(kC.get(this))}:function(...e){return un(t.apply(ql(this),e))}}function mF(t){return typeof t=="function"?gF(t):(t instanceof IDBTransaction&&pF(t),lF(t,dF())?new Proxy(t,gm):t)}function un(t){if(t instanceof IDBRequest)return fF(t);if(fm.has(t))return fm.get(t);let e=mF(t);return e!==t&&(fm.set(t,e),mm.set(e,t)),e}var ql=t=>mm.get(t);function jC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=un(o);return r&&o.addEventListener("upgradeneeded",u=>{r(un(o.result),u.oldVersion,u.newVersion,un(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var yF=["get","getKey","getAll","getAllKeys","count"],vF=["put","add","delete","clear"],ym=new Map;function VC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=vF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yF.includes(n)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return ym.set(e,s),s}LC(t=>re(O({},t),{get:(e,n,r)=>VC(e,n)||t.get(e,n,r),has:(e,n)=>!!VC(e,n)||t.has(e,n)}));var _m=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_F(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _F(t){let e=t.getComponent();return e?.type==="VERSION"}var Im="@firebase/app",UC="0.10.10";var Vn=new vr("@firebase/app"),IF="@firebase/app-compat",wF="@firebase/analytics-compat",EF="@firebase/analytics",DF="@firebase/app-check-compat",bF="@firebase/app-check",CF="@firebase/auth",TF="@firebase/auth-compat",SF="@firebase/database",AF="@firebase/database-compat",RF="@firebase/functions",MF="@firebase/functions-compat",NF="@firebase/installations",xF="@firebase/installations-compat",PF="@firebase/messaging",OF="@firebase/messaging-compat",kF="@firebase/performance",FF="@firebase/performance-compat",LF="@firebase/remote-config",VF="@firebase/remote-config-compat",jF="@firebase/storage",UF="@firebase/storage-compat",BF="@firebase/firestore",$F="@firebase/vertexai-preview",HF="@firebase/firestore-compat",qF="firebase",zF="10.13.1";var wm="[DEFAULT]",GF={[Im]:"fire-core",[IF]:"fire-core-compat",[EF]:"fire-analytics",[wF]:"fire-analytics-compat",[bF]:"fire-app-check",[DF]:"fire-app-check-compat",[CF]:"fire-auth",[TF]:"fire-auth-compat",[SF]:"fire-rtdb",[AF]:"fire-rtdb-compat",[RF]:"fire-fn",[MF]:"fire-fn-compat",[NF]:"fire-iid",[xF]:"fire-iid-compat",[PF]:"fire-fcm",[OF]:"fire-fcm-compat",[kF]:"fire-perf",[FF]:"fire-perf-compat",[LF]:"fire-rc",[VF]:"fire-rc-compat",[jF]:"fire-gcs",[UF]:"fire-gcs-compat",[BF]:"fire-fst",[HF]:"fire-fst-compat",[$F]:"fire-vertex","fire-js":"fire-js",[qF]:"fire-js-all"};var Va=new Map,WF=new Map,Em=new Map;function BC(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ir(t){let e=t.name;if(Em.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(let n of Va.values())BC(n,t);for(let n of WF.values())BC(n,t);return!0}function Ua(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t.settings!==void 0}var KF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Ln("app","Firebase",KF);var Dm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}};var wr=zF;function Tm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _r.create("bad-app-name",{appName:String(i)});if(n||(n=um()),!n)throw _r.create("no-options");let s=Va.get(i);if(s){if(fi(n,s.options)&&fi(r,s.config))return s;throw _r.create("duplicate-app",{appName:i})}let o=new Hl(i);for(let u of Em.values())o.addComponent(u);let c=new Dm(n,r,o);return Va.set(i,c),c}function $s(t=wm){let e=Va.get(t);if(!e&&t===wm&&um())return Tm();if(!e)throw _r.create("no-app",{appName:t});return e}function zl(){return Array.from(Va.values())}function Ue(t,e,n){var r;let i=(r=GF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(c.join(" "));return}Ir(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var QF="firebase-heartbeat-database",YF=1,ja="firebase-heartbeat-store",vm=null;function zC(){return vm||(vm=jC(QF,YF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),vm}function ZF(t){return w(this,null,function*(){try{let n=(yield zC()).transaction(ja),r=yield n.objectStore(ja).get(GC(t));return yield n.done,r}catch(e){if(e instanceof St)Vn.warn(e.message);else{let n=_r.create("idb-get",{originalErrorMessage:e?.message});Vn.warn(n.message)}}})}function $C(t,e){return w(this,null,function*(){try{let r=(yield zC()).transaction(ja,"readwrite");yield r.objectStore(ja).put(e,GC(t)),yield r.done}catch(n){if(n instanceof St)Vn.warn(n.message);else{let r=_r.create("idb-set",{originalErrorMessage:n?.message});Vn.warn(r.message)}}})}function GC(t){return`${t.name}!${t.options.appId}`}var JF=1024,XF=30*24*60*60*1e3,bm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=XF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=HC(),{heartbeatsToSend:r,unsentEntries:i}=eL(this._heartbeatsCache.heartbeats),s=Fa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vn.warn(n),""}})}};function HC(){return new Date().toISOString().substring(0,10)}function eL(t,e=JF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Cm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return dm()?MC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ZF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function qC(t){return Fa(JSON.stringify({version:2,heartbeats:t})).length}function tL(t){Ir(new Lt("platform-logger",e=>new _m(e),"PRIVATE")),Ir(new Lt("heartbeat",e=>new bm(e),"PRIVATE")),Ue(Im,UC,t),Ue(Im,UC,"esm2017"),Ue("fire-js","")}tL("");var nL="firebase",rL="10.13.1";Ue(nL,rL,"app");var mi=new Tn("ANGULARFIRE2_VERSION");function Wl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ba=(t,e)=>{let n=e?[e]:zl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},qs=class{constructor(){return Ba(iL)}},iL="app-check";function Hs(){}var Gl=class{zone;delegate;constructor(e,n=zh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Sm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)),n.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},zs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Gl(Zone.current)),this.insideAngular=n.run(()=>new Gl(Zone.current,qh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ee(ve))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function sL(t){return Kl().ngZone.runOutsideAngular(()=>t())}function gi(t){return Kl().ngZone.run(()=>t())}function oL(t){return aL(Kl())(t)}function aL(t){return function(n){return n=n.lift(new Sm(t.ngZone)),n.pipe(tr(t.outsideAngular),er(t.insideAngular))}}var cL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),gi(()=>t.apply(void 0,r))},Qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs))),r[s]=cL(r[s],n));let i=sL(()=>t.apply(this,r));if(!e)if(i instanceof ue){let s=Kl();return i.pipe(tr(s.outsideAngular),er(s.insideAngular))}else return gi(()=>i);return i instanceof ue?i.pipe(oL):i instanceof Promise?gi(()=>new Promise((s,o)=>i.then(c=>gi(()=>s(c)),c=>gi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:gi(()=>i)};var jn=class{constructor(e){return e}},yi=class{constructor(){return zl()}};function uL(t){return t&&t.length===1?t[0]:new jn($s())}var Am=new j("angularfire2._apps"),lL={provide:jn,useFactory:uL,deps:[[new ht,Am]]},dL={provide:yi,deps:[[new ht,Am]]};function hL(t){return(e,n)=>{let r=n.get(hr);Ue("angularfire",mi.full,"core"),Ue("angularfire",mi.full,"app"),Ue("angular",VD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jn(i)}}function WC(t,...e){return sn([lL,dL,{provide:Am,useFactory:hL(t),multi:!0,deps:[ve,vt,zs,...e]}])}var KC=Qt(Tm,!0);function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hT=dT,fT=new Ln("auth","Firebase",dT());var ed=new vr("@firebase/auth");function fL(t,...e){ed.logLevel<=oe.WARN&&ed.warn(`Auth (${wr}): ${t}`,...e)}function Yl(t,...e){ed.logLevel<=oe.ERROR&&ed.error(`Auth (${wr}): ${t}`,...e)}function dn(t,...e){throw Zm(t,...e)}function vi(t,...e){return Zm(t,...e)}function pT(t,e,n){let r=Object.assign(Object.assign({},hT()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function $n(t){return pT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fT.create(t,...e)}function q(t,e,...n){if(!t)throw Zm(e,...n)}function Un(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yl(e),new Error(e)}function Dr(t,e){t||Un(e)}function xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pL(){return QC()==="http:"||QC()==="https:"}function QC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function gL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pL()||TC()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=CC()||SC()}get(){return gL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Jm(t,e){Dr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var td=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vL=new _i(3e4,6e4);function br(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cr(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){return gT(t,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=La(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),td.fetch()(mT(t,t.config.apiHost,n,g),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},l))}))})}function gT(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},yL),e);try{let i=new Pm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ql(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ql(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ql(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw pT(t,f,l);dn(t,f)}}catch(i){if(i instanceof St)throw i;dn(t,"network-request-failed",{message:String(i)})}})}function Qa(s,o,c,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Cr(t,e,n,r,i);return"mfaPendingCredential"in l&&dn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function mT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Jm(t.config,i):`${t.config.apiScheme}://${i}`}function _L(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Pm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),vL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ql(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=vi(t,e,r);return i.customData._tokenResponse=n,i}function YC(t){return t!==void 0&&t.enterprise!==void 0}var Om=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _L(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function IL(t,e){return w(this,null,function*(){return Cr(t,"GET","/v2/recaptchaConfig",br(t,e))})}function wL(t,e){return w(this,null,function*(){return Cr(t,"POST","/v1/accounts:delete",e)})}function yT(t,e){return w(this,null,function*(){return Cr(t,"POST","/v1/accounts:lookup",e)})}function $a(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xm(t,e=!1){return w(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=ey(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$a(Rm(i.auth_time)),issuedAtTime:$a(Rm(i.iat)),expirationTime:$a(Rm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Rm(t){return Number(t)*1e3}function ey(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yl("JWT malformed, contained fewer than 3 sections"),null;try{let i=am(n);return i?JSON.parse(i):(Yl("Failed to decode base64 JWT payload"),null)}catch(i){return Yl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZC(t){let e=ey(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qa(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof St&&EL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function EL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var km=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var za=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield qa(t,yT(n,{idToken:r}));q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vT(s.providerUserInfo):[],c=DL(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new za(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function ty(t){return w(this,null,function*(){let e=ft(t);yield nd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function DL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vT(t){return t.map(e=>{var{providerId:n}=e,r=Gh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bL(t,e){return w(this,null,function*(){let n=yield gT(t,{},()=>w(this,null,function*(){let r=La({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mT(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",td.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function CL(t,e){return w(this,null,function*(){return Cr(t,"POST","/v2/accounts:revokeToken",br(t,e))})}var Ha=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=ZC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield bL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Un("not implemented")}};function Er(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Gs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new km(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new za(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield qa(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Xm(this,e)}reload(){return ty(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield nd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Kt(this.auth.app))return Promise.reject($n(this.auth));let e=yield this.getIdToken();return yield qa(this,wL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:J,emailVerified:ge,isAnonymous:Qe,providerData:fe,stsTokenManager:D}=n;q(J&&D,e,"internal-error");let m=Ha.fromJSON(this.name,D);q(typeof J=="string",e,"internal-error"),Er(g,e.name),Er(y,e.name),q(typeof ge=="boolean",e,"internal-error"),q(typeof Qe=="boolean",e,"internal-error"),Er(I,e.name),Er(A,e.name),Er(x,e.name),Er(N,e.name),Er(F,e.name),Er(K,e.name);let v=new t({uid:J,auth:e,email:y,emailVerified:ge,displayName:g,isAnonymous:Qe,photoURL:A,phoneNumber:I,tenantId:x,stsTokenManager:m,createdAt:F,lastLoginAt:K});return fe&&Array.isArray(fe)&&(v.providerData=fe.map(E=>Object.assign({},E))),N&&(v._redirectEventId=N),v}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ha;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?vT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ha;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new za(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var JC=new Map;function Bn(t){Dr(t instanceof Function,"Expected a class definition");let e=JC.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JC.set(t,e),e)}var TL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Fm=TL;function Zl(t,e,n){return`firebase:${t}:${e}:${n}`}var rd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Zl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Gs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Bn(Fm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Bn(Fm),o=Zl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=Gs._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function XC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ET(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bT(e))return"Blackberry";if(CT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||wT(e))&&!e.includes("edge/"))return"Chrome";if(DT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _T(t=Ge()){return/firefox\//i.test(t)}function IT(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wT(t=Ge()){return/crios\//i.test(t)}function ET(t=Ge()){return/iemobile/i.test(t)}function DT(t=Ge()){return/android/i.test(t)}function bT(t=Ge()){return/blackberry/i.test(t)}function CT(t=Ge()){return/webos/i.test(t)}function ny(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SL(t=Ge()){var e;return ny(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AL(){return AC()&&document.documentMode===10}function TT(t=Ge()){return ny(t)||DT(t)||CT(t)||bT(t)||/windows phone/i.test(t)||ET(t)}function ST(t,e=[]){let n;switch(t){case"Browser":n=XC(Ge());break;case"Worker":n=`${XC(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wr}/${r}`}var Lm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function RL(n){return w(this,arguments,function*(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",br(t,e))})}var ML=6,Vm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ML,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var jm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new id(this),this.idTokenSubscription=new id(this),this.beforeStateQueue=new Lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield rd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield yT(this,{idToken:e}),r=yield Gs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Kt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Kt(this.app))return Promise.reject($n(this));let n=e?ft(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Kt(this.app)?Promise.reject($n(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject($n(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield RL(this),n=new Vm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield CL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Bn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield rd.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ST(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&fL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function wi(t){return ft(t)}var id=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xC(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NL(t){dd=t}function AT(t){return dd.loadJS(t)}function xL(){return dd.recaptchaEnterpriseScript}function PL(){return dd.gapiScript}function RT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var OL="recaptcha-enterprise",kL="NO_RECAPTCHA",Um=class{constructor(e){this.type=OL,this.auth=wi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){IL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Om(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;YC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(kL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&YC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xL();u.length!==0&&(u+=c),AT(u).then(()=>{i(c,s,o)}).catch(l=>{o(l)})}}).catch(c=>{o(c)})})})}};function eT(t,e,n,r=!1){return w(this,null,function*(){let i=new Um(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Bm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield eT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield eT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function ry(t,e){let n=Ua(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(fi(s,e??{}))return i;dn(i,"already-initialized")}return n.initialize({options:e})}function FL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iy(t,e,n){let r=wi(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=MT(e),{host:o,port:c}=LL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||VL()}function MT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LL(t){let e=MT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:tT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:tT(o)}}}function tT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function VL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ga=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};function jL(t,e){return w(this,null,function*(){return Cr(t,"POST","/v1/accounts:signUp",e)})}function UL(t,e){return w(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithPassword",br(t,e))})}function BL(t,e){return w(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))})}function $L(t,e){return w(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))})}var Wa=class t extends Ga{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",UL);case"emailLink":return BL(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",jL);case"emailLink":return $L(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Mm(t,e){return w(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithIdp",br(t,e))})}function HL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qL(t){let e=Us(Bs(t)).link,n=e?Us(Bs(e)).deep_link_id:null,r=Us(Bs(t)).deep_link_id;return(r?Us(Bs(r)).link:null)||r||n||e||t}var sd=class t{constructor(e){var n,r,i,s,o,c;let u=Us(Bs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=HL((i=u.mode)!==null&&i!==void 0?i:null);q(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=qL(e);try{return new t(n)}catch{return null}}};var NT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Wa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=sd.parseLink(r);return q(i,"argument-error"),Wa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),od=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $m=class extends od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function zL(t,e){return w(this,null,function*(){return Qa(t,"POST","/v1/accounts:signUp",br(t,e))})}var Ws=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield Gs._fromIdTokenResponse(e,r,i),o=nT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=nT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function nT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Hm=class t extends St{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function xT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hm._fromErrorAndOperation(t,s,e,r):s})}function GL(t,e,n=!1){return w(this,null,function*(){let r=yield qa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ws._forOperation(t,"link",r)})}function WL(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Kt(r.app))return Promise.reject($n(r));let i="reauthenticate";try{let s=yield qa(t,xT(r,i,e,t),n);q(s.idToken,r,"internal-error");let o=ey(s.idToken);q(o,r,"internal-error");let{sub:c}=o;return q(t.uid===c,r,"user-mismatch"),Ws._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&dn(r,"user-mismatch"),s}})}function PT(t,e,n=!1){return w(this,null,function*(){if(Kt(t.app))return Promise.reject($n(t));let r="signIn",i=yield xT(t,r,e),s=yield Ws._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function sy(t,e){return w(this,null,function*(){return PT(wi(t),e)})}function OT(t){return w(this,null,function*(){let e=wi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function oy(t,e,n){return w(this,null,function*(){if(Kt(t.app))return Promise.reject($n(t));let r=wi(t),o=yield Bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&OT(t),u}),c=yield Ws._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function ay(t,e,n){return Kt(t.app)?Promise.reject($n(t)):sy(ft(t),NT.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&OT(t),r}))}function cy(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function uy(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function ly(t){return ft(t).signOut()}var ad="__sak";var cd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var KL=1e3,QL=10,YL=(()=>{class t extends cd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);AL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,QL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},KL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),kT=YL;var ZL=(()=>{class t extends cd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dy=ZL;function JL(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var XL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield JL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function FT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var qm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=FT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let y=g;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ln(){return window}function eV(t){ln().location.href=t}function LT(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}function tV(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function nV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rV(){return LT()?self:null}var VT="firebaseLocalStorageDb",iV=1,ud="firebaseLocalStorage",jT="fbase_key",Ii=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hd(t,e){return t.transaction([ud],e?"readwrite":"readonly").objectStore(ud)}function sV(){let t=indexedDB.deleteDatabase(VT);return new Ii(t).toPromise()}function zm(){let t=indexedDB.open(VT,iV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ud,{keyPath:jT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ud)?e(r):(r.close(),yield sV(),e(yield zm()))}))})}function rT(t,e,n){return w(this,null,function*(){let r=hd(t,!0).put({[jT]:e,value:n});return new Ii(r).toPromise()})}function oV(t,e){return w(this,null,function*(){let n=hd(t,!1).get(e),r=yield new Ii(n).toPromise();return r===void 0?null:r.value})}function iT(t,e){let n=hd(t,!0).delete(e);return new Ii(n).toPromise()}var aV=800,cV=3,uV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield zm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>cV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return LT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=XL._getInstance(rV()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield tV(),!this.activeServiceWorker)return;this.sender=new qm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||nV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield zm();return yield rT(n,ad,"1"),yield iT(n,ad),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>rT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>oV(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>iT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=hd(s,!1).getAll();return new Ii(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),aV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),UT=uV;var T9=RT("rcb"),S9=new _i(3e4,6e4);function lV(t,e){return e?Bn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ka=class extends Ga{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function dV(t){return PT(t.auth,new Ka(t),t.bypassAuthState)}function hV(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),WL(n,new Ka(t),t.bypassAuthState)}function fV(t){return w(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),GL(n,new Ka(t),t.bypassAuthState)})}var Gm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dV;case"linkViaPopup":case"linkViaRedirect":return fV;case"reauthViaPopup":case"reauthViaRedirect":return hV;default:dn(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var A9=new _i(2e3,1e4);var pV="pendingRedirect",Jl=new Map,Wm=class t extends Gm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Jl.get(this.auth._key());if(!e){try{let r=(yield gV(this.resolver,this.auth))?yield Jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jl.set(this.auth._key(),e)}return this.bypassAuthState||Jl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function gV(t,e){return w(this,null,function*(){let n=vV(e),r=yV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function mV(t,e){Jl.set(t._key(),e)}function yV(t){return Bn(t._redirectPersistence)}function vV(t){return Zl(pV,t.config.apiKey,t.name)}function _V(t,e,n=!1){return w(this,null,function*(){if(Kt(t.app))return Promise.reject($n(t));let r=wi(t),i=lV(r,e),o=yield new Wm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var IV=10*60*1e3,Km=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IV&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}};function sT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(t);default:return!1}}function EV(n){return w(this,arguments,function*(t,e={}){return Cr(t,"GET","/v1/projects",e)})}var DV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bV=/^https?/;function CV(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield EV(t);for(let n of e)try{if(TV(n))return}catch{}dn(t,"unauthorized-domain")})}function TV(t){let e=xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bV.test(n))return!1;if(DV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var SV=new _i(3e4,6e4);function oT(){let t=ln().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AV(t){return new Promise((e,n)=>{var r,i,s;function o(){oT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oT(),n(vi(t,"network-request-failed"))},timeout:SV.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ln().gapi)===null||s===void 0)&&s.load)o();else{let c=RT("iframefcb");return ln()[c]=()=>{gapi.load?o():n(vi(t,"network-request-failed"))},AT(`${PL()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Xl=null,e})}var Xl=null;function RV(t){return Xl=Xl||AV(t),Xl}var MV=new _i(5e3,15e3),NV="__/auth/iframe",xV="emulator/auth/iframe",PV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kV(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Jm(e,xV):`https://${t.config.authDomain}/${NV}`,r={apiKey:e.apiKey,appName:t.name,v:wr},i=OV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${La(r).slice(1)}`}function FV(t){return w(this,null,function*(){let e=yield RV(t),n=ln().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:kV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PV,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=vi(t,"network-request-failed"),c=ln().setTimeout(()=>{s(o)},MV.get());function u(){ln().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var LV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VV=500,jV=600,UV="_blank",BV="http://localhost",ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $V(t,e,n,r=VV,i=jV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},LV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();n&&(c=wT(l)?UV:n),_T(l)&&(e=e||BV,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[I,A])=>`${y}${I}=${A},`,"");if(SL(l)&&c!=="_self")return HV(e||"",c),new ld(null);let g=window.open(e||"",c,f);q(g,t,"popup-blocked");try{g.focus()}catch{}return new ld(g)}function HV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qV="__/auth/handler",zV="emulator/auth/handler",GV=encodeURIComponent("fac");function aT(t,e,n,r,i,s){return w(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wr,eventId:i};if(e instanceof od){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof $m){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${GV}=${encodeURIComponent(u)}`:"";return`${WV(t)}?${La(c).slice(1)}${l}`})}function WV({config:t}){return t.emulator?Jm(t,zV):`https://${t.authDomain}/${qV}`}var Nm="webStorageSupport",Qm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dy,this._completeRedirectFn=_V,this._overrideRedirectResult=mV}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield aT(e,n,r,xm(),i);return $V(e,o,FT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield aT(e,n,r,xm(),i);return eV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield FV(e),r=new Km(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Nm];o!==void 0&&n(!!o),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TT()||IT()||ny()}},$T=Qm;var cT="@firebase/auth",uT="1.7.8";var Ym=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QV(t){Ir(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ST(t)},l=new jm(r,i,s,u);return FL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ir(new Lt("auth-internal",e=>{let n=wi(e.getProvider("auth").getImmediate());return(r=>new Ym(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(cT,uT,KV(t)),Ue(cT,uT,"esm2017")}var YV=5*60,ZV=lm("authIdTokenMaxAge")||YV,lT=null,JV=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZV)return;let i=n?.token;lT!==i&&(lT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hy(t=$s()){let e=Ua(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ry(t,{popupRedirectResolver:$T,persistence:[UT,kT,dy]}),r=lm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=JV(s.toString());uy(n,o,()=>o(n.currentUser)),cy(n,c=>o(c))}}let i=cm("auth");return i&&iy(n,`http://${i}`),n}function XV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QV("Browser");var HT="auth",Yt=class{constructor(e){return e}},Ya=class{constructor(){return Ba(HT)}};var fy=new j("angularfire2.auth-instances");function Hj(t,e){let n=Wl(HT,t,e);return n&&new Yt(n)}function qj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Yt(r)}}var zj={provide:Ya,deps:[[new ht,fy]]},Gj={provide:Yt,useFactory:Hj,deps:[[new ht,fy],jn]};function qT(t,...e){return Ue("angularfire",mi.full,"auth"),sn([Gj,zj,{provide:fy,useFactory:qj(t),multi:!0,deps:[ve,vt,zs,yi,[new ht,qs],...e]}])}var zT=Qt(oy,!0);var GT=Qt(hy,!0);var WT=Qt(ay,!0);var KT=Qt(ly,!0);var QT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YT={};var gy,ZT;(function(){var t;function e(D,m){function v(){}v.prototype=m.prototype,D.D=m.prototype,D.prototype=new v,D.prototype.constructor=D,D.C=function(E,b,T){for(var _=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)_[yn-2]=arguments[yn];return m.prototype[b].apply(E,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,v){v||(v=0);var E=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)E[b]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(b=0;16>b;++b)E[b]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=D.g[0],v=D.g[1],b=D.g[2];var T=D.g[3],_=m+(T^v&(b^T))+E[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[1]+3905402710&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[2]+606105819&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+E[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[5]+1200080426&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[6]+2821735955&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+E[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[9]+2336552879&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[10]+4294925233&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+E[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+E[13]+4254626195&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+E[14]+2792965006&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+E[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(b^T&(v^b))+E[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[6]+3225465664&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[11]+643717713&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+E[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[10]+38016083&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[15]+3634488961&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+E[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[14]+3275163606&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[3]+4107603335&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+E[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+E[2]+4243563512&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+E[7]+1735328473&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+E[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(v^b^T)+E[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[8]+2272392833&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[11]+1839030562&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+E[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[4]+1272893353&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[7]+4139469664&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+E[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[0]+3936430074&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[3]+3572445317&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+E[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+E[12]+3873151461&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+E[15]+530742520&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+E[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(b^(v|~T))+E[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[7]+1126891415&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[14]+2878612391&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+E[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[3]+2399980690&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[10]+4293915773&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+E[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[15]+4264355552&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[6]+2734768916&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+E[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+E[11]+3174756917&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+E[2]+718787259&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var v=m-this.blockSize,E=this.B,b=this.h,T=0;T<m;){if(b==0)for(;T<=v;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<m;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var v=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=v&255,v/=256;for(this.u(D),D=Array(16),m=v=0;4>m;++m)for(var E=0;32>E;E+=8)D[v++]=this.g[m]>>>E&255;return D};function s(D,m){var v=c;return Object.prototype.hasOwnProperty.call(v,D)?v[D]:v[D]=m(D)}function o(D,m){this.h=m;for(var v=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==m||(v[b]=T,E=!1)}this.g=v}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return N(l(-D));for(var m=[],v=1,E=0;D>=v;E++)m[E]=D/v|0,v*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return N(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),E=g,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),_=parseInt(D.substring(b,b+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(_))):(E=E.j(v),E=E.add(l(_)))}return E}var g=u(0),y=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-N(this).m();for(var D=0,m=1,v=0;v<this.g.length;v++){var E=this.i(v);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(x(this))return"-"+N(this).toString(D);for(var m=l(Math.pow(D,6)),v=this,E="";;){var b=ge(v,m).g;v=F(v,b.j(m));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(D);if(v=b,A(v))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=F(this,D),x(D)?-1:A(D)?0:1};function N(D){for(var m=D.g.length,v=[],E=0;E<m;E++)v[E]=~D.g[E];return new o(v,~D.h).add(y)}t.abs=function(){return x(this)?N(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0,b=0;b<=m;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),_=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=_>>>16,T&=65535,_&=65535,v[b]=_<<16|T}return new o(v,v[v.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(N(m))}t.j=function(D){if(A(this)||A(D))return g;if(x(this))return x(D)?N(this).j(N(D)):N(N(this).j(D));if(x(D))return N(this.j(N(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,v=[],E=0;E<2*m;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,_=this.i(E)&65535,yn=D.i(b)>>>16,po=D.i(b)&65535;v[2*E+2*b]+=_*po,K(v,2*E+2*b),v[2*E+2*b+1]+=T*po,K(v,2*E+2*b+1),v[2*E+2*b+1]+=_*yn,K(v,2*E+2*b+1),v[2*E+2*b+2]+=T*yn,K(v,2*E+2*b+2)}for(E=0;E<m;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=m;E<2*m;E++)v[E]=0;return new o(v,0)};function K(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function J(D,m){this.g=D,this.h=m}function ge(D,m){if(A(m))throw Error("division by zero");if(A(D))return new J(g,g);if(x(D))return m=ge(N(D),m),new J(N(m.g),N(m.h));if(x(m))return m=ge(D,N(m)),new J(N(m.g),m.h);if(30<D.g.length){if(x(D)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,E=m;0>=E.l(D);)v=Qe(v),E=Qe(E);var b=fe(v,1),T=fe(E,1);for(E=fe(E,2),v=fe(v,2);!A(E);){var _=T.add(E);0>=_.l(D)&&(b=b.add(v),T=_),E=fe(E,1),v=fe(v,1)}return m=F(D,b.j(m)),new J(b,m)}for(b=g;0<=D.l(m);){for(v=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(v),_=T.j(m);x(_)||0<_.l(D);)v-=E,T=l(v),_=T.j(m);A(T)&&(T=y),b=b.add(T),D=F(D,_)}return new J(b,D)}t.A=function(D){return ge(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)&D.i(E);return new o(v,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)|D.i(E);return new o(v,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)^D.i(E);return new o(v,this.h^D.h)};function Qe(D){for(var m=D.g.length+1,v=[],E=0;E<m;E++)v[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(v,D.h)}function fe(D,m){var v=m>>5;m%=32;for(var E=D.g.length-v,b=[],T=0;T<E;T++)b[T]=0<m?D.i(T+v)>>>m|D.i(T+v+1)<<32-m:D.i(T+v);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZT=YT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,gy=YT.Integer=o}).apply(typeof QT<"u"?QT:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var my,yy,Ks,vy,Za,pd,_y,Iy,wy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,y.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,S){for(var P=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)P[_e-2]=arguments[_e];return d.prototype[C].apply(p,P)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let C=a.length||0,S=p.length||0;a.length=C+S;for(let P=0;P<S;P++)a[C+P]=p[P]}else a.push(p)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function J(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var Qe=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function fe(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=nh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,h){let p=po.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var po=new F(()=>new IS,a=>a.reset());class IS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let go,mo=!1,nh=new yn,e_=()=>{let a=c.Promise.resolve(void 0);go=()=>{a.then(wS)}};var wS=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){T(h)}var d=po;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}mo=!1};function Kn(){this.s=this.s,this.C=this.C}Kn.prototype.s=!1,Kn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ES=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function yo(a,d){if(tt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Qe){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:DS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&yo.aa.h.call(this)}}A(yo,tt);var DS={2:"touch",3:"pen",4:"mouse"};yo.prototype.h=function(){yo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var vo="closure_listenable_"+(1e6*Math.random()|0),bS=0;function CS(a,d,h,p,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=C,this.key=++bS,this.da=this.fa=!1}function dc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function hc(a){this.src=a,this.g={},this.h=0}hc.prototype.add=function(a,d,h,p,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=ih(a,d,p,C);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new CS(d,this.src,S,!!p,C),d.fa=h,a.push(d)),d};function rh(a,d){var h=d.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(p,C,1),S&&(dc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function ih(a,d,h,p){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return C}return-1}var sh="closure_lm_"+(1e6*Math.random()|0),oh={};function t_(a,d,h,p,C){if(p&&p.once)return r_(a,d,h,p,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)t_(a,d[S],h,p,C);return null}return h=lh(h),a&&a[vo]?a.K(d,h,l(p)?!!p.capture:!!p,C):n_(a,d,h,!1,p,C)}function n_(a,d,h,p,C,S){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,_e=ch(a);if(_e||(a[sh]=_e=new hc(a)),h=_e.add(d,h,p,P,S),h.proxy)return h;if(p=TS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)ES||(C=P),C===void 0&&(C=!1),a.addEventListener(d.toString(),p,C);else if(a.attachEvent)a.attachEvent(s_(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function TS(){function a(h){return d.call(a.src,a.listener,h)}let d=SS;return a}function r_(a,d,h,p,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)r_(a,d[S],h,p,C);return null}return h=lh(h),a&&a[vo]?a.L(d,h,l(p)?!!p.capture:!!p,C):n_(a,d,h,!0,p,C)}function i_(a,d,h,p,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)i_(a,d[S],h,p,C);else p=l(p)?!!p.capture:!!p,h=lh(h),a&&a[vo]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=ih(S,h,p,C),-1<h&&(dc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=ch(a))&&(d=a.g[d.toString()],a=-1,d&&(a=ih(d,h,p,C)),(h=-1<a?d[a]:null)&&ah(h))}function ah(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[vo])rh(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(s_(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=ch(d))?(rh(h,a),h.h==0&&(h.src=null,d[sh]=null)):dc(a)}}}function s_(a){return a in oh?oh[a]:oh[a]="on"+a}function SS(a,d){if(a.da)a=!0;else{d=new yo(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&ah(a),a=h.call(p,d)}return a}function ch(a){return a=a[sh],a instanceof hc?a:null}var uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function lh(a){return typeof a=="function"?a:(a[uh]||(a[uh]=function(d){return a.handleEvent(d)}),a[uh])}function nt(){Kn.call(this),this.i=new hc(this),this.M=this,this.F=null}A(nt,Kn),nt.prototype[vo]=!0,nt.prototype.removeEventListener=function(a,d,h,p){i_(this,a,d,h,p)};function ut(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new tt(d,a);else if(d instanceof tt)d.target=d.target||a;else{var C=d;d=new tt(p,a),E(d,C)}if(C=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];C=fc(P,p,!0,d)&&C}if(P=d.g=a,C=fc(P,p,!0,d)&&C,C=fc(P,p,!1,d)&&C,h)for(S=0;S<h.length;S++)P=d.g=h[S],C=fc(P,p,!1,d)&&C}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)dc(h[p]);delete a.g[d],a.h--}}this.F=null},nt.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},nt.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function fc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var _e=P.listener,Ye=P.ha||P.src;P.fa&&rh(a.i,P),C=_e.call(Ye,p)!==!1&&C}}return C&&!p.defaultPrevented}function o_(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function a_(a){a.g=o_(()=>{a.g=null,a.i&&(a.i=!1,a_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class AS extends Kn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:a_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(a){Kn.call(this),this.h=a,this.g={}}A(_o,Kn);var c_=[];function u_(a){fe(a.g,function(d,h){this.g.hasOwnProperty(h)&&ah(d)},a),a.g={}}_o.prototype.N=function(){_o.aa.N.call(this),u_(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dh=c.JSON.stringify,RS=c.JSON.parse,MS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function hh(){}hh.prototype.h=null;function l_(a){return a.h||(a.h=a.i())}function d_(){}var Io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fh(){tt.call(this,"d")}A(fh,tt);function ph(){tt.call(this,"c")}A(ph,tt);var xr={},h_=null;function pc(){return h_=h_||new nt}xr.La="serverreachability";function f_(a){tt.call(this,xr.La,a)}A(f_,tt);function wo(a){let d=pc();ut(d,new f_(d))}xr.STAT_EVENT="statevent";function p_(a,d){tt.call(this,xr.STAT_EVENT,a),this.stat=d}A(p_,tt);function lt(a){let d=pc();ut(d,new p_(d,a))}xr.Ma="timingevent";function g_(a,d){tt.call(this,xr.Ma,a),this.size=d}A(g_,tt);function Eo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Do(){this.g=!0}Do.prototype.xa=function(){this.g=!1};function NS(a,d,h,p,C,S){a.info(function(){if(a.g)if(S)for(var P="",_e=S.split("&"),Ye=0;Ye<_e.length;Ye++){var pe=_e[Ye].split("=");if(1<pe.length){var rt=pe[0];pe=pe[1];var it=rt.split("_");P=2<=it.length&&it[1]=="type"?P+(rt+"="+pe+"&"):P+(rt+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+d+`
`+h+`
`+P})}function xS(a,d,h,p,C,S,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+d+`
`+h+`
`+S+" "+P})}function xi(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+OS(a,h)+(p?" "+p:"")})}function PS(a,d){a.info(function(){return"TIMEOUT: "+d})}Do.prototype.info=function(){};function OS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return dh(h)}catch{return d}}var gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},m_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gh;function mc(){}A(mc,hh),mc.prototype.g=function(){return new XMLHttpRequest},mc.prototype.i=function(){return{}},gh=new mc;function Qn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new _o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new y_}function y_(){this.i=null,this.g="",this.h=!1}var v_={},mh={};function yh(a,d,h){a.L=1,a.v=Ic(vn(d)),a.m=h,a.P=!0,__(a,null)}function __(a,d){a.F=Date.now(),yc(a),a.A=vn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),P_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new y_,a.g=Z_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new AS(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(c_[0]=C.toString()),C=c_);for(var S=0;S<C.length;S++){var P=t_(h,C[S],p||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),wo(),NS(a.i,a.u,a.A,a.l,a.R,a.m)}Qn.prototype.ca=function(a){a=a.target;let d=this.M;d&&_n(a)==3?d.j():this.Y(a)},Qn.prototype.Y=function(a){try{if(a==this.g)e:{let it=_n(this.g);var d=this.g.Ba();let ki=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||U_(this.g)))){this.J||it!=4||d==7||(d==8||0>=ki?wo(3):wo(2)),vh(this);var h=this.g.Z();this.X=h;t:if(I_(this)){var p=U_(this.g);a="";var C=p.length,S=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),bo(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==C-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,xS(this.i,this.u,this.A,this.l,this.R,it,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Ye=this.g;if((_e=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(_e)){var pe=_e;break t}}pe=null}if(h=pe)xi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_h(this,h);else{this.o=!1,this.s=3,lt(12),Pr(this),bo(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<P.length;)if(Vt=kS(this,P),Vt==mh){it==4&&(this.s=4,lt(14),h=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==v_){this.s=4,lt(15),xi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else xi(this.i,this.l,Vt,null),_h(this,Vt);if(I_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||P.length!=0||this.h.h||(this.s=1,lt(16),h=!1),this.o=this.o&&h,!h)xi(this.i,this.l,P,"[Invalid Chunked Response]"),Pr(this),bo(this);else if(0<P.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Ch(rt),rt.M=!0,lt(11))}}else xi(this.i,this.l,P,null),_h(this,P);it==4&&Pr(this),this.o&&!this.J&&(it==4?W_(this.j,this):(this.o=!1,yc(this)))}else JS(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Pr(this),bo(this)}}}catch{}finally{}};function I_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function kS(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?mh:(h=Number(d.substring(h,p)),isNaN(h)?v_:(p+=1,p+h>d.length?mh:(d=d.slice(p,p+h),a.C=p+h,d)))}Qn.prototype.cancel=function(){this.J=!0,Pr(this)};function yc(a){a.S=Date.now()+a.I,w_(a,a.I)}function w_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Eo(y(a.ba,a),d)}function vh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(PS(this.i,this.A),this.L!=2&&(wo(),lt(17)),Pr(this),this.s=2,bo(this)):w_(this,this.S-a)};function bo(a){a.j.G==0||a.J||W_(a.j,a)}function Pr(a){vh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,u_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function _h(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Ih(h.h,a))){if(!a.K&&Ih(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Cc(h),Dc(h);else break e;bh(h),lt(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Eo(y(h.Za,h),6e3));if(1>=b_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else kr(h,11)}else if((a.K||h.g==a)&&Cc(h),!K(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let pe=C[d];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let rt=pe[3];rt!=null&&(h.la=rt,h.j.info("VER="+h.la));let it=pe[4];it!=null&&(h.Aa=it,h.j.info("SVER="+h.Aa));let ki=pe[5];ki!=null&&typeof ki=="number"&&0<ki&&(p=1.5*ki,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Vt=a.g;if(Vt){let Sc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var S=p.h;S.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(wh(S,S.h),S.h=null))}if(p.D){let Th=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(p.ya=Th,De(p.I,p.D,Th))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=Y_(p,p.J?p.ia:null,p.W),P.K){C_(p.h,P);var _e=P,Ye=p.L;Ye&&(_e.I=Ye),_e.B&&(vh(_e),yc(_e)),p.g=P}else z_(p);0<h.i.length&&bc(h)}else pe[0]!="stop"&&pe[0]!="close"||kr(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?kr(h,7):Dh(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}wo(4)}catch{}}var FS=class{constructor(a,d){this.g=a,this.map=d}};function E_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function D_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function b_(a){return a.h?1:a.g?a.g.size:0}function Ih(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function wh(a,d){a.g?a.g.add(d):a.h=d}function C_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}E_.prototype.cancel=function(){if(this.i=T_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function T_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function LS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function VS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function S_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=VS(a),p=LS(a),C=p.length,S=0;S<C;S++)d.call(void 0,p[S],h&&h[S],a)}var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var S=a[h].substring(0,p);C=a[h].substring(p+1)}else S=a[h];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Or(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Or){this.h=a.h,vc(this,a.j),this.o=a.o,this.g=a.g,_c(this,a.s),this.l=a.l;var d=a.i,h=new So;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),R_(this,h),this.m=a.m}else a&&(d=String(a).match(A_))?(this.h=!1,vc(this,d[1]||"",!0),this.o=Co(d[2]||""),this.g=Co(d[3]||"",!0),_c(this,d[4]),this.l=Co(d[5]||"",!0),R_(this,d[6]||"",!0),this.m=Co(d[7]||"")):(this.h=!1,this.i=new So(null,this.h))}Or.prototype.toString=function(){var a=[],d=this.j;d&&a.push(To(d,M_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(To(d,M_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(To(h,h.charAt(0)=="/"?$S:BS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",To(h,qS)),a.join("")};function vn(a){return new Or(a)}function vc(a,d,h){a.j=h?Co(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function _c(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function R_(a,d,h){d instanceof So?(a.i=d,zS(a.i,a.h)):(h||(d=To(d,HS)),a.i=new So(d,a.h))}function De(a,d,h){a.i.set(d,h)}function Ic(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Co(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function To(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,US),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function US(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var M_=/[#\/\?@]/g,BS=/[#\?:]/g,$S=/[#\?]/g,HS=/[#\?@]/g,qS=/#/g;function So(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Yn(a){a.g||(a.g=new Map,a.h=0,a.i&&jS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=So.prototype,t.add=function(a,d){Yn(this),this.i=null,a=Pi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function N_(a,d){Yn(a),d=Pi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function x_(a,d){return Yn(a),d=Pi(a,d),a.g.has(d)}t.forEach=function(a,d){Yn(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(d,C,p,this)},this)},this)},t.na=function(){Yn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let C=a[p];for(let S=0;S<C.length;S++)h.push(d[p])}return h},t.V=function(a){Yn(this);let d=[];if(typeof a=="string")x_(this,a)&&(d=d.concat(this.g.get(Pi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Yn(this),this.i=null,a=Pi(this,a),x_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function P_(a,d,h){N_(a,d),0<h.length&&(a.i=null,a.g.set(Pi(a,d),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var C=S;P[p]!==""&&(C+="="+encodeURIComponent(String(P[p]))),a.push(C)}}return this.i=a.join("&")};function Pi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function zS(a,d){d&&!a.j&&(Yn(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(N_(this,p),P_(this,C,h))},a)),a.j=d}function GS(a,d){let h=new Do;if(c.Image){let p=new Image;p.onload=I(Zn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=I(Zn,h,"TestLoadImage: error",!1,d,p),p.onabort=I(Zn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=I(Zn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function WS(a,d){let h=new Do,p=new AbortController,C=setTimeout(()=>{p.abort(),Zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(C),S.ok?Zn(h,"TestPingServer: ok",!0,d):Zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Zn(h,"TestPingServer: error",!1,d)})}function Zn(a,d,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function KS(){this.g=new MS}function QS(a,d,h){let p=h||"";try{S_(a,function(C,S){let P=C;l(C)&&(P=dh(C)),d.push(p+S+"="+encodeURIComponent(P))})}catch(C){throw d.push(p+"type="+encodeURIComponent("_badmap")),C}}function Ao(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ao,hh),Ao.prototype.g=function(){return new wc(this.l,this.j)},Ao.prototype.i=function(a){return function(){return a}}({});function wc(a,d){nt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(wc,nt),t=wc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Mo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;O_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function O_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ro(this):Mo(this),this.readyState==3&&O_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ro(this))},t.Qa=function(a){this.g&&(this.response=a,Ro(this))},t.ga=function(){this.g&&Ro(this)};function Ro(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Mo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Mo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function k_(a){let d="";return fe(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function Eh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=k_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function Ce(a){nt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ce,nt);var YS=/^https?$/i,ZS=["POST","PUT"];t=Ce.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gh.g(),this.v=this.o?l_(this.o):l_(gh),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){F_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ZS,d,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{j_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){F_(this,S)}};function F_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,L_(a),Ec(a)}function L_(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?V_(this):this.bb())},t.bb=function(){V_(this)};function V_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)o_(a.Ea,0,a);else if(ut(a,"readystatechange"),_n(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=P===0){var C=String(a.D).match(A_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),p=!YS.test(C?C.toLowerCase():"")}h=p}if(h)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var S=2<_n(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",L_(a)}}finally{Ec(a)}}}}function Ec(a,d){if(a.g){j_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ut(a,"ready");try{h.onreadystatechange=p}catch{}}}function j_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),RS(d)}};function U_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function JS(a){let d={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(K(a[p]))continue;var h=b(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[C]||[];d[C]=S,S.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function B_(a){this.Aa=0,this.i=[],this.j=new Do,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,a),this.cb=No("retryDelaySeedMs",1e4,a),this.Wa=No("forwardChannelMaxRetries",2,a),this.wa=No("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new E_(a&&a.concurrentRequestLimit),this.Da=new KS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=B_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){lt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Y_(this,null,this.W),bc(this)};function Dh(a){if($_(a),a.G==3){var d=a.U++,h=vn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),xo(a,h),d=new Qn(a,a.j,d),d.L=2,d.v=Ic(vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Z_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yc(d)}Q_(a)}function Dc(a){a.g&&(Ch(a),a.g.cancel(),a.g=null)}function $_(a){Dc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Cc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function bc(a){if(!D_(a.h)&&!a.s){a.s=!0;var d=a.Ga;go||e_(),mo||(go(),mo=!0),nh.add(d,a),a.B=0}}function XS(a,d){return b_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Eo(y(a.Ga,a,d),K_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Qn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=q_(this,C,d),h=vn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),xo(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(k_(S)))+"&"+d:this.m&&Eh(h,this.m,S)),wh(this.h,C),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),C.T=!0,yh(C,h,null)):yh(C,h,d),this.G=2}}else this.G==3&&(a?H_(this,a):this.i.length==0||D_(this.h)||H_(this))};function H_(a,d){var h;d?h=d.l:h=a.U++;let p=vn(a.I);De(p,"SID",a.K),De(p,"RID",h),De(p,"AID",a.T),xo(a,p),a.m&&a.o&&Eh(p,a.m,a.o),h=new Qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=q_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),wh(a.h,h),yh(h,p,d)}function xo(a,d){a.H&&fe(a.H,function(h,p){De(d,p,h)}),a.l&&S_({},function(h,p){De(d,p,h)})}function q_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=C[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let _e=!0;for(let Ye=0;Ye<h;Ye++){let pe=C[Ye].g,rt=C[Ye].map;if(pe-=S,0>pe)S=Math.max(0,C[Ye].g-100),_e=!1;else try{QS(rt,P,"req"+pe+"_")}catch{p&&p(rt)}}if(_e){p=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function z_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;go||e_(),mo||(go(),mo=!0),nh.add(d,a),a.v=0}}function bh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Eo(y(a.Fa,a),K_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,G_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Eo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Dc(this),G_(this))};function Ch(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function G_(a){a.g=new Qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=vn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),xo(a,d),a.m&&a.o&&Eh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ic(vn(d)),h.m=null,h.P=!0,__(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Dc(this),bh(this),lt(19))};function Cc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function W_(a,d){var h=null;if(a.g==d){Cc(a),Ch(a),a.g=null;var p=2}else if(Ih(a.h,d))h=d.D,C_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;p=pc(),ut(p,new g_(p,h)),bc(a)}else z_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(p==1&&XS(a,d)||p==2&&bh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:kr(a,5);break;case 4:kr(a,10);break;case 3:kr(a,6);break;default:kr(a,2)}}}function K_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function kr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),p=a.Xa;let C=!p;p=new Or(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vc(p,"https"),Ic(p),C?GS(p.toString(),h):WS(p.toString(),h)}else lt(2);a.G=0,a.l&&a.l.sa(d),Q_(a),$_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Q_(a){if(a.G=0,a.ka=[],a.l){let d=T_(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Y_(a,d,h){var p=h instanceof Or?vn(h):new Or(h);if(p.g!="")d&&(p.g=d+"."+p.g),_c(p,p.s);else{var C=c.location;p=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new Or(null);p&&vc(S,p),d&&(S.g=d),C&&_c(S,C),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&De(p,h,d),De(p,"VER",a.la),xo(a,p),p}function Z_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ce(new Ao({eb:h})):new Ce(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J_(){}t=J_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tc(){}Tc.prototype.g=function(a,d){return new wt(a,d)};function wt(a,d){nt.call(this),this.g=new B_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Oi(this)}A(wt,nt),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Dh(this.g)},wt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=dh(a),a=h);d.i.push(new FS(d.Ya++,a)),d.G==3&&bc(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,Dh(this.g),delete this.g,wt.aa.N.call(this)};function X_(a){fh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(X_,fh);function eI(){ph.call(this),this.status=1}A(eI,ph);function Oi(a){this.g=a}A(Oi,J_),Oi.prototype.ua=function(){ut(this.g,"a")},Oi.prototype.ta=function(a){ut(this.g,new X_(a))},Oi.prototype.sa=function(a){ut(this.g,new eI)},Oi.prototype.ra=function(){ut(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,wy=Hn.createWebChannelTransport=function(){return new Tc},Iy=Hn.getStatEventTarget=function(){return pc()},_y=Hn.Event=xr,pd=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gc.NO_ERROR=0,gc.TIMEOUT=8,gc.HTTP_ERROR=6,Za=Hn.ErrorCode=gc,m_.COMPLETE="complete",vy=Hn.EventType=m_,d_.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Ks=Hn.WebChannel=d_,yy=Hn.FetchXmlHttpFactory=Ao,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,my=Hn.XhrIo=Ce}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});var JT="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var fo="10.13.1";var Ci=new vr("@firebase/firestore");function Ja(){return Ci.logLevel}function L(t,...e){if(Ci.logLevel<=oe.DEBUG){let n=e.map(Hv);Ci.debug(`Firestore (${fo}): ${t}`,...n)}}function Ti(t,...e){if(Ci.logLevel<=oe.ERROR){let n=e.map(Hv);Ci.error(`Firestore (${fo}): ${t}`,...n)}}function Id(t,...e){if(Ci.logLevel<=oe.WARN){let n=e.map(Hv);Ci.warn(`Firestore (${fo}): ${t}`,...n)}}function Hv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+t;throw Ti(e),new Error(e)}function Be(t,e){t||ae()}function Ee(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends St{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var wd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Cy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},Ty=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Sy=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new We(e)}},Ay=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ry=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ay(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},My=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ny=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new My(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Wj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ed=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Wj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function Js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ct(0,0))}static max(){return new t(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Dd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fe=class t extends Dd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,At=class t extends Dd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new U(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};var xy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};xy.UNKNOWN_ID=-1;function Qj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Si(i,te.empty(),e)}function Yj(t){return new Si(t.readTime,t.key,-1)}var Si=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Me.min(),te.empty(),-1)}static max(){return new t(Me.max(),te.empty(),-1)}};function Zj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var Jj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Py=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function I0(t){return w(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==Jj)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Xj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $d(t){return t.name==="IndexedDbTransactionError"}var eU=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function qv(t){return t==null}function ic(t){return t===0&&1/t==-1/0}function tU(t){return typeof t=="number"&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var nU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DW=[...nU,"documentOverlays"],rU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iU=rU,sU=[...iU,"indexConfiguration","indexState","indexEntries"];var bW=[...sU,"globals"];function XT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function w0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Rt=class t{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ys(this.root,e,this.comparator,!0)}},Ys=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bd(this.data.getIterator())}getIteratorFrom(e){return new bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(At.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Oy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Oy("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gn.EMPTY_BYTE_STRING=new Gn("");var oU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(Be(!!t),typeof t=="string"){let e=0,n=oU.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}function zv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E0(t){let e=t.mapValue.fields.__previous_value__;return zv(e)?E0(e):e}function Cd(t){let e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var ky=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Fy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var gd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zv(t)?4:b0(t)?9007199254740991:D0(t)?10:11:ae()}function mn(t,e){if(t===e)return!0;let n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cd(t).isEqual(Cd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Sr(i.timestampValue),c=Sr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xs(i.bytesValue).isEqual(Xs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ke(i.doubleValue),c=ke(s.doubleValue);return o===c?ic(o)===ic(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Js(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(XT(o)!==XT(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!mn(o[u],c[u])))return!1;return!0}(t,e);default:return ae()}}function sc(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function to(t,e){if(t===e)return 0;let n=eo(t),r=eo(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=ke(s.integerValue||s.doubleValue),u=ke(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return e0(t.timestampValue,e.timestampValue);case 4:return e0(Cd(t),Cd(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Xs(s),u=Xs(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=we(c[l],u[l]);if(f!==0)return f}return we(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=we(ke(s.latitude),ke(o.latitude));return c!==0?c:we(ke(s.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let g=s.fields||{},y=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,x=we(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:t0(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===gd.mapValue&&o===gd.mapValue)return 0;if(s===gd.mapValue)return 1;if(o===gd.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let y=we(u[g],f[g]);if(y!==0)return y;let I=to(c[u[g]],l[f[g]]);if(I!==0)return I}return we(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ae()}}function e0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=Sr(t),r=Sr(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function t0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=to(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function no(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Ly(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Ly(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function Vy(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function vd(t){return!!t&&"mapValue"in t}function D0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return cc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ec(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=ec(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ec(this.value))}};function C0(t){let e=[];return cc(t.fields,(n,r)=>{let i=new At([n]);if(vd(r)){let s=C0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var ro=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Me.min(),Me.min(),Me.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Me.min(),Me.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Me.min(),Me.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var io=class{constructor(e,n){this.position=e,this.inclusive=n}};function n0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=to(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}var so=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function aU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Td=class{},Ke=class t extends Td{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Uy(e,n,r):n==="array-contains"?new Hy(e,r):n==="in"?new qy(e,r):n==="not-in"?new zy(e,r):n==="array-contains-any"?new Gy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new By(e,r):new $y(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(to(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ar=class t extends Td{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return T0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function T0(t){return t.op==="and"}function S0(t){return cU(t)&&T0(t)}function cU(t){for(let e of t.filters)if(e instanceof Ar)return!1;return!0}function jy(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+no(t.value);if(S0(t))return t.filters.map(e=>jy(e)).join(",");{let e=t.filters.map(n=>jy(n)).join(",");return`${t.op}(${e})`}}function A0(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof Ar?function(r,i){return i instanceof Ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&A0(o,i.filters[c]),!0):!1}(t,e):void ae()}function R0(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(R0).join(" ,")+"}"}(t):"Filter"}var Uy=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},By=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=M0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},$y=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=M0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function M0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var Hy=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Gv(n)&&sc(n.arrayValue,this.value)}},qy=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}},zy=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!sc(this.value.arrayValue,n)}},Gy=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sc(this.value.arrayValue,r))}};var Wy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function i0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Wy(t,e,n,r,i,s,o)}function Wv(t){let e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>no(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>no(r)).join(",")),e.ue=n}return e.ue}function Kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!A0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r0(t.startAt,e.startAt)&&r0(t.endAt,e.endAt)}var oo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function uU(t,e,n,r,i,s,o,c){return new oo(t,e,n,r,i,s,o,c)}function lU(t){return new oo(t)}function s0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dU(t){return t.collectionGroup!==null}function tc(t){let e=Ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new pt(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new so(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new so(At.keyField(),r))}return e.ce}function Di(t){let e=Ee(t);return e.le||(e.le=hU(e,tc(t))),e.le}function hU(t,e){if(t.limitType==="F")return i0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new so(i.field,s)});let n=t.endAt?new io(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new io(t.startAt.position,t.startAt.inclusive):null;return i0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ky(t,e,n){return new oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function N0(t,e){return Kv(Di(t),Di(e))&&t.limitType===e.limitType}function x0(t){return`${Wv(Di(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>R0(i)).join(", ")}]`),qv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>no(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>no(i)).join(",")),`Target(${r})`}(Di(t))}; limitType=${t.limitType})`}function Qv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of tc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=n0(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,tc(r),i)||r.endAt&&!function(o,c,u){let l=n0(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,tc(r),i))}(t,e)}function fU(t){return(e,n)=>{let r=!1;for(let i of tc(t)){let s=pU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pU(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?to(u,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Rr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return w0(this.inner)}size(){return this.innerSize}};var gU=new Rt(te.comparator);function Sd(){return gU}var P0=new Rt(te.comparator);function md(...t){let e=P0;for(let n of t)e=e.insert(n.key,n);return e}function O0(t){let e=P0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return nc()}function k0(){return nc()}function nc(){return new Rr(t=>t.toString(),(t,e)=>t.isEqual(e))}var mU=new Rt(te.comparator),yU=new pt(te.comparator);function at(...t){let e=yU;for(let n of t)e=e.add(n);return e}var vU=new pt(we);function _U(){return vU}function Yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function F0(t){return{integerValue:""+t}}function IU(t,e){return tU(e)?F0(e):Yv(t,e)}var ao=class{constructor(){this._=void 0}};function wU(t,e,n){return t instanceof co?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zv(s)&&(s=E0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ai?V0(t,e):t instanceof Ri?j0(t,e):function(i,s){let o=L0(i,s),c=o0(o)+o0(i.Pe);return Vy(o)&&Vy(i.Pe)?F0(c):Yv(i.serializer,c)}(t,e)}function EU(t,e,n){return t instanceof Ai?V0(t,e):t instanceof Ri?j0(t,e):n}function L0(t,e){return t instanceof uo?function(r){return Vy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var co=class extends ao{},Ai=class extends ao{constructor(e){super(),this.elements=e}};function V0(t,e){let n=U0(e);for(let r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ri=class extends ao{constructor(e){super(),this.elements=e}};function j0(t,e){let n=U0(e);for(let r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}var uo=class extends ao{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function o0(t){return ke(t.integerValue||t.doubleValue)}function U0(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ai&&i instanceof Ai||r instanceof Ri&&i instanceof Ri?Js(r.elements,i.elements,mn):r instanceof uo&&i instanceof uo?mn(r.Pe,i.Pe):r instanceof co&&i instanceof co}(t.transform,e.transform)}var Qy=class{constructor(e,n){this.version=e,this.transformResults=n}},bi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function _d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var lo=class{};function B0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ad(t.key,bi.none()):new Mi(t.key,t.data,bi.none());{let n=t.data,r=fn.empty(),i=new pt(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Wn(t.key,r,new pn(i.toArray()),bi.none())}}function bU(t,e,n){t instanceof Mi?function(i,s,o){let c=i.value.clone(),u=c0(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(i,s,o){if(!_d(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=c0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll($0(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rc(t,e,n,r){return t instanceof Mi?function(s,o,c,u){if(!_d(s.precondition,o))return c;let l=s.value.clone(),f=u0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(s,o,c,u){if(!_d(s.precondition,o))return c;let l=u0(s.fieldTransforms,u,o),f=o.data;return f.setAll($0(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return _d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function CU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=L0(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function a0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Js(r,i,(s,o)=>DU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Mi=class extends lo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends lo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function $0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function c0(t,e,n){let r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,EU(o,c,n[i]))}return r}function u0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,wU(s,o,e))}return r}var Ad=class extends lo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yy=class extends lo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&bU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=k0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=B0(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,r)=>a0(n,r))&&Js(this.baseMutations,e.baseMutations,(n,r)=>a0(n,r))}},Jy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length);let i=function(){return mU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Xy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pe,de;function TU(t){switch(t){default:return ae();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function SU(t){if(t===void 0)return Ti("GRPC error has no .code"),R.UNKNOWN;switch(t){case Pe.OK:return R.OK;case Pe.CANCELLED:return R.CANCELLED;case Pe.UNKNOWN:return R.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return R.INTERNAL;case Pe.UNAVAILABLE:return R.UNAVAILABLE;case Pe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Pe.NOT_FOUND:return R.NOT_FOUND;case Pe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Pe.ABORTED:return R.ABORTED;case Pe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Pe.DATA_LOSS:return R.DATA_LOSS;default:return ae()}}(de=Pe||(Pe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var TW=new gy([4294967295,4294967295],0);var ev=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function tv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RU(t,e){return tv(t,e.toTimestamp())}function Zs(t){return Be(!!t),Me.fromTimestamp(function(n){let r=Sr(n);return new ct(r.seconds,r.nanos)}(t))}function H0(t,e){return nv(t,e).canonicalString()}function nv(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MU(t){let e=Fe.fromString(t);return Be(VU(e)),e}function rv(t,e){return H0(t.databaseId,e.path)}function NU(t){let e=MU(t);return e.length===4?Fe.emptyPath():PU(e)}function xU(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PU(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l0(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function OU(t,e){let n;if(e instanceof Mi)n={update:l0(t,e.key,e.value)};else if(e instanceof Ad)n={delete:rv(t,e.key)};else if(e instanceof Wn)n={update:l0(t,e.key,e.data),updateMask:LU(e.fieldMask)};else{if(!(e instanceof Yy))return ae();n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof co)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ai)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ri)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof uo)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:RU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function kU(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zs(i.updateTime):Zs(s);return o.isEqual(Me.min())&&(o=Zs(s)),new Qy(o,i.transformResults||[])}(n,e))):[]}function FU(t){let e=NU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Be(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let y=q0(g);return y instanceof Ar&&S0(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(A){return new so(Qs(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,qv(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){let y=!!g.before,I=g.values||[];return new io(I,y)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let y=!g.before,I=g.values||[];return new io(I,y)}(n.endAt)),uU(e,i,o,s,c,"F",u,l)}function q0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qs(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qs(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Qs(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Qs(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>q0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function Qs(t){return At.fromServerFormat(t.fieldPath)}function LU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var iv=class{constructor(e){this.ct=e}};function jU(t){let e=FU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ky(e,e.limit,"L"):e}var Rd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ic(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Sr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Xs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?b0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):D0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ke(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Rd.vt=new Rd;var sv=class{constructor(){this.un=new ov}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Si.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},ov=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Fe.comparator)).toArray()}};var SW=new Uint8Array(0);var hn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var oc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var av=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var cv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var uv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rc(r.mutation,i,pn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){let i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=md();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Sd(),o=nc(),c=function(){return nc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Wn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),rc(f.mutation,l,f.mutation.getFieldMask(),ct.now())):o.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new cv(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=nc(),i=new Rt((o,c)=>o-c),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||pn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||at()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=k0();f.forEach(y=>{if(!s.has(y)){let I=B0(n.get(y),r.get(y));I!==null&&g.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Ei()),c=-1,u=s;return o.next(l=>M.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,at())).next(f=>({batchId:c,changes:O0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=md();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let l=function(g,y){return new oo(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,ro.newInvalidDocument(f)))});let c=md();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&rc(f.mutation,l,pn.empty(),ct.now()),Qv(n,l)&&(c=c.insert(u,l))}),c})}};var lv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zs(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jU(i.bundledQuery),readTime:Zs(i.readTime)}}(n)),M.resolve()}};var dv=class{constructor(){this.overlays=new Rt(te.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ei();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Ei(),s=n.length+1,o=new te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Ei(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ei(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Xy(n,r));let s=this.Ir.get(n);s===void 0&&(s=at(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var hv=class{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var ac=class{constructor(){this.Tr=new pt(Oe.Er),this.dr=new pt(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new te(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),s=at();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||te.comparator(e.key,n.key)}};var fv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pt(Oe.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Zy(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Oe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(we);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new te(s),0),c=new pt(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var pv=class{constructor(e){this.Mr=e,this.docs=function(){return new Rt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ro.newInvalidDocument(n))}getEntries(e,n){let r=Sd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ro.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sd(),o=n.path,c=new te(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Zj(Yj(f),r)<=0||(i.has(f.key)||Qv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gv(this)}getSize(e){return M.resolve(this.size)}},gv=class extends av{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var mv=class{constructor(e){this.persistence=e,this.Nr=new Rr(n=>Wv(n),Kv),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ac,this.targetCount=0,this.kr=oc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new oc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var yv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new eU(0),this.Kr=!1,this.Kr=!0,this.$r=new hv,this.referenceDelegate=e(this),this.Ur=new mv(this),this.indexManager=new sv,this.remoteDocumentCache=function(i){return new pv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new iv(n),this.Gr=new lv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new fv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new vv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},vv=class extends Py{constructor(e){super(),this.currentSequenceNumber=e}},_v=class t{constructor(e){this.persistence=e,this.Jr=new ac,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=te.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Iv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=at(),i=at();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var wv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ev=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RC()?8:Xj(Ge())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new wv;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ja()<=oe.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(Ja()<=oe.DEBUG&&L("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ja()<=oe.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):M.resolve())}Yi(e,n){if(s0(n))return M.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ky(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=at(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ky(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return s0(n)||i.isEqual(Me.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(Ja()<=oe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.rs(e,o,n,Qj(i,-1)).next(c=>c))})}ts(e,n){let r=new pt(fU(e));return n.forEach((i,s)=>{Qv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ja()<=oe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Si.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Dv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Rt(we),this._s=new Rr(s=>Wv(s),Kv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function UU(t,e,n,r){return new Dv(t,e,n,r)}function z0(t,e){return w(this,null,function*(){let n=Ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=at();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function BU(t,e){let n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,y=g.keys(),I=M.resolve();return y.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(x=>{let N=l.docVersions.get(A);Be(N!==null),x.version.compareTo(N)<0&&(g.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),f.addEntry(x)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=at();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $U(t){let e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function HU(t,e){let n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Md=class{constructor(){this.activeTargetIds=_U()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var bv=class{constructor(){this.so=new Md,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Md,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Cv=class{_o(e){}shutdown(){}};var Nd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yd=null;function Ey(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}var qU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Tv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",Sv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Ey(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Id("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=qU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Ey();return new Promise((o,c)=>{let u=new my;u.setWithCredentials(!0),u.listenOnce(vy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Za.NO_ERROR:let f=u.getResponseJson();L(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Za.TIMEOUT:L(ot,`RPC '${e}' ${s} timed out`),c(new U(R.DEADLINE_EXCEEDED,"Request time out"));break;case Za.HTTP_ERROR:let g=u.getStatus();if(L(ot,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let A=function(N){let F=N.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(I.status);c(new U(A,I.message))}else c(new U(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(R.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{L(ot,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(ot,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ey(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wy(),c=Iy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new yy({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");L(ot,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),y=!1,I=!1,A=new Tv({Io:N=>{I?L(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(L(ot,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),L(ot,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},To:()=>g.close()}),x=(N,F,K)=>{N.listen(F,J=>{try{K(J)}catch(ge){setTimeout(()=>{throw ge},0)}})};return x(g,Ks.EventType.OPEN,()=>{I||(L(ot,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(g,Ks.EventType.CLOSE,()=>{I||(I=!0,L(ot,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(g,Ks.EventType.ERROR,N=>{I||(I=!0,Id(ot,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new U(R.UNAVAILABLE,"The operation could not be completed")))}),x(g,Ks.EventType.MESSAGE,N=>{var F;if(!I){let K=N.data[0];Be(!!K);let J=K,ge=J.error||((F=J[0])===null||F===void 0?void 0:F.error);if(ge){L(ot,`RPC '${e}' stream ${i} received error:`,ge);let Qe=ge.status,fe=function(v){let E=Pe[v];if(E!==void 0)return SU(E)}(Qe),D=ge.message;fe===void 0&&(fe=R.INTERNAL,D="Unknown error status: "+Qe+" with message "+ge.message),I=!0,A.So(new U(fe,D)),g.close()}else L(ot,`RPC '${e}' stream ${i} received:`,K),A.bo(K)}}),x(c,_y.STAT_EVENT,N=>{N.stat===pd.PROXY?L(ot,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===pd.NOPROXY&&L(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Dy(){return typeof document<"u"?document:null}function Hd(t){return new ev(t,!0)}var xd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Av=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Rv=class extends Av{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=kU(e.writeResults,e.commitTime),r=Zs(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=xU(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>OU(this.serializer,r))};this.a_(n)}};var Mv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,nv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,nv(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Nv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ti(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var xv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){lc(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Ee(u);l.L_.add(4),yield uc(l),l.q_.set("Unknown"),l.L_.delete(4),yield qd(l)})}(this))}))}),this.q_=new Nv(r,i)}};function qd(t){return w(this,null,function*(){if(lc(t))for(let e of t.B_)yield e(!0)})}function uc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function lc(t){return Ee(t).L_.size===0}function G0(t,e,n){return w(this,null,function*(){if(!$d(e))throw e;t.L_.add(1),yield uc(t),t.q_.set("Offline"),n||(n=()=>$U(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield qd(t)}))})}function W0(t,e){return e().catch(n=>G0(t,n,e))}function zd(t){return w(this,null,function*(){let e=Ee(t),n=Mr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zU(e);)try{let i=yield HU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,GU(e,i)}catch(i){yield G0(e,i)}K0(e)&&Q0(e)})}function zU(t){return lc(t)&&t.O_.length<10}function GU(t,e){t.O_.push(e);let n=Mr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function K0(t){return lc(t)&&!Mr(t).n_()&&t.O_.length>0}function Q0(t){Mr(t).start()}function WU(t){return w(this,null,function*(){Mr(t).p_()})}function KU(t){return w(this,null,function*(){let e=Mr(t);for(let n of t.O_)e.m_(n.mutations)})}function QU(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Jy.from(r,e,n);yield W0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zd(t)})}function YU(t,e){return w(this,null,function*(){e&&Mr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return TU(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Mr(r).s_(),yield W0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield zd(r)}})}(t,e)),K0(t)&&Q0(t)})}function d0(t,e){return w(this,null,function*(){let n=Ee(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=lc(n);n.L_.add(3),yield uc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield qd(n)})}function ZU(t,e){return w(this,null,function*(){let n=Ee(t);e?(n.L_.delete(2),yield qd(n)):e||(n.L_.add(2),yield uc(n),n.q_.set("Unknown"))})}function Mr(t){return t.U_||(t.U_=function(n,r,i){let s=Ee(n);return s.w_(),new Rv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WU.bind(null,t),mo:YU.bind(null,t),f_:KU.bind(null,t),g_:QU.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield zd(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Pv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Y0(t,e){if(Ti("AsyncQueue",`${e}: ${t}`),$d(t))return new U(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Ov=class{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ee(n),s=i.queries;i.queries=h0(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(R.ABORTED,"Firestore shutting down"))}};function h0(){return new Rr(t=>x0(t),N0)}function JU(t){t.Y_.forEach(e=>{e.next()})}var f0,p0;(p0=f0||(f0={})).ea="default",p0.Cache="cache";var kv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Rr(c=>x0(c),N0),this.Ma=new Map,this.xa=new Set,this.Oa=new Rt(te.comparator),this.Na=new Map,this.La=new ac,this.Ba={},this.ka=new Map,this.qa=oc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function XU(t,e,n){return w(this,null,function*(){let r=r2(t);try{let i=yield function(o,c){let u=Ee(o),l=ct.now(),f=c.reduce((I,A)=>I.add(A.key),at()),g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Sd(),x=at();return u.cs.getEntries(I,f).next(N=>{A=N,A.forEach((F,K)=>{K.isValidDocument()||(x=x.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(N=>{g=N;let F=[];for(let K of c){let J=CU(K,g.get(K.key).overlayedDocument);J!=null&&F.push(new Wn(K.key,J,C0(J.value.mapValue),bi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,F,c)}).next(N=>{y=N;let F=N.applyToLocalDocumentSet(g,x);return u.documentOverlayCache.saveOverlays(I,N.batchId,F)})}).then(()=>({batchId:y.batchId,changes:O0(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Rt(we)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Gd(r,i.changes),yield zd(r.remoteStore)}catch(i){let s=Y0(i,"Failed to persist write");n.reject(s)}})}function g0(t,e,n){let r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Ee(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let y of g.j_)y.Z_(c)&&(l=!0)}),l&&JU(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e2(t,e){return w(this,null,function*(){let n=Ee(t),r=e.batch.batchId;try{let i=yield BU(n.localStore,e);J0(n,r,null),Z0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Gd(n,i)}catch(i){yield I0(i)}})}function t2(t,e,n){return w(this,null,function*(){let r=Ee(t);try{let i=yield function(o,c){let u=Ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(Be(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);J0(r,e,n),Z0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Gd(r,i)}catch(i){yield I0(i)}})}function Z0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function J0(t,e,n){let r=Ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Gd(t,e,n){return w(this,null,function*(){let r=Ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=Iv.Wi(u.targetId,l);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Ee(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(l,y=>M.forEach(y.$i,I=>f.persistence.referenceDelegate.addReference(g,y.targetId,I)).next(()=>M.forEach(y.Ui,I=>f.persistence.referenceDelegate.removeReference(g,y.targetId,I)))))}catch(g){if(!$d(g))throw g;L("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let y=g.targetId;if(!g.fromCache){let I=f.os.get(y),A=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,x)}}})}(r.localStore,s))})}function n2(t,e){return w(this,null,function*(){let n=Ee(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield z0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gd(n,r.hs)}})}function r2(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t2.bind(null,e),e}var Pd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return UU(this.persistence,new Ev,e.initialUser,this.serializer)}createPersistence(e){return new yv(_v.Zr,this.serializer)}createSharedClientState(e){return new bv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Fv=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,this.syncEngine),yield ZU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Ov}()}createDatastore(e){let n=Hd(e.databaseInfo.databaseId),r=function(s){return new Sv(s)}(e.databaseInfo);return function(s,o,c,u){return new Mv(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new xv(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>g0(this.syncEngine,n,0),function(){return Nd.D()?new Nd:new Cv}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let g=new kv(i,s,o,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Ee(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield uc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Lv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Y0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function by(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield z0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function m0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield s2(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d0(e.remoteStore,i)),t._onlineComponents=e})}function i2(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function s2(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield by(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!i2(n))throw n;Id("Error using user provided cache. Falling back to memory cache: "+n),yield by(t,new Pd)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield by(t,new Pd);return t._offlineComponents})}function o2(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield m0(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield m0(t,new Fv))),t._onlineComponents})}function a2(t){return o2(t).then(e=>e.syncEngine)}function X0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var y0=new Map;function eS(t,e,n){if(!n)throw new U(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c2(t,e,n,r){if(e===!0&&r===!0)throw new U(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v0(t){if(!te.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _0(t){if(te.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function tS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Zv(t);throw new U(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Od=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ho=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Od({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Od(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cy;switch(r.type){case"firstParty":return new Ry(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=y0.get(n);r&&(L("ComponentProvider","Removing Datastore"),y0.delete(n),r.terminate())}(this),Promise.resolve()}};function nS(t,e,n,r={}){var i;let s=(t=tS(t,ho))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Id("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=We.MOCK_USER;else{c=bC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}t._authCredentials=new Ty(new wd(c,u))}}var Vv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Tr=class t extends Vv{constructor(e,n,r){super(e,n,lU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function rS(t,e,...n){if(t=ft(t),eS("collection","path",e),t instanceof ho){let r=Fe.fromString(e,...n);return _0(r),new Tr(t,null,r)}{if(!(t instanceof zn||t instanceof Tr))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return _0(r),new Tr(t.firestore,null,r)}}function iS(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Ed.newId()),eS("doc","path",e),t instanceof ho){let r=Fe.fromString(e,...n);return v0(r),new zn(t,null,new te(r))}{if(!(t instanceof zn||t instanceof Tr))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return v0(r),new zn(t.firestore,t instanceof Tr?t.converter:null,new te(r))}}var jv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new xd(this,"async_queue_retry"),this.Eu=()=>{let n=Dy();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Dy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Dy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new qn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!$d(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Ti("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Pv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ae()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var kd=class extends ho{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oS(this),this._firestoreClient.terminate()}};function sS(t,e){let n=typeof t=="object"?t:$s(),r=typeof t=="string"?t:e||"(default)",i=Ua(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=DC("firestore");s&&nS(i,...s)}return i}function u2(t){return t._firestoreClient||oS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oS(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new ky(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,X0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Lv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Fd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Gn.fromBase64String(e))}catch(n){throw new U(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ld=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vd=class{constructor(e){this._methodName=e}};var jd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Ud=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var l2=/^__.*__$/,Uv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mi(e,this.data,n,this.fieldTransforms)}};function aS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var Bv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Bd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(aS(this.wu)&&l2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},$v=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hd(e)}Nu(e,n,r,i=!1){return new Bv({wu:e,methodName:n,Ou:r,path:At.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function d2(t){let e=t._freezeSettings(),n=Hd(t._databaseId);return new $v(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h2(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);dS("Data must be an object, but it was:",o,r);let c=uS(r,o),u,l;if(s.merge)u=new pn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let y=f2(e,g,n);if(!o.contains(y))throw new U(R.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);m2(f,y)||f.push(y)}u=new pn(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new Uv(new fn(c),u,l)}function cS(t,e){if(lS(t=ft(t)))return dS("Unsupported field value:",e,t),uS(t,e);if(t instanceof Vd)return function(r,i){if(!aS(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=cS(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ct.fromDate(r);return{timestampValue:tv(i.serializer,s)}}if(r instanceof ct){let s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tv(i.serializer,s)}}if(r instanceof jd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fd)return{bytesValue:AU(i.serializer,r._byteString)};if(r instanceof zn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:H0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ud)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Yv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Zv(r)}`)}(t,e)}function uS(t,e){let n={};return w0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(t,(r,i)=>{let s=cS(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof jd||t instanceof Fd||t instanceof zn||t instanceof Vd||t instanceof Ud)}function dS(t,e,n){if(!lS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Zv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function f2(t,e,n){if((e=ft(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return g2(t,e);throw Bd("Field path arguments must be of type string or ",t,!1,void 0,n)}var p2=new RegExp("[~\\*/\\[\\]]");function g2(t,e,n){if(e.search(p2)>=0)throw Bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ld(...e.split("."))._internalPath}catch{throw Bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(R.INVALID_ARGUMENT,c+t+u)}function m2(t,e){return t.some(n=>n.isEqual(e))}function y2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function hS(t,e){let n=tS(t.firestore,kd),r=iS(t),i=y2(t.converter,e);return v2(n,[h2(d2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then(()=>r)}function v2(t,e){return function(r,i){let s=new qn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return XU(yield a2(r),i,s)})),s.promise}(u2(t),e)}(function(e,n=!0){(function(i){fo=i})(wr),Ir(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new kd(new Sy(r.getProvider("auth-internal")),new Ny(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fy(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ue(JT,"4.7.1",e),Ue(JT,"4.7.1","esm2017")})();var Ni=class{constructor(e){return e}},fS="firestore",Jv=class{constructor(){return Ba(fS)}};var Xv=new j("angularfire2.firestore-instances");function _2(t,e){let n=Wl(fS,t,e);return n&&new Ni(n)}function I2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var w2={provide:Jv,deps:[[new ht,Xv]]},E2={provide:Ni,useFactory:_2,deps:[[new ht,Xv],jn]};function pS(t,...e){return Ue("angularfire",mi.full,"fst"),sn([E2,w2,{provide:Xv,useFactory:I2(t),multi:!0,deps:[ve,vt,zs,yi,[new ht,Ya],[new ht,qs],...e]}])}var gS=Qt(hS,!0);var mS=Qt(rS,!0);var yS=Qt(sS,!0);function b2(t,e){t&1&&(B(0,"button",9),be(1,"span",13),B(2,"span",14),he(3,"Iniciando sesi\xF3n..."),H()())}var Wd=class t{constructor(e,n,r){this.router=e;this.auth=n;this.firestore=r}userMail="";userPwd="";isLoading=!1;login(){return w(this,null,function*(){WT(this.auth,this.userMail,this.userPwd).then(e=>{this.registerLogin(),this.goTo("home"),console.log(`Usuario logueado: ${this.auth.currentUser?.email}`)}).catch(e=>{console.log(e)})})}registerLogin(){return w(this,null,function*(){try{this.isLoading=!0;let e=mS(this.firestore,"logins");yield gS(e,{fecha:new Date,user:this.userMail}),this.isLoading=!1}catch(e){console.log(e)}})}signUp(){this.goTo("register")}autocomplete(){this.userMail="invitado@juegardopolis.com",this.userPwd="hola12345"}goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(G(cn),G(Yt),G(Ni))};static \u0275cmp=xe({type:t,selectors:[["app-login"]],standalone:!0,features:[ze],decls:21,vars:3,consts:[[1,"login-container"],[1,"login-form"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","disabled","",1,"btn","btn-primary"],["type","button",1,"btn","btn-success",3,"click"],[1,"button-group","button-group-auto"],["type","button",1,"btn","btn-secondary",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"sr-only"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"form",1)(2,"h2"),he(3,"Iniciar sesi\xF3n"),H(),B(4,"div",2)(5,"label",3),he(6,"Nombre de usuario:"),H(),B(7,"input",4),ii("ngModelChange",function(s){return Ds(r.userMail,s)||(r.userMail=s),s}),H()(),B(8,"div",2)(9,"label",5),he(10,"Contrase\xF1a:"),H(),B(11,"input",6),ii("ngModelChange",function(s){return Ds(r.userPwd,s)||(r.userPwd=s),s}),H()(),B(12,"div",7)(13,"button",8),_t("click",function(){return r.login()}),he(14,"Ingresar"),H(),on(15,b2,4,0,"button",9),B(16,"button",10),_t("click",function(){return r.signUp()}),he(17,"Registrarse"),H()(),B(18,"div",11)(19,"button",12),_t("click",function(){return r.autocomplete()}),he(20,"Autocompletar"),H()()()()),n&2&&(qe(7),ri("ngModel",r.userMail),qe(4),ri("ngModel",r.userPwd),qe(4),ta(r.isLoading?15:-1))},dependencies:[Ul,jl,js,Fl,Ll,ka,Oa,Pa],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f0f0f0}.login-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:300px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#555}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.login-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.signup-btn[_ngcontent-%COMP%]{background-color:#008cba;color:#fff}.signup-btn[_ngcontent-%COMP%]:hover{background-color:#007b9e}.button-group-auto[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})};var Kd=class t{gameData;constructor(){}get title(){return this.gameData?.title}get description(){return this.gameData?.description}get key(){return this.gameData?.id}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-game-card"]],inputs:{gameData:"gameData"},standalone:!0,features:[ze],decls:8,vars:3,consts:[[1,"col",3,"id"],[1,"card","h-100"],["src","...","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"div",1),be(2,"img",2),B(3,"div",3)(4,"h5",4),he(5),H(),B(6,"p",5),he(7),H()()()()),n&2&&(Zp("id",r.key),qe(5),Es(r.title),qe(2),Es(r.description))}})};function C2(t,e){if(t&1&&(Qp(0),be(1,"app-game-card",5),Yp()),t&2){let n=e.$implicit;qe(),ws("gameData",n)}}var Qd=class t{username="";games=[{id:1,title:"Game 1",description:"Description 1"},{id:2,title:"Game 2",description:"Description 2"},{id:3,title:"Game 3",description:"Description 3"},{id:4,title:"Game 4",description:"Description 4"}];constructor(){}ngOnInit(){this.username=localStorage.getItem("username")||""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-home"]],standalone:!0,features:[ze],decls:6,vars:1,consts:[[1,"flex","flex-col","min-h-screen","home-container"],[1,"flex-1","container","py-6","main-container"],[1,"text-3xl","font-bold","mb-6"],[1,"row","row-cols-1","row-cols-md-3","g-4"],[4,"ngFor","ngForOf"],[3,"gameData"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"main",1)(2,"h1",2),he(3,"Selecciona un juego"),H(),B(4,"div",3),on(5,C2,2,1,"ng-container",4),H()()()),n&2&&(qe(5),ws("ngForOf",r.games))},dependencies:[Kd,ig,ib],styles:[".home-container[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]{height:100%}h1[_ngcontent-%COMP%]{font-size:2rem;color:#fff;text-align:center}"]})};var Yd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-about"]],standalone:!0,features:[ze],decls:19,vars:0,consts:[[1,"container","mt-5","about-container"],[1,"row","columna-a"],[1,"col-md-5"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],["src","../../../assets/about/about-img.png","alt","Creador de la App",1,"card-img-top","user-img"],[1,"col-md-6"],[1,"card-title"],[1,"card-text"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),he(6,"Alex Stocki"),H()(),be(7,"img",6),H()(),B(8,"div",7)(9,"div",3)(10,"div",4)(11,"h2",8),he(12,"Sobre la Aplicaci\xF3n"),H(),B(13,"p",9),he(14," WebApp creada como trabajo pr\xE1ctico para la materia Laboratorio IV."),be(15,"br"),he(16," Sala de juegos con m\xE9tricas de los juegos y chat integrado."),be(17,"br"),he(18," Incluye un juego propio que consiste en xxx-descripcion del juego-xxx. "),H()()()()()())},styles:[".about-container[_ngcontent-%COMP%]{height:100%}.columna-a[_ngcontent-%COMP%]{background-color:#333;padding-bottom:1.5rem}.card[_ngcontent-%COMP%]{background-color:#333;color:#fff;border:none}.user-img[_ngcontent-%COMP%]{mask-image:linear-gradient(black 80%,transparent)}"]})};function T2(t,e){t&1&&(B(0,"button",7),be(1,"span",11),B(2,"span",12),he(3,"Registrando..."),H()())}function S2(t,e){if(t&1&&(B(0,"div",10)(1,"p",13),he(2),H()()),t&2){let n=sl();qe(2),Es(n.msjError)}}var Zd=class t{constructor(e,n){this.router=e;this.auth=n}newUserMail="";newUserPwd="";flagError=!1;msjError="";isLoading=!1;Register(){this.flagError=!1,this.isLoading=!0,zT(this.auth,this.newUserMail,this.newUserPwd).then(e=>{e.user.email!==null&&(this.flagError=!1,this.isLoading=!1,this.goTo("home"))}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email invalido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;default:this.msjError=e.code;break}})}goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(G(cn),G(Yt))};static \u0275cmp=xe({type:t,selectors:[["app-register"]],standalone:!0,features:[ze],decls:17,vars:4,consts:[[1,"login-container"],[1,"login-form"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","placeholder","usuario@ejemplo.com",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","Ingresa tu contrase\xF1a",3,"ngModelChange","ngModel"],["type","button","disabled","",1,"btn","btn-primary"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"error-line"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"sr-only"],[1,"text-center","text-alert"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"form",1)(2,"h2"),he(3,"Registrarse"),H(),B(4,"div",2)(5,"label",3),he(6,"Mail:"),H(),B(7,"input",4),ii("ngModelChange",function(s){return Ds(r.newUserMail,s)||(r.newUserMail=s),s}),H()(),B(8,"div",2)(9,"label",5),he(10,"Contrase\xF1a:"),H(),B(11,"input",6),ii("ngModelChange",function(s){return Ds(r.newUserPwd,s)||(r.newUserPwd=s),s}),H()(),on(12,T2,4,0,"button",7),B(13,"div",8)(14,"button",9),_t("click",function(){return r.Register()}),he(15,"Registrarse"),H()(),on(16,S2,3,1,"div",10),H()()),n&2&&(qe(7),ri("ngModel",r.newUserMail),qe(4),ri("ngModel",r.newUserPwd),qe(),ta(r.isLoading?12:-1),qe(4),ta(r.flagError?16:-1))},dependencies:[Ul,jl,js,Fl,Ll,ka,Oa,Pa],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f0f0f0}.login-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:300px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#555}input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1.5rem}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.login-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.signup-btn[_ngcontent-%COMP%]{background-color:#008cba;color:#fff}.signup-btn[_ngcontent-%COMP%]:hover{background-color:#007b9e}.button-group-auto[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.error-line[_ngcontent-%COMP%]{margin-top:1.5rem;justify-content:center;color:red}"]})};function A2(t,e){if(t&1&&(B(0,"div",1)(1,"div",2),he(2),H()()),t&2){let n=sl();qe(2),ol(" ",n.getErrorMessage," ")}}var Jd=class t{errorMessage="";constructor(){this.errorMessage="Error al iniciar sesi\xF3n o al intentar registrarse"}getErrorMessage(){return this.errorMessage}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["not-found"]],decls:1,vars:1,consts:[["class","error-container",4,"ngIf"],[1,"error-container"],[1,"error-message"]],template:function(n,r){n&1&&on(0,A2,3,1,"div",0),n&2&&ws("ngIf",r.errorMessage)},styles:[".error-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#00000080;z-index:1000}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;padding:20px;border-radius:4px;text-align:center;max-width:80%;box-shadow:0 2px 10px #0000001a}"]})};var vS=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Wd},{path:"home",component:Qd},{path:"about",component:Yd},{path:"register",component:Zd},{path:"**",component:Jd}];var _S={providers:[qD({eventCoalescing:!0}),Zb(vS),WC(()=>KC({projectId:"juegardopolis",appId:"1:736166239747:web:d4b1f3830a5fb278943836",storageBucket:"juegardopolis.appspot.com",apiKey:"AIzaSyB9ZFk0VfMlidVAaC7Pb9r1fh4qMuV3E-w",authDomain:"juegardopolis.firebaseapp.com",messagingSenderId:"736166239747"})),qT(()=>GT()),pS(()=>yS())]};var Xd=class t{constructor(e,n){this.router=e;this.auth=n}logout(){console.log(`Estaba logueado: ${this.auth.currentUser?.email}`),KT(this.auth).then(e=>{this.goTo("login")})}goTo(e){this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(G(cn),G(Yt))};static \u0275cmp=xe({type:t,selectors:[["app-navbar"]],standalone:!0,features:[ze],decls:9,vars:0,consts:[[1,"navbar","navbar-container"],[1,"container-fluid","navbar-container"],["routerLink","home","routerLinkActive","active-route",1,"navbar-logo"],["src","../../../assets/navbar/nav-icon.png","alt","Bootstrap","width","50","height","50"],[1,"logout-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-right"],["fill-rule","evenodd","d","M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"],["fill-rule","evenodd","d","M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"]],template:function(n,r){n&1&&(B(0,"nav",0)(1,"div",1)(2,"button",2),be(3,"img",3),H(),B(4,"button",4),_t("click",function(){return r.logout()}),EE(),B(5,"svg",5),be(6,"path",6)(7,"path",7),H(),he(8," Salir "),H()()())},dependencies:[Ps,Al],styles:[".navbar-container[_ngcontent-%COMP%]{background-color:#00bfa6}.logout-btn[_ngcontent-%COMP%], .navbar-logo[_ngcontent-%COMP%]{border:none;background-color:transparent}"]})};var eh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-footer"]],standalone:!0,features:[ze],decls:23,vars:0,consts:[[1,"bg-dark","text-white","mt-4"],[1,"container","py-4"],[1,"row","justify-content-center"],[1,"col-md-6","text-center"],[1,"list-unstyled","d-flex","flex-row","justify-content-center"],[1,"mx-2"],["href","https://instagram.com/stockialex","target","_blank",1,"text-white"],[1,"bi","bi-instagram","footer-icon"],["href","https://github.com/stockia","target","_blank",1,"text-white"],[1,"bi","bi-github","footer-icon"],["href","https://linkedin.com/in/alexstocki/","target","_blank",1,"text-white"],[1,"bi","bi-linkedin","footer-icon"],["routerLink","about","routerLinkActive","active-route",1,"user-icon-btn"],[1,"bi","bi-person-raised-hand","user-icon"]],template:function(n,r){n&1&&(B(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),he(5,"Seguime"),H(),B(6,"ul",4)(7,"li",5)(8,"a",6),be(9,"i",7),H()(),B(10,"li",5)(11,"a",8),be(12,"i",9),H()(),B(13,"li",5)(14,"a",10),be(15,"i",11),H()()()(),B(16,"div",3)(17,"h4"),he(18,"Acerca de mi"),H(),B(19,"ul",4)(20,"li",5)(21,"button",12),be(22,"i",13),H()()()()()()())},dependencies:[Ps,Al],styles:[".footer-container[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:10px 0}.footer-icon[_ngcontent-%COMP%], .user-icon[_ngcontent-%COMP%]{font-size:1.5rem;transition:color .7s ease}.user-icon-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#fff}.footer-icon[_ngcontent-%COMP%]:hover{color:#007bff}.user-icon[_ngcontent-%COMP%]:hover{color:#28a745}"]})};var th=class t{title="juegardopolis";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-root"]],standalone:!0,features:[ze],decls:4,vars:0,consts:[[1,"main-container"]],template:function(n,r){n&1&&(B(0,"div",0),be(1,"app-navbar")(2,"router-outlet")(3,"app-footer"),H())},dependencies:[zg,Xd,eh],styles:[".main-container[_ngcontent-%COMP%]{flex:1;flex-direction:column;height:100%;background-color:#333}"]})};pb(th,_S).catch(t=>console.error(t));
