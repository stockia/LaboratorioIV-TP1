<div class="container text-center mt-5 game-container">
    <h1>Juego Mayor o Menor</h1>
  
    <div class="my-4 d-flex align-items-center justify-content-center">
      @if (prevCard) {
        <div class="prev-card-body align-items-center justify-content-center">
          <div class="prev-card-body d-flex">
            <img [src]="prevCard.images.png" alt="Carta" />
          </div>
        </div>
      }
      @if (!isLoadingCurrentCard) {
        <div class="card mx-2">
          <div class="card-body d-flex align-items-center justify-content-center">
            <img [src]="currentCard.images.png" alt="Carta" />
          </div>
        </div>
      } @else {
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      }
    </div>
  
    <div class="my-4" *ngIf="!gameOver">
      <p class="h4">¿La siguiente carta será mayor o menor?</p>
      <button class="btn btn-primary m-2" (click)="guess(true)">Mayor</button>
      <button class="btn btn-primary m-2" (click)="guess(false)">Menor</button>
    </div>
  
    <div class="my-4">
      <p class="h5">{{ message }}</p>
    </div>
  
    <div class="my-4">
      <p class="h4">Puntos: {{ points }}</p>
    </div>
  
    <div class="my-4">
      <button class="btn btn-secondary m-2" 
        (click)="startGame()"
        [disabled]="isSavingScore"
      >
        Reiniciar Juego
      </button>
      <button class="btn btn-secondary m-2"
        (click)="finishGame()"
        [disabled]="!hasWonOne || isSavingScore"
      >
        @if (isSavingScore) {Guardando resultado}
        @else {Finalizar}
      </button>
    </div>
  </div>
  
  <app-chat></app-chat>
